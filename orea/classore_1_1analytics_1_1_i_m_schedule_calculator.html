<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<title>OREAnalytics: IMScheduleCalculator Class Reference</title>
<link href="https://fonts.googleapis.com/css?family=Merriweather+Sans|Open+Sans" rel="stylesheet">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="favicon.png">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="oreaextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname"><a href="https://rkapl123.github.io/OREAnnotatedSource/">
       <img src="logo-analytics@2x.png" alt="Logo" width="150" height="68" style="float: left; padding: 15px;"/></a>
   <div id="projectbrief">Fully annotated reference manual - version 1.8.12</div>
   </div>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceore.html">ore</a></li><li class="navelem"><a class="el" href="namespaceore_1_1analytics.html">analytics</a></li><li class="navelem"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html">IMScheduleCalculator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classore_1_1analytics_1_1_i_m_schedule_calculator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">IMScheduleCalculator Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="imschedulecalculator_8hpp_source.html">orea/simm/imschedulecalculator.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for IMScheduleCalculator:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator__coll__graph.png" border="0" usemap="#a_i_m_schedule_calculator_coll__map" alt="Collaboration graph"/></div>
<map name="a_i_m_schedule_calculator_coll__map" id="a_i_m_schedule_calculator_coll__map">
<area shape="rect" title=" " alt="" coords="2567,2469,2801,2861"/>
<area shape="rect" href="classore_1_1analytics_1_1_crif.html" title=" " alt="" coords="975,1971,1185,2407"/>
<area shape="rect" title=" " alt="" coords="645,1831,718,1871"/>
<area shape="rect" title=" " alt="" coords="810,1824,945,1879"/>
<area shape="rect" href="structore_1_1analytics_1_1_crif_record.html" title=" " alt="" coords="777,1193,978,1747"/>
<area shape="rect" title=" " alt="" coords="975,1817,1185,1886"/>
<area shape="rect" title=" " alt="" coords="483,159,541,199"/>
<area shape="rect" title=" " alt="" coords="316,995,463,1065"/>
<area shape="rect" title=" " alt="" coords="449,563,575,603"/>
<area shape="rect" title=" " alt="" coords="2633,563,2733,603"/>
<area shape="rect" title=" " alt="" coords="1752,1809,1925,1893"/>
<area shape="rect" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html" title=" " alt="" coords="1503,973,1678,1087"/>
<area shape="rect" title=" " alt="" coords="439,5,585,45"/>
<area shape="rect" title=" " alt="" coords="968,563,1072,603"/>
<area shape="rect" title=" " alt="" coords="896,1010,976,1050"/>
<area shape="rect" title=" " alt="" coords="1366,563,1418,603"/>
<area shape="rect" title=" " alt="" coords="2314,1003,2481,1057"/>
<area shape="rect" target="_parent" href="../ored/classore_1_1data_1_1_netting_set_details.html" title=" " alt="" coords="1853,401,2014,764"/>
<area shape="rect" title=" " alt="" coords="2108,1003,2284,1057"/>
<area shape="rect" title=" " alt="" coords="1895,1003,2078,1057"/>
<area shape="rect" target="_parent" href="../ored/classore_1_1data_1_1_x_m_l_serializable.html" title=" " alt="" coords="1982,108,2130,251"/>
<area shape="rect" title=" " alt="" coords="2323,159,2381,199"/>
<area shape="rect" title=" " alt="" coords="194,555,331,610"/>
<area shape="rect" title=" " alt="" coords="2757,563,2856,603"/>
<area shape="rect" title=" " alt="" coords="2938,1435,3118,1505"/>
<area shape="rect" title=" " alt="" coords="2711,988,2971,1072"/>
<area shape="rect" title=" " alt="" coords="3621,981,3837,1079"/>
<area shape="rect" title=" " alt="" coords="4185,988,4380,1072"/>
<area shape="rect" title=" " alt="" coords="3265,1003,3415,1057"/>
<area shape="rect" title=" " alt="" coords="4763,995,4949,1065"/>
<area shape="rect" title=" " alt="" coords="4405,973,4613,1087"/>
<area shape="rect" title=" " alt="" coords="2561,5,2599,45"/>
<area shape="rect" title=" " alt="" coords="1880,159,1957,199"/>
<area shape="rect" title=" " alt="" coords="2550,159,2589,199"/>
<area shape="rect" title=" " alt="" coords="853,563,944,603"/>
<area shape="rect" title=" " alt="" coords="537,1003,684,1057"/>
<area shape="rect" title=" " alt="" coords="1506,1435,1675,1505"/>
<area shape="rect" title=" " alt="" coords="1005,1450,1155,1490"/>
<area shape="rect" title=" " alt="" coords="799,2161,950,2216"/>
<area shape="rect" href="classbool.html" title=" " alt="" coords="1291,563,1341,603"/>
<area shape="rect" title=" " alt="" coords="4003,563,4090,603"/>
<area shape="rect" title=" " alt="" coords="2426,541,2609,625"/>
<area shape="rect" title=" " alt="" coords="3590,541,3773,625"/>
<area shape="rect" title=" " alt="" coords="4563,548,4746,617"/>
<area shape="rect" title=" " alt="" coords="5027,555,5210,610"/>
<area shape="rect" title=" " alt="" coords="1475,563,1528,603"/>
<area shape="rect" title=" " alt="" coords="2039,563,2164,603"/>
<area shape="rect" title=" " alt="" coords="4771,526,5003,639"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html">IMScheduleTradeData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a4103a2ea27768a1f9e2ad946c123a9cb"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structore_1_1analytics_1_1_crif_record.html#aac3c9ca896a60df32236fdc4ef53bdc9">CrifRecord::ProductClass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a4103a2ea27768a1f9e2ad946c123a9cb">ProductClass</a></td></tr>
<tr class="separator:a4103a2ea27768a1f9e2ad946c123a9cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a998b3ec5877c4bd02627f4f698273e"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structore_1_1analytics_1_1_crif_record.html#a1c18a2eca0437452edb56ef0965d3ec2">CrifRecord::RiskType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a3a998b3ec5877c4bd02627f4f698273e">RiskType</a></td></tr>
<tr class="separator:a3a998b3ec5877c4bd02627f4f698273e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fe019559f73d77aa78b124585bde62f"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#ad161a2b20dc3904152efa20d4248536d">SimmConfiguration::Regulation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a7fe019559f73d77aa78b124585bde62f">Regulation</a></td></tr>
<tr class="separator:a7fe019559f73d77aa78b124585bde62f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbff2a0e62c01d190bc46ff1461f7ddc"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmConfiguration::SimmSide</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#afbff2a0e62c01d190bc46ff1461f7ddc">SimmSide</a></td></tr>
<tr class="separator:afbff2a0e62c01d190bc46ff1461f7ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abe5477980f0d1e14f04ee5ac68f46636"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abe5477980f0d1e14f04ee5ac68f46636">IMScheduleCalculator</a> (const <a class="el" href="classore_1_1analytics_1_1_crif.html">Crif</a> &amp;crif, const std::string &amp;calculationCcy=&quot;USD&quot;, const QuantLib::ext::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_market.html">ore::data::Market</a> &gt; market=nullptr, const <a class="el" href="classbool.html">bool</a> determineWinningRegulations=true, const <a class="el" href="classbool.html">bool</a> enforceIMRegulations=false, const <a class="el" href="classbool.html">bool</a> quiet=false, const std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::set&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a> &gt; &gt; &amp;hasSEC=std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::set&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a> &gt; &gt;(), const std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::set&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a> &gt; &gt; &amp;hasCFTC=std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::set&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a> &gt; &gt;())</td></tr>
<tr class="memdesc:abe5477980f0d1e14f04ee5ac68f46636"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html">IMScheduleCalculator</a> from a container of netted CRIF records.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abe5477980f0d1e14f04ee5ac68f46636">More...</a><br /></td></tr>
<tr class="separator:abe5477980f0d1e14f04ee5ac68f46636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c7eea9571d36346abceb7dfa72091b5"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::set&lt; std::string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1c7eea9571d36346abceb7dfa72091b5">finalTradeIds</a> () const</td></tr>
<tr class="memdesc:a1c7eea9571d36346abceb7dfa72091b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give back the set of portfolio IDs and trade IDs for which we have IM results.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1c7eea9571d36346abceb7dfa72091b5">More...</a><br /></td></tr>
<tr class="separator:a1c7eea9571d36346abceb7dfa72091b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3644fe506caa0f144d28ff3f65ca1cb"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad3644fe506caa0f144d28ff3f65ca1cb">winningRegulations</a> (const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;side, const <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a> &amp;nettingSetDetails) const</td></tr>
<tr class="memdesc:ad3644fe506caa0f144d28ff3f65ca1cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the winning regulation for each portfolioId.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad3644fe506caa0f144d28ff3f65ca1cb">More...</a><br /></td></tr>
<tr class="separator:ad3644fe506caa0f144d28ff3f65ca1cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c411b3c186350a6cf759b4b6306baf6"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, string &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a7c411b3c186350a6cf759b4b6306baf6">winningRegulations</a> (const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;side) const</td></tr>
<tr class="separator:a7c411b3c186350a6cf759b4b6306baf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63f1b3dc11be852005c07fc84f63098d"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, string &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a63f1b3dc11be852005c07fc84f63098d">winningRegulations</a> () const</td></tr>
<tr class="separator:a63f1b3dc11be852005c07fc84f63098d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2640a15607d672272fbc972226a4f1ee"><td class="memItemLeft" align="right" valign="top">const std::map&lt; std::string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a2640a15607d672272fbc972226a4f1ee">imScheduleSummaryResults</a> (const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;side, const <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a> &amp;nsd) const</td></tr>
<tr class="memdesc:a2640a15607d672272fbc972226a4f1ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give back the IM Schedule results container for the given portfolioId and IM side.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a2640a15607d672272fbc972226a4f1ee">More...</a><br /></td></tr>
<tr class="separator:a2640a15607d672272fbc972226a4f1ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9afb125ef05b8c1396ad459527c966e8"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::map&lt; std::string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a9afb125ef05b8c1396ad459527c966e8">imScheduleSummaryResults</a> (const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;side) const</td></tr>
<tr class="separator:a9afb125ef05b8c1396ad459527c966e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ded38799785666c078df3559e5afef2"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::map&lt; std::string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> &gt; &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1ded38799785666c078df3559e5afef2">imScheduleSummaryResults</a> () const</td></tr>
<tr class="separator:a1ded38799785666c078df3559e5afef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9636b0c81de48ecfaaac316a3c2de2"><td class="memItemLeft" align="right" valign="top">const std::pair&lt; std::string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abf9636b0c81de48ecfaaac316a3c2de2">finalImScheduleSummaryResults</a> (const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;side, const <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a> &amp;nsd) const</td></tr>
<tr class="separator:abf9636b0c81de48ecfaaac316a3c2de2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c1cacca236dde6bf0a0b2ba7a68505d"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::pair&lt; std::string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a8c1cacca236dde6bf0a0b2ba7a68505d">finalImScheduleSummaryResults</a> (const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;side) const</td></tr>
<tr class="separator:a8c1cacca236dde6bf0a0b2ba7a68505d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d4497042281550c54b1dada86f078b8"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::pair&lt; std::string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> &gt; &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a6d4497042281550c54b1dada86f078b8">finalImScheduleSummaryResults</a> () const</td></tr>
<tr class="separator:a6d4497042281550c54b1dada86f078b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f97a740ccd011164f16e32baa568a9"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html">IMScheduleTradeData</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a78f97a740ccd011164f16e32baa568a9">imScheduleTradeResults</a> (const std::string &amp;tradeId) const</td></tr>
<tr class="memdesc:a78f97a740ccd011164f16e32baa568a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give back the IM Schedule results container for the given tradeId and IM side.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a78f97a740ccd011164f16e32baa568a9">More...</a><br /></td></tr>
<tr class="separator:a78f97a740ccd011164f16e32baa568a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2613d6585d6d55e8467861cd87b7c183"><td class="memItemLeft" align="right" valign="top">const std::map&lt; std::string, std::vector&lt; <a class="el" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html">IMScheduleTradeData</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a2613d6585d6d55e8467861cd87b7c183">imScheduleTradeResults</a> () const</td></tr>
<tr class="separator:a2613d6585d6d55e8467861cd87b7c183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2377c471c7a7de64db93059bd9e4f8af"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html">IMScheduleTradeData</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a2377c471c7a7de64db93059bd9e4f8af">finalImScheduleTradeResults</a> (const std::string &amp;tradeId) const</td></tr>
<tr class="separator:a2377c471c7a7de64db93059bd9e4f8af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2e6bc831ff843673c76a886033900ae"><td class="memItemLeft" align="right" valign="top">const std::map&lt; std::string, <a class="el" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html">IMScheduleTradeData</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#af2e6bc831ff843673c76a886033900ae">finalImScheduleTradeResults</a> () const</td></tr>
<tr class="separator:af2e6bc831ff843673c76a886033900ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1e5ad6cbecb8c2af1fdeb70d4b06a35"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa1e5ad6cbecb8c2af1fdeb70d4b06a35">calculationCurrency</a> () const</td></tr>
<tr class="memdesc:aa1e5ad6cbecb8c2af1fdeb70d4b06a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the calculator's calculation currency.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa1e5ad6cbecb8c2af1fdeb70d4b06a35">More...</a><br /></td></tr>
<tr class="separator:aa1e5ad6cbecb8c2af1fdeb70d4b06a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa936c119f6230d0eed00b790981bef02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa936c119f6230d0eed00b790981bef02">populateFinalResults</a> (const std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::string &gt; &gt; &amp;<a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad3644fe506caa0f144d28ff3f65ca1cb">winningRegulations</a>)</td></tr>
<tr class="separator:aa936c119f6230d0eed00b790981bef02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a821c88791e4e2c81f2c1c8592e4725b0"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191">IMScheduleLabel</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a821c88791e4e2c81f2c1c8592e4725b0">label</a> (const <a class="el" href="structore_1_1analytics_1_1_crif_record.html#aac3c9ca896a60df32236fdc4ef53bdc9">ProductClass</a> &amp;productClass, const QuantLib::Real &amp;<a class="elRef" href="../ored/model_2utilities_8cpp.html#a13d7d92e74b3e8c94c52ca7a1262c55e">maturity</a>)</td></tr>
<tr class="separator:a821c88791e4e2c81f2c1c8592e4725b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8bd465614386e7af2eabf322d79cf41"><td class="memItemLeft" align="right" valign="top">static const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa8bd465614386e7af2eabf322d79cf41">labelString</a> (const <a class="el" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191">IMScheduleLabel</a> &amp;<a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a821c88791e4e2c81f2c1c8592e4725b0">label</a>)</td></tr>
<tr class="separator:aa8bd465614386e7af2eabf322d79cf41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae07fd12d61fb68b792a9a93c6403cc58"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ae07fd12d61fb68b792a9a93c6403cc58">multiplier</a> (const <a class="el" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191">IMScheduleLabel</a> &amp;<a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a821c88791e4e2c81f2c1c8592e4725b0">label</a>)</td></tr>
<tr class="separator:ae07fd12d61fb68b792a9a93c6403cc58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5505c64d1b30045a035ac4ee2ceb30a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad5505c64d1b30045a035ac4ee2ceb30a">collectTradeData</a> (const <a class="el" href="structore_1_1analytics_1_1_crif_record.html">CrifRecord</a> &amp;cr, const <a class="el" href="classbool.html">bool</a> enforceIMRegulations)</td></tr>
<tr class="memdesc:ad5505c64d1b30045a035ac4ee2ceb30a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collect trade data as defined by the CRIF records.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad5505c64d1b30045a035ac4ee2ceb30a">More...</a><br /></td></tr>
<tr class="separator:ad5505c64d1b30045a035ac4ee2ceb30a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1c05bf5c47d62c61d52b3c2770e7019"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ae1c05bf5c47d62c61d52b3c2770e7019">populateResults</a> (const <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a> &amp;nsd, const string &amp;regulation, const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;side)</td></tr>
<tr class="separator:ae1c05bf5c47d62c61d52b3c2770e7019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a042350faccc6edc921037241553b2b47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a042350faccc6edc921037241553b2b47">populateFinalResults</a> ()</td></tr>
<tr class="separator:a042350faccc6edc921037241553b2b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7d565ad2528550ec24e79e9d80702fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad7d565ad2528550ec24e79e9d80702fd">add</a> (const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;side, const <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a> &amp;nsd, const std::string &amp;regulation, const <a class="el" href="structore_1_1analytics_1_1_crif_record.html#aac3c9ca896a60df32236fdc4ef53bdc9">CrifRecord::ProductClass</a> &amp;pc, const std::string &amp;ccy, const QuantLib::Real &amp;grossIM, const QuantLib::Real &amp;grossRC=QuantLib::Null&lt; QuantLib::Real &gt;(), const QuantLib::Real &amp;netRC=QuantLib::Null&lt; QuantLib::Real &gt;(), const QuantLib::Real &amp;ngr=QuantLib::Null&lt; QuantLib::Real &gt;(), const QuantLib::Real &amp;scheduleIM=QuantLib::Null&lt; QuantLib::Real &gt;())</td></tr>
<tr class="memdesc:ad7d565ad2528550ec24e79e9d80702fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a margin result to either call or post results container depending on the SimmSide parameter.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad7d565ad2528550ec24e79e9d80702fd">More...</a><br /></td></tr>
<tr class="separator:ad7d565ad2528550ec24e79e9d80702fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:abf2dee0df927335cc4a8907e2c26bbbd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classore_1_1analytics_1_1_crif.html">ore::analytics::Crif</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abf2dee0df927335cc4a8907e2c26bbbd">crif_</a></td></tr>
<tr class="memdesc:abf2dee0df927335cc4a8907e2c26bbbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The net sensitivities used in the calculation.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abf2dee0df927335cc4a8907e2c26bbbd">More...</a><br /></td></tr>
<tr class="separator:abf2dee0df927335cc4a8907e2c26bbbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb36b19e887d4397b44b9e9d0ec34f52"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abb36b19e887d4397b44b9e9d0ec34f52">calculationCcy_</a></td></tr>
<tr class="memdesc:abb36b19e887d4397b44b9e9d0ec34f52"><td class="mdescLeft">&#160;</td><td class="mdescRight">The SIMM calculation currency i.e. the currency of the SIMM results.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abb36b19e887d4397b44b9e9d0ec34f52">More...</a><br /></td></tr>
<tr class="separator:abb36b19e887d4397b44b9e9d0ec34f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa14f759693736cf0438f0e6ff1a792fe"><td class="memItemLeft" align="right" valign="top">QuantLib::ext::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_market.html">ore::data::Market</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa14f759693736cf0438f0e6ff1a792fe">market_</a></td></tr>
<tr class="memdesc:aa14f759693736cf0438f0e6ff1a792fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Market data for FX rates to use for converting amounts to USD.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa14f759693736cf0438f0e6ff1a792fe">More...</a><br /></td></tr>
<tr class="separator:aa14f759693736cf0438f0e6ff1a792fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2fedb3c02ffb092a6c19a0ee1e81a02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa2fedb3c02ffb092a6c19a0ee1e81a02">quiet_</a></td></tr>
<tr class="memdesc:aa2fedb3c02ffb092a6c19a0ee1e81a02"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, no logging is written out.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa2fedb3c02ffb092a6c19a0ee1e81a02">More...</a><br /></td></tr>
<tr class="separator:aa2fedb3c02ffb092a6c19a0ee1e81a02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b0763dca4cfeddb14b14c992a4ec115"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::set&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a2b0763dca4cfeddb14b14c992a4ec115">hasSEC_</a></td></tr>
<tr class="separator:a2b0763dca4cfeddb14b14c992a4ec115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a294f980933859f258720759c50392d25"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::set&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a294f980933859f258720759c50392d25">hasCFTC_</a></td></tr>
<tr class="separator:a294f980933859f258720759c50392d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ec9383d15f514091d85cc7fd697abbb"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a5ec9383d15f514091d85cc7fd697abbb">collectRegsIsEmpty_</a></td></tr>
<tr class="memdesc:a5ec9383d15f514091d85cc7fd697abbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">For each netting set, whether all CRIF records' collect regulations are empty.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a5ec9383d15f514091d85cc7fd697abbb">More...</a><br /></td></tr>
<tr class="separator:a5ec9383d15f514091d85cc7fd697abbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f8ce8eaf3735d038f954742105a97d"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67f8ce8eaf3735d038f954742105a97d">postRegsIsEmpty_</a></td></tr>
<tr class="memdesc:a67f8ce8eaf3735d038f954742105a97d"><td class="mdescLeft">&#160;</td><td class="mdescRight">For each netting set, whether all CRIF records' post regulations are empty.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67f8ce8eaf3735d038f954742105a97d">More...</a><br /></td></tr>
<tr class="separator:a67f8ce8eaf3735d038f954742105a97d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1420e7c1bd1a37e06d5d7529cf249e52"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::map&lt; std::string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1420e7c1bd1a37e06d5d7529cf249e52">imScheduleResults_</a></td></tr>
<tr class="memdesc:a1420e7c1bd1a37e06d5d7529cf249e52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Containers, one for call and post, with an <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> object for each regulation under each portfolio ID.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1420e7c1bd1a37e06d5d7529cf249e52">More...</a><br /></td></tr>
<tr class="separator:a1420e7c1bd1a37e06d5d7529cf249e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67e480625941ff7109cdc8d74c6ec475"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::pair&lt; std::string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67e480625941ff7109cdc8d74c6ec475">finalImScheduleResults_</a></td></tr>
<tr class="memdesc:a67e480625941ff7109cdc8d74c6ec475"><td class="mdescLeft">&#160;</td><td class="mdescRight">Containers, one for call and post, with an <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> object for each portfolio ID.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67e480625941ff7109cdc8d74c6ec475">More...</a><br /></td></tr>
<tr class="separator:a67e480625941ff7109cdc8d74c6ec475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8588960e070f807177fb86c539c02bc"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::map&lt; std::string, set&lt; string &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad8588960e070f807177fb86c539c02bc">tradeIds_</a></td></tr>
<tr class="memdesc:ad8588960e070f807177fb86c539c02bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Container for keeping track of what trade IDs belong to each regulation.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad8588960e070f807177fb86c539c02bc">More...</a><br /></td></tr>
<tr class="separator:ad8588960e070f807177fb86c539c02bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf6d3f08c36da850265818577b6c5111"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, set&lt; string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#acf6d3f08c36da850265818577b6c5111">finalTradeIds_</a></td></tr>
<tr class="separator:acf6d3f08c36da850265818577b6c5111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b33acd9c41c58660a2f82e5f43963c4"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a4b33acd9c41c58660a2f82e5f43963c4">winningRegulations_</a></td></tr>
<tr class="memdesc:a4b33acd9c41c58660a2f82e5f43963c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Regulation with highest IM for each given netting set.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a4b33acd9c41c58660a2f82e5f43963c4">More...</a><br /></td></tr>
<tr class="separator:a4b33acd9c41c58660a2f82e5f43963c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5dd2cc7a3f814f5d27ddb24dd263bc3"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, std::vector&lt; <a class="el" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html">IMScheduleTradeData</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa5dd2cc7a3f814f5d27ddb24dd263bc3">finalTradeData_</a></td></tr>
<tr class="separator:aa5dd2cc7a3f814f5d27ddb24dd263bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d44708be3ab454ea4ce2ed07985fa1f"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::map&lt; std::string, std::map&lt; std::string, <a class="el" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html">IMScheduleTradeData</a> &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a8d44708be3ab454ea4ce2ed07985fa1f">nettingSetRegTradeData_</a></td></tr>
<tr class="memdesc:a8d44708be3ab454ea4ce2ed07985fa1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Container for trade data, taking into account regulations applicable to each netting set.  <a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a8d44708be3ab454ea4ce2ed07985fa1f">More...</a><br /></td></tr>
<tr class="separator:a8d44708be3ab454ea4ce2ed07985fa1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbf9fe9b6336c89e683fbe2a23631e09"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191">IMScheduleLabel</a>, QuantLib::Real &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#afbf9fe9b6336c89e683fbe2a23631e09">multiplierMap_</a></td></tr>
<tr class="separator:afbf9fe9b6336c89e683fbe2a23631e09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >A class to calculate Schedule IM given a set of aggregated CRIF results for one or more portfolios. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00035">35</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a4103a2ea27768a1f9e2ad946c123a9cb" name="a4103a2ea27768a1f9e2ad946c123a9cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4103a2ea27768a1f9e2ad946c123a9cb">&#9670;&#160;</a></span>ProductClass</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structore_1_1analytics_1_1_crif_record.html#aac3c9ca896a60df32236fdc4ef53bdc9">CrifRecord::ProductClass</a> <a class="el" href="structore_1_1analytics_1_1_crif_record.html#aac3c9ca896a60df32236fdc4ef53bdc9">ProductClass</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00038">38</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="a3a998b3ec5877c4bd02627f4f698273e" name="a3a998b3ec5877c4bd02627f4f698273e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a998b3ec5877c4bd02627f4f698273e">&#9670;&#160;</a></span>RiskType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structore_1_1analytics_1_1_crif_record.html#a1c18a2eca0437452edb56ef0965d3ec2">CrifRecord::RiskType</a> <a class="el" href="structore_1_1analytics_1_1_crif_record.html#a1c18a2eca0437452edb56ef0965d3ec2">RiskType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00039">39</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="a7fe019559f73d77aa78b124585bde62f" name="a7fe019559f73d77aa78b124585bde62f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fe019559f73d77aa78b124585bde62f">&#9670;&#160;</a></span>Regulation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#ad161a2b20dc3904152efa20d4248536d">SimmConfiguration::Regulation</a> <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#ad161a2b20dc3904152efa20d4248536d">Regulation</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00040">40</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="afbff2a0e62c01d190bc46ff1461f7ddc" name="afbff2a0e62c01d190bc46ff1461f7ddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbff2a0e62c01d190bc46ff1461f7ddc">&#9670;&#160;</a></span>SimmSide</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmConfiguration::SimmSide</a> <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00041">41</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abe5477980f0d1e14f04ee5ac68f46636" name="abe5477980f0d1e14f04ee5ac68f46636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe5477980f0d1e14f04ee5ac68f46636">&#9670;&#160;</a></span>IMScheduleCalculator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html">IMScheduleCalculator</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classore_1_1analytics_1_1_crif.html">Crif</a> &amp;&#160;</td>
          <td class="paramname"><em>crif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>calculationCcy</em> = <code>&quot;USD&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::ext::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_market.html">ore::data::Market</a> &gt;&#160;</td>
          <td class="paramname"><em>market</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>determineWinningRegulations</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>enforceIMRegulations</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>quiet</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::set&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>hasSEC</em> = <code>std::map&lt;<a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>,&#160;std::set&lt;<a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a>&gt;&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::set&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>hasCFTC</em> = <code>std::map&lt;<a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>,&#160;std::set&lt;<a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a>&gt;&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct the <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html">IMScheduleCalculator</a> from a container of netted CRIF records. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00053">53</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   59</span>    : <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abf2dee0df927335cc4a8907e2c26bbbd">crif_</a>(crif), <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abb36b19e887d4397b44b9e9d0ec34f52">calculationCcy_</a>(calculationCcy), <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa14f759693736cf0438f0e6ff1a792fe">market_</a>(market), <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa2fedb3c02ffb092a6c19a0ee1e81a02">quiet_</a>(quiet),</div>
<div class="line"><span class="lineno">   60</span>      <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a2b0763dca4cfeddb14b14c992a4ec115">hasSEC_</a>(hasSEC), <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a294f980933859f258720759c50392d25">hasCFTC_</a>(hasCFTC) {</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>    QL_REQUIRE(<a class="code hl_functionRef" href="../ored/group__utilities.html#gae6725a0931b419ec545f9abb0b6ede76">checkCurrency</a>(<a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abb36b19e887d4397b44b9e9d0ec34f52">calculationCcy_</a>),</div>
<div class="line"><span class="lineno">   63</span>               <span class="stringliteral">&quot;The calculation currency (&quot;</span> &lt;&lt; <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abb36b19e887d4397b44b9e9d0ec34f52">calculationCcy_</a> &lt;&lt; <span class="stringliteral">&quot;) must be a valid ISO currency code&quot;</span>);</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>    QuantLib::Date today = QuantLib::Settings::instance().evaluationDate();</div>
<div class="line"><span class="lineno">   66</span>    QuantLib::DayCounter dayCounter = QuantLib::ActualActual(QuantLib::ActualActual::ISDA);</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>    <span class="comment">// Collect Schedule CRIF records</span></div>
<div class="line"><span class="lineno">   69</span>    Crif tmp;</div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> CrifRecord&amp; cr : <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abf2dee0df927335cc4a8907e2c26bbbd">crif_</a>) {</div>
<div class="line"><span class="lineno">   71</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> isSchedule = cr.imModel == <span class="stringliteral">&quot;Schedule&quot;</span>;</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>        <span class="keywordflow">if</span> (!isSchedule) {</div>
<div class="line"><span class="lineno">   74</span>            <span class="keywordflow">if</span> (determineWinningRegulations) {</div>
<div class="line"><span class="lineno">   75</span>                <a class="code hl_classRef" href="../ored/classore_1_1data_1_1_structured_trade_warning_message.html">ore::data::StructuredTradeWarningMessage</a>(</div>
<div class="line"><span class="lineno">   76</span>                    cr.tradeId, cr.tradeType, <span class="stringliteral">&quot;IM Schedule calculator&quot;</span>,</div>
<div class="line"><span class="lineno">   77</span>                    <span class="stringliteral">&quot;Skipping over CRIF record without im_model=Schedule for portfolio [ &quot;</span> +</div>
<div class="line"><span class="lineno">   78</span>                        <a class="code hl_functionRef" href="../ored/namespaceore_1_1data.html#a86651dfeb5c18ee891f7a4734d8cf455">to_string</a>(cr.nettingSetDetails) + <span class="stringliteral">&quot;]&quot;</span>)</div>
<div class="line"><span class="lineno">   79</span>                    .<a class="code hl_functionRef" href="../ored/classore_1_1data_1_1_j_s_o_n_message.html#a5e21eca2668ed948bdc409b19a78e5bb">log</a>();</div>
<div class="line"><span class="lineno">   80</span>            }</div>
<div class="line"><span class="lineno">   81</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   82</span>        }</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>        <span class="comment">// Check for each netting set whether post/collect regs are populated at all</span></div>
<div class="line"><span class="lineno">   85</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a5ec9383d15f514091d85cc7fd697abbb">collectRegsIsEmpty_</a>.find(cr.nettingSetDetails) == <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a5ec9383d15f514091d85cc7fd697abbb">collectRegsIsEmpty_</a>.end()) {</div>
<div class="line"><span class="lineno">   86</span>            <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a5ec9383d15f514091d85cc7fd697abbb">collectRegsIsEmpty_</a>[cr.nettingSetDetails] = cr.collectRegulations.empty();</div>
<div class="line"><span class="lineno">   87</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a5ec9383d15f514091d85cc7fd697abbb">collectRegsIsEmpty_</a>.at(cr.nettingSetDetails) &amp;&amp; !cr.collectRegulations.empty()) {</div>
<div class="line"><span class="lineno">   88</span>            <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a5ec9383d15f514091d85cc7fd697abbb">collectRegsIsEmpty_</a>.at(cr.nettingSetDetails) = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   89</span>        }</div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67f8ce8eaf3735d038f954742105a97d">postRegsIsEmpty_</a>.find(cr.nettingSetDetails) == <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67f8ce8eaf3735d038f954742105a97d">postRegsIsEmpty_</a>.end()) {</div>
<div class="line"><span class="lineno">   91</span>            <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67f8ce8eaf3735d038f954742105a97d">postRegsIsEmpty_</a>[cr.nettingSetDetails] = cr.postRegulations.empty();</div>
<div class="line"><span class="lineno">   92</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67f8ce8eaf3735d038f954742105a97d">postRegsIsEmpty_</a>.at(cr.nettingSetDetails) &amp;&amp; !cr.postRegulations.empty()) {</div>
<div class="line"><span class="lineno">   93</span>            <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67f8ce8eaf3735d038f954742105a97d">postRegsIsEmpty_</a>.at(cr.nettingSetDetails) = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   94</span>        }</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>        tmp.addRecord(cr);</div>
<div class="line"><span class="lineno">   97</span>    }</div>
<div class="line"><span class="lineno">   98</span>    <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abf2dee0df927335cc4a8907e2c26bbbd">crif_</a> = tmp;</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    <span class="comment">// Separate out CRIF records by regulations and collect per-trade data</span></div>
<div class="line"><span class="lineno">  102</span>    <a class="code hl_defineRef" href="../ored/log_8hpp.html#a158e0f085ddedfe5c8ed069986039f50">LOG</a>(<span class="stringliteral">&quot;IMScheduleCalculator: Collecting CRIF trade data&quot;</span>);</div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; crifRecord : <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abf2dee0df927335cc4a8907e2c26bbbd">crif_</a>)</div>
<div class="line"><span class="lineno">  104</span>        <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad5505c64d1b30045a035ac4ee2ceb30a">collectTradeData</a>(crifRecord, enforceIMRegulations);</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    <span class="comment">// Remove (or modify) trades with incomplete data</span></div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; sv : <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a8d44708be3ab454ea4ce2ed07985fa1f">nettingSetRegTradeData_</a>) {</div>
<div class="line"><span class="lineno">  108</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#afbff2a0e62c01d190bc46ff1461f7ddc">SimmSide</a>&amp; side = sv.first;</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; nv : sv.second) {</div>
<div class="line"><span class="lineno">  111</span>            <span class="keyword">const</span> <a class="code hl_classRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a>&amp; nsd = nv.first;</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; rv : nv.second) {</div>
<div class="line"><span class="lineno">  114</span>                <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; regulation = rv.first;</div>
<div class="line"><span class="lineno">  115</span>                <span class="keyword">auto</span>&amp; tradeDataMap = rv.second;</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>                <span class="comment">// Remove (or modify) trades with incomplete Schedule data</span></div>
<div class="line"><span class="lineno">  118</span>                set&lt;string&gt; tradesToRemove;</div>
<div class="line"><span class="lineno">  119</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; td : tradeDataMap) {</div>
<div class="line"><span class="lineno">  120</span>                    <span class="keywordflow">if</span> (td.second.incomplete()) {</div>
<div class="line"><span class="lineno">  121</span>                        <span class="keyword">auto</span> subFields = map&lt;string, string&gt;({{<span class="stringliteral">&quot;tradeId&quot;</span>, td.first}});</div>
<div class="line"><span class="lineno">  122</span>                        <span class="comment">// If missing PV, assume PV = 0</span></div>
<div class="line"><span class="lineno">  123</span>                        <span class="keywordflow">if</span> (td.second.missingPVData()) {</div>
<div class="line"><span class="lineno">  124</span>                            td.second.presentValue = 0.0;</div>
<div class="line"><span class="lineno">  125</span>                            td.second.presentValueUsd = 0.0;</div>
<div class="line"><span class="lineno">  126</span>                            td.second.presentValueCcy = td.second.notionalCcy;</div>
<div class="line"><span class="lineno">  127</span>                        }</div>
<div class="line"><span class="lineno">  128</span>                        <span class="comment">// If missing Notional, do not process the trade</span></div>
<div class="line"><span class="lineno">  129</span>                        <span class="keywordflow">if</span> (td.second.missingNotionalData()) {</div>
<div class="line"><span class="lineno">  130</span>                            <a class="code hl_class" href="classore_1_1analytics_1_1_structured_analytics_warning_message.html">ore::analytics::StructuredAnalyticsWarningMessage</a>(</div>
<div class="line"><span class="lineno">  131</span>                                <span class="stringliteral">&quot;IMSchedule&quot;</span>, <span class="stringliteral">&quot;Incomplete CRIF trade data&quot;</span>,</div>
<div class="line"><span class="lineno">  132</span>                                <span class="stringliteral">&quot;Missing Notional data. The trade will not be processed.&quot;</span>, subFields)</div>
<div class="line"><span class="lineno">  133</span>                                .<a class="code hl_functionRef" href="../ored/classore_1_1data_1_1_j_s_o_n_message.html#a5e21eca2668ed948bdc409b19a78e5bb">log</a>();</div>
<div class="line"><span class="lineno">  134</span>                            tradesToRemove.insert(td.first);</div>
<div class="line"><span class="lineno">  135</span>                        }</div>
<div class="line"><span class="lineno">  136</span>                    }</div>
<div class="line"><span class="lineno">  137</span>                }</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; tid : tradesToRemove) {</div>
<div class="line"><span class="lineno">  140</span>                    tradeDataMap.erase(tid);</div>
<div class="line"><span class="lineno">  141</span>                    <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad8588960e070f807177fb86c539c02bc">tradeIds_</a>.at(side).at(nsd).at(regulation).erase(tid);</div>
<div class="line"><span class="lineno">  142</span>                }</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>                <span class="comment">// Calculate Schedule data for each trade data obj</span></div>
<div class="line"><span class="lineno">  145</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; td : tradeDataMap) {</div>
<div class="line"><span class="lineno">  146</span>                    <a class="code hl_typedef" href="namespaceore_1_1analytics.html#af31716ebfaeef39b19c6918798572570">IMScheduleTradeData</a>&amp; tradeData = td.second;</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>                    <span class="comment">// Calculate gross IM for each IM Schedule trade</span></div>
<div class="line"><span class="lineno">  149</span>                    tradeData.<a class="code hl_variable" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html#a250024bca257756a8a9c710830be0882">maturity</a> = dayCounter.yearFraction(today, tradeData.endDate);</div>
<div class="line"><span class="lineno">  150</span>                    tradeData.label = <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a821c88791e4e2c81f2c1c8592e4725b0">label</a>(tradeData.productClass, tradeData.maturity);</div>
<div class="line"><span class="lineno">  151</span>                    tradeData.labelString = <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa8bd465614386e7af2eabf322d79cf41">labelString</a>(tradeData.label);</div>
<div class="line"><span class="lineno">  152</span>                    tradeData.multiplier = <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ae07fd12d61fb68b792a9a93c6403cc58">multiplier</a>(tradeData.label);</div>
<div class="line"><span class="lineno">  153</span>                    tradeData.grossMarginUsd = tradeData.multiplier * tradeData.notionalUsd;</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>                    <span class="comment">// Convert some trade data values into calculation currency</span></div>
<div class="line"><span class="lineno">  156</span>                    <span class="keyword">const</span> Real usdSpot = <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abb36b19e887d4397b44b9e9d0ec34f52">calculationCcy_</a> != <span class="stringliteral">&quot;USD&quot;</span> ? <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa14f759693736cf0438f0e6ff1a792fe">market_</a>-&gt;fxRate(<a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abb36b19e887d4397b44b9e9d0ec34f52">calculationCcy_</a> + <span class="stringliteral">&quot;USD&quot;</span>)-&gt;value() : 1.0;</div>
<div class="line"><span class="lineno">  157</span>                    tradeData.notionalCalc = tradeData.notionalUsd / usdSpot;</div>
<div class="line"><span class="lineno">  158</span>                    tradeData.presentValueCalc = tradeData.presentValueUsd / usdSpot;</div>
<div class="line"><span class="lineno">  159</span>                    tradeData.grossMarginCalc = tradeData.grossMarginUsd / usdSpot;</div>
<div class="line"><span class="lineno">  160</span>                    <span class="keywordflow">if</span> (side == SimmSide::Call)</div>
<div class="line"><span class="lineno">  161</span>                        tradeData.collectRegulations = regulation;</div>
<div class="line"><span class="lineno">  162</span>                    <span class="keywordflow">if</span> (side == SimmSide::Post)</div>
<div class="line"><span class="lineno">  163</span>                        tradeData.postRegulations = regulation;</div>
<div class="line"><span class="lineno">  164</span>                }</div>
<div class="line"><span class="lineno">  165</span>            }</div>
<div class="line"><span class="lineno">  166</span>        }</div>
<div class="line"><span class="lineno">  167</span>    }</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    <span class="comment">// Some additional processing depending on the regulations applicable to each netting set</span></div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; sv : <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a8d44708be3ab454ea4ce2ed07985fa1f">nettingSetRegTradeData_</a>) {</div>
<div class="line"><span class="lineno">  171</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#afbff2a0e62c01d190bc46ff1461f7ddc">SimmSide</a>&amp; side = sv.first;</div>
<div class="line"><span class="lineno">  172</span>    </div>
<div class="line"><span class="lineno">  173</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; s : sv.second) {</div>
<div class="line"><span class="lineno">  174</span>            <span class="keyword">const</span> <a class="code hl_classRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a>&amp; nettingDetails = s.first;</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>            <span class="comment">// Where there is SEC and CFTC in the portfolio, we add the CFTC trades to SEC,</span></div>
<div class="line"><span class="lineno">  177</span>            <span class="comment">// but still continue with CFTC calculations</span></div>
<div class="line"><span class="lineno">  178</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> hasCFTCGlobal = <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a294f980933859f258720759c50392d25">hasCFTC_</a>.at(side).find(nettingDetails) != <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a294f980933859f258720759c50392d25">hasCFTC_</a>.at(side).end();</div>
<div class="line"><span class="lineno">  179</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> hasSECGlobal = <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a2b0763dca4cfeddb14b14c992a4ec115">hasSEC_</a>.at(side).find(nettingDetails) != <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a2b0763dca4cfeddb14b14c992a4ec115">hasSEC_</a>.at(side).end();</div>
<div class="line"><span class="lineno">  180</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> hasCFTCLocal = s.second.count(<span class="stringliteral">&quot;CFTC&quot;</span>) &gt; 0;</div>
<div class="line"><span class="lineno">  181</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> hasSECLocal = s.second.count(<span class="stringliteral">&quot;SEC&quot;</span>) &gt; 0;</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>            <span class="keywordflow">if</span> ((hasSECLocal &amp;&amp; hasCFTCLocal) || (hasCFTCGlobal &amp;&amp; hasSECGlobal)) {</div>
<div class="line"><span class="lineno">  184</span>                <span class="keywordflow">if</span> (!hasSECLocal &amp;&amp; !hasCFTCLocal)</div>
<div class="line"><span class="lineno">  185</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>                <span class="keywordflow">if</span> (hasCFTCLocal) {</div>
<div class="line"><span class="lineno">  188</span>                    <span class="comment">// At this point, we expect to have CFTC trade data at least for the netting set</span></div>
<div class="line"><span class="lineno">  189</span>                    <span class="keyword">const</span> map&lt;string, IMScheduleTradeData&gt;&amp; tradeDataMapCFTC = s.second.at(<span class="stringliteral">&quot;CFTC&quot;</span>);</div>
<div class="line"><span class="lineno">  190</span>                    map&lt;string, IMScheduleTradeData&gt;&amp; tradeDataMapSEC = s.second[<span class="stringliteral">&quot;SEC&quot;</span>];</div>
<div class="line"><span class="lineno">  191</span>                    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; kv : tradeDataMapCFTC) {</div>
<div class="line"><span class="lineno">  192</span>                        <span class="comment">// Only add CFTC records to SEC if the record was not already in SEC,</span></div>
<div class="line"><span class="lineno">  193</span>                        <span class="comment">// i.e. we skip over CRIF records with regulations specified as e.g. &quot;..., CFTC, SEC, ...&quot;</span></div>
<div class="line"><span class="lineno">  194</span>                        <span class="keywordflow">if</span> (tradeDataMapSEC.find(kv.first) == tradeDataMapSEC.end()) {</div>
<div class="line"><span class="lineno">  195</span>                            tradeDataMapSEC[kv.first] = kv.second;</div>
<div class="line"><span class="lineno">  196</span>                        }</div>
<div class="line"><span class="lineno">  197</span>                    }</div>
<div class="line"><span class="lineno">  198</span>                }</div>
<div class="line"><span class="lineno">  199</span>            }</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>            <span class="comment">// If netting set has &quot;Unspecified&quot; plus other regulations, the &quot;Unspecified&quot; sensis are to be excluded.</span></div>
<div class="line"><span class="lineno">  202</span>            <span class="comment">// If netting set only has &quot;Unspecified&quot;, then no regulations were ever specified, so all trades are</span></div>
<div class="line"><span class="lineno">  203</span>            <span class="comment">// included.</span></div>
<div class="line"><span class="lineno">  204</span>            <span class="keywordflow">if</span> (s.second.count(<span class="stringliteral">&quot;Unspecified&quot;</span>) &gt; 0 &amp;&amp; s.second.size() &gt; 1)</div>
<div class="line"><span class="lineno">  205</span>                s.second.erase(<span class="stringliteral">&quot;Unspecified&quot;</span>);</div>
<div class="line"><span class="lineno">  206</span>        }</div>
<div class="line"><span class="lineno">  207</span>    }</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    <span class="comment">// Calculate the higher level margins</span></div>
<div class="line"><span class="lineno">  210</span>    <a class="code hl_defineRef" href="../ored/log_8hpp.html#a158e0f085ddedfe5c8ed069986039f50">LOG</a>(<span class="stringliteral">&quot;IMScheduleCalculator: Populating higher level results&quot;</span>)</div>
<div class="line"><span class="lineno">  211</span>    for (const auto&amp; sv : <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a8d44708be3ab454ea4ce2ed07985fa1f">nettingSetRegTradeData_</a>) {</div>
<div class="line"><span class="lineno">  212</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#afbff2a0e62c01d190bc46ff1461f7ddc">SimmSide</a> side = sv.first;</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; nv : sv.second) {</div>
<div class="line"><span class="lineno">  215</span>            <span class="keyword">const</span> <a class="code hl_classRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a>&amp; nsd = nv.first;</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; rv : nv.second) {</div>
<div class="line"><span class="lineno">  218</span>                <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; regulation = rv.first;</div>
<div class="line"><span class="lineno">  219</span>                <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ae1c05bf5c47d62c61d52b3c2770e7019">populateResults</a>(nsd, regulation, side);</div>
<div class="line"><span class="lineno">  220</span>            }</div>
<div class="line"><span class="lineno">  221</span>        }</div>
<div class="line"><span class="lineno">  222</span>    }</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>    <span class="keywordflow">if</span> (determineWinningRegulations) {</div>
<div class="line"><span class="lineno">  225</span>        <a class="code hl_defineRef" href="../ored/log_8hpp.html#a158e0f085ddedfe5c8ed069986039f50">LOG</a>(<span class="stringliteral">&quot;IMScheduleCalculator: Determining winning regulations&quot;</span>);</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>        <span class="comment">// Determine winning call and post regulations</span></div>
<div class="line"><span class="lineno">  228</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; sv : <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1420e7c1bd1a37e06d5d7529cf249e52">imScheduleResults_</a>) {</div>
<div class="line"><span class="lineno">  229</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#afbff2a0e62c01d190bc46ff1461f7ddc">SimmSide</a> side = sv.first;</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>            <span class="comment">// Determine winning regulation for each netting set</span></div>
<div class="line"><span class="lineno">  232</span>            <span class="comment">// Collect margin amounts and determine the highest margin amount</span></div>
<div class="line"><span class="lineno">  233</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; nv : sv.second) {</div>
<div class="line"><span class="lineno">  234</span>                <span class="keyword">const</span> <a class="code hl_classRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a>&amp; nsd = nv.first;</div>
<div class="line"><span class="lineno">  235</span>                Real winningMargin = std::numeric_limits&lt;Real&gt;::min();</div>
<div class="line"><span class="lineno">  236</span>                map&lt;string, Real&gt; nettingSetMargins;</div>
<div class="line"><span class="lineno">  237</span>                vector&lt;Real&gt; margins;</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; rv : nv.second) {</div>
<div class="line"><span class="lineno">  240</span>                    <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; regulation = rv.first;</div>
<div class="line"><span class="lineno">  241</span>                    <span class="keyword">const</span> IMScheduleResults&amp; schResult = rv.second;</div>
<div class="line"><span class="lineno">  242</span>                    <span class="keyword">const</span> Real&amp; im = schResult.get(ProductClass::All).scheduleIM;</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>                    nettingSetMargins[regulation] = im;</div>
<div class="line"><span class="lineno">  245</span>                    <span class="keywordflow">if</span> (im &gt; winningMargin)</div>
<div class="line"><span class="lineno">  246</span>                        winningMargin = im;</div>
<div class="line"><span class="lineno">  247</span>                }</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>                <span class="comment">// Determine winning regulations, i.e. regulations under which we find the highest margin amount</span></div>
<div class="line"><span class="lineno">  250</span>                vector&lt;string&gt; <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a63f1b3dc11be852005c07fc84f63098d">winningRegulations</a>;</div>
<div class="line"><span class="lineno">  251</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; kv : nettingSetMargins) {</div>
<div class="line"><span class="lineno">  252</span>                    <span class="keywordflow">if</span> (<a class="code hl_functionRef" href="../qle/namespace_quant_ext.html#a1cab4fb6a720eff245acb9f3a7a9e7c5">close_enough</a>(kv.second, winningMargin))</div>
<div class="line"><span class="lineno">  253</span>                        <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a63f1b3dc11be852005c07fc84f63098d">winningRegulations</a>.push_back(kv.first);</div>
<div class="line"><span class="lineno">  254</span>                }</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>                <span class="comment">// In the case of multiple winning regulations, pick one based on the priority in the list</span></div>
<div class="line"><span class="lineno">  257</span>                <span class="comment">//const Regulation winningRegulation = getWinningRegulation(winningRegulations);</span></div>
<div class="line"><span class="lineno">  258</span>                <span class="keywordtype">string</span> winningRegulation = <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a63f1b3dc11be852005c07fc84f63098d">winningRegulations</a>.size() &gt; 1</div>
<div class="line"><span class="lineno">  259</span>                                               ? <a class="code hl_functionRef" href="../ored/namespaceore_1_1data.html#a86651dfeb5c18ee891f7a4734d8cf455">to_string</a>(<a class="code hl_function" href="namespaceore_1_1analytics.html#a35b7448b894b55dc772909ded32db916">getWinningRegulation</a>(<a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a63f1b3dc11be852005c07fc84f63098d">winningRegulations</a>))</div>
<div class="line"><span class="lineno">  260</span>                                               : <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a63f1b3dc11be852005c07fc84f63098d">winningRegulations</a>.at(0);</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>                <span class="comment">// Populate internal list of winning regulators</span></div>
<div class="line"><span class="lineno">  263</span>                <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a4b33acd9c41c58660a2f82e5f43963c4">winningRegulations_</a>[side][nsd] = <a class="code hl_functionRef" href="../ored/namespaceore_1_1data.html#a86651dfeb5c18ee891f7a4734d8cf455">ore::data::to_string</a>(winningRegulation);</div>
<div class="line"><span class="lineno">  264</span>            }</div>
<div class="line"><span class="lineno">  265</span>        }</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>        <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a042350faccc6edc921037241553b2b47">populateFinalResults</a>();</div>
<div class="line"><span class="lineno">  268</span>    }</div>
<div class="line"><span class="lineno">  269</span>}</div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_a042350faccc6edc921037241553b2b47"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a042350faccc6edc921037241553b2b47">ore::analytics::IMScheduleCalculator::populateFinalResults</a></div><div class="ttdeci">void populateFinalResults()</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8cpp_source.html#l00572">imschedulecalculator.cpp:572</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_a1420e7c1bd1a37e06d5d7529cf249e52"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1420e7c1bd1a37e06d5d7529cf249e52">ore::analytics::IMScheduleCalculator::imScheduleResults_</a></div><div class="ttdeci">std::map&lt; SimmSide, std::map&lt; ore::data::NettingSetDetails, std::map&lt; std::string, IMScheduleResults &gt; &gt; &gt; imScheduleResults_</div><div class="ttdoc">Containers, one for call and post, with an IMScheduleResults object for each regulation under each po...</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00181">imschedulecalculator.hpp:181</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_a294f980933859f258720759c50392d25"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a294f980933859f258720759c50392d25">ore::analytics::IMScheduleCalculator::hasCFTC_</a></div><div class="ttdeci">std::map&lt; SimmSide, std::set&lt; NettingSetDetails &gt; &gt; hasCFTC_</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00171">imschedulecalculator.hpp:171</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_a2b0763dca4cfeddb14b14c992a4ec115"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a2b0763dca4cfeddb14b14c992a4ec115">ore::analytics::IMScheduleCalculator::hasSEC_</a></div><div class="ttdeci">std::map&lt; SimmSide, std::set&lt; NettingSetDetails &gt; &gt; hasSEC_</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00171">imschedulecalculator.hpp:171</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_a4b33acd9c41c58660a2f82e5f43963c4"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a4b33acd9c41c58660a2f82e5f43963c4">ore::analytics::IMScheduleCalculator::winningRegulations_</a></div><div class="ttdeci">std::map&lt; SimmSide, std::map&lt; ore::data::NettingSetDetails, std::string &gt; &gt; winningRegulations_</div><div class="ttdoc">Regulation with highest IM for each given netting set.</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00195">imschedulecalculator.hpp:195</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_a5ec9383d15f514091d85cc7fd697abbb"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a5ec9383d15f514091d85cc7fd697abbb">ore::analytics::IMScheduleCalculator::collectRegsIsEmpty_</a></div><div class="ttdeci">std::map&lt; ore::data::NettingSetDetails, bool &gt; collectRegsIsEmpty_</div><div class="ttdoc">For each netting set, whether all CRIF records' collect regulations are empty.</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00174">imschedulecalculator.hpp:174</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_a63f1b3dc11be852005c07fc84f63098d"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a63f1b3dc11be852005c07fc84f63098d">ore::analytics::IMScheduleCalculator::winningRegulations</a></div><div class="ttdeci">const std::map&lt; SimmSide, std::map&lt; ore::data::NettingSetDetails, string &gt; &gt; &amp; winningRegulations() const</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8cpp_source.html#l00288">imschedulecalculator.cpp:288</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_a67f8ce8eaf3735d038f954742105a97d"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67f8ce8eaf3735d038f954742105a97d">ore::analytics::IMScheduleCalculator::postRegsIsEmpty_</a></div><div class="ttdeci">std::map&lt; ore::data::NettingSetDetails, bool &gt; postRegsIsEmpty_</div><div class="ttdoc">For each netting set, whether all CRIF records' post regulations are empty.</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00177">imschedulecalculator.hpp:177</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_a821c88791e4e2c81f2c1c8592e4725b0"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a821c88791e4e2c81f2c1c8592e4725b0">ore::analytics::IMScheduleCalculator::label</a></div><div class="ttdeci">static const IMScheduleLabel label(const ProductClass &amp;productClass, const QuantLib::Real &amp;maturity)</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8cpp_source.html#l00338">imschedulecalculator.cpp:338</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_a8d44708be3ab454ea4ce2ed07985fa1f"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a8d44708be3ab454ea4ce2ed07985fa1f">ore::analytics::IMScheduleCalculator::nettingSetRegTradeData_</a></div><div class="ttdeci">std::map&lt; SimmSide, std::map&lt; ore::data::NettingSetDetails, std::map&lt; std::string, std::map&lt; std::string, IMScheduleTradeData &gt; &gt; &gt; &gt; nettingSetRegTradeData_</div><div class="ttdoc">Container for trade data, taking into account regulations applicable to each netting set.</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00203">imschedulecalculator.hpp:203</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_aa14f759693736cf0438f0e6ff1a792fe"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa14f759693736cf0438f0e6ff1a792fe">ore::analytics::IMScheduleCalculator::market_</a></div><div class="ttdeci">QuantLib::ext::shared_ptr&lt; ore::data::Market &gt; market_</div><div class="ttdoc">Market data for FX rates to use for converting amounts to USD.</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00166">imschedulecalculator.hpp:166</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_aa2fedb3c02ffb092a6c19a0ee1e81a02"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa2fedb3c02ffb092a6c19a0ee1e81a02">ore::analytics::IMScheduleCalculator::quiet_</a></div><div class="ttdeci">bool quiet_</div><div class="ttdoc">If true, no logging is written out.</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00169">imschedulecalculator.hpp:169</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_aa8bd465614386e7af2eabf322d79cf41"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa8bd465614386e7af2eabf322d79cf41">ore::analytics::IMScheduleCalculator::labelString</a></div><div class="ttdeci">static const std::string labelString(const IMScheduleLabel &amp;label)</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8cpp_source.html#l00373">imschedulecalculator.cpp:373</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_abb36b19e887d4397b44b9e9d0ec34f52"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abb36b19e887d4397b44b9e9d0ec34f52">ore::analytics::IMScheduleCalculator::calculationCcy_</a></div><div class="ttdeci">std::string calculationCcy_</div><div class="ttdoc">The SIMM calculation currency i.e. the currency of the SIMM results.</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00163">imschedulecalculator.hpp:163</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_abf2dee0df927335cc4a8907e2c26bbbd"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abf2dee0df927335cc4a8907e2c26bbbd">ore::analytics::IMScheduleCalculator::crif_</a></div><div class="ttdeci">ore::analytics::Crif crif_</div><div class="ttdoc">The net sensitivities used in the calculation.</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00160">imschedulecalculator.hpp:160</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_ad5505c64d1b30045a035ac4ee2ceb30a"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad5505c64d1b30045a035ac4ee2ceb30a">ore::analytics::IMScheduleCalculator::collectTradeData</a></div><div class="ttdeci">void collectTradeData(const CrifRecord &amp;cr, const bool enforceIMRegulations)</div><div class="ttdoc">Collect trade data as defined by the CRIF records.</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8cpp_source.html#l00390">imschedulecalculator.cpp:390</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_ad8588960e070f807177fb86c539c02bc"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad8588960e070f807177fb86c539c02bc">ore::analytics::IMScheduleCalculator::tradeIds_</a></div><div class="ttdeci">std::map&lt; SimmSide, std::map&lt; ore::data::NettingSetDetails, std::map&lt; std::string, set&lt; string &gt; &gt; &gt; &gt; tradeIds_</div><div class="ttdoc">Container for keeping track of what trade IDs belong to each regulation.</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00189">imschedulecalculator.hpp:189</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_ae07fd12d61fb68b792a9a93c6403cc58"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ae07fd12d61fb68b792a9a93c6403cc58">ore::analytics::IMScheduleCalculator::multiplier</a></div><div class="ttdeci">QuantLib::Real multiplier(const IMScheduleLabel &amp;label)</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00220">imschedulecalculator.hpp:220</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_ae1c05bf5c47d62c61d52b3c2770e7019"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ae1c05bf5c47d62c61d52b3c2770e7019">ore::analytics::IMScheduleCalculator::populateResults</a></div><div class="ttdeci">void populateResults(const ore::data::NettingSetDetails &amp;nsd, const string &amp;regulation, const SimmSide &amp;side)</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8cpp_source.html#l00461">imschedulecalculator.cpp:461</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_afbff2a0e62c01d190bc46ff1461f7ddc"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#afbff2a0e62c01d190bc46ff1461f7ddc">ore::analytics::IMScheduleCalculator::SimmSide</a></div><div class="ttdeci">SimmConfiguration::SimmSide SimmSide</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00041">imschedulecalculator.hpp:41</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_structured_analytics_warning_message_html"><div class="ttname"><a href="classore_1_1analytics_1_1_structured_analytics_warning_message.html">ore::analytics::StructuredAnalyticsWarningMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="structuredanalyticswarning_8hpp_source.html#l00031">structuredanalyticswarning.hpp:31</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_j_s_o_n_message_html_a5e21eca2668ed948bdc409b19a78e5bb"><div class="ttname"><a href="../ored/classore_1_1data_1_1_j_s_o_n_message.html#a5e21eca2668ed948bdc409b19a78e5bb">ore::data::JSONMessage::log</a></div><div class="ttdeci">void log() const</div></div>
<div class="ttc" id="aclassore_1_1data_1_1_netting_set_details_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_structured_trade_warning_message_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_structured_trade_warning_message.html">ore::data::StructuredTradeWarningMessage</a></div></div>
<div class="ttc" id="agroup__utilities_html_gae6725a0931b419ec545f9abb0b6ede76"><div class="ttname"><a href="../ored/group__utilities.html#gae6725a0931b419ec545f9abb0b6ede76">checkCurrency</a></div><div class="ttdeci">bool checkCurrency(const string &amp;code)</div></div>
<div class="ttc" id="alog_8hpp_html_a158e0f085ddedfe5c8ed069986039f50"><div class="ttname"><a href="../ored/log_8hpp.html#a158e0f085ddedfe5c8ed069986039f50">LOG</a></div><div class="ttdeci">#define LOG(text)</div></div>
<div class="ttc" id="anamespace_quant_ext_html_a1cab4fb6a720eff245acb9f3a7a9e7c5"><div class="ttname"><a href="../qle/namespace_quant_ext.html#a1cab4fb6a720eff245acb9f3a7a9e7c5">close_enough</a></div><div class="ttdeci">Filter close_enough(const RandomVariable &amp;x, const RandomVariable &amp;y)</div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_a35b7448b894b55dc772909ded32db916"><div class="ttname"><a href="namespaceore_1_1analytics.html#a35b7448b894b55dc772909ded32db916">ore::analytics::getWinningRegulation</a></div><div class="ttdeci">SimmConfiguration::Regulation getWinningRegulation(const std::vector&lt; string &gt; &amp;winningRegulations)</div><div class="ttdoc">From a vector of regulations, determine the winning regulation based on order of priority.</div><div class="ttdef"><b>Definition:</b> <a href="simmconfiguration_8cpp_source.html#l00385">simmconfiguration.cpp:385</a></div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_af31716ebfaeef39b19c6918798572570"><div class="ttname"><a href="namespaceore_1_1analytics.html#af31716ebfaeef39b19c6918798572570">ore::analytics::IMScheduleTradeData</a></div><div class="ttdeci">IMScheduleCalculator::IMScheduleTradeData IMScheduleTradeData</div><div class="ttdef"><b>Definition:</b> <a href="reportwriter_8cpp_source.html#l02209">reportwriter.cpp:2209</a></div></div>
<div class="ttc" id="anamespaceore_1_1data_html_a86651dfeb5c18ee891f7a4734d8cf455"><div class="ttname"><a href="../ored/namespaceore_1_1data.html#a86651dfeb5c18ee891f7a4734d8cf455">to_string</a></div><div class="ttdeci">std::string to_string(const LocationInfo &amp;l)</div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data_html_a250024bca257756a8a9c710830be0882"><div class="ttname"><a href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html#a250024bca257756a8a9c710830be0882">ore::analytics::IMScheduleCalculator::IMScheduleTradeData::maturity</a></div><div class="ttdeci">QuantLib::Real maturity</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00093">imschedulecalculator.hpp:93</a></div></div>
</div><!-- fragment --><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_abe5477980f0d1e14f04ee5ac68f46636_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_abe5477980f0d1e14f04ee5ac68f46636_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_abe5477980f0d1e14f04ee5ac68f46636_cgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_abe5477980f0d1e14f04ee5ac68f46636_cgraph">
<area shape="rect" title="Construct the IMScheduleCalculator from a container of netted CRIF records." alt="" coords="5,745,153,770"/>
<area shape="rect" href="classore_1_1analytics_1_1_crif.html#a7bb355daed08a7b228199a1c0b7bbee5" title=" " alt="" coords="226,165,353,205"/>
<area shape="rect" target="_parent" href="../ored/classore_1_1data_1_1_j_s_o_n_message.html#a5e21eca2668ed948bdc409b19a78e5bb" title=" " alt="" coords="688,325,881,350"/>
<area shape="rect" target="_parent" href="../ored/namespaceore_1_1data.html#a86651dfeb5c18ee891f7a4734d8cf455" title=" " alt="" coords="719,389,850,414"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#gae6725a0931b419ec545f9abb0b6ede76" title=" " alt="" coords="235,526,344,551"/>
<area shape="rect" target="_parent" href="../qle/namespace_quant_ext.html#a1cab4fb6a720eff245acb9f3a7a9e7c5" title=" " alt="" coords="733,601,836,626"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad5505c64d1b30045a035ac4ee2ceb30a" title="Collect trade data as defined by the CRIF records." alt="" coords="230,745,349,770"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_results.html#a873e668b9a44bd5f8a854aa083d3fb59" title="Convert Schedule IM amounts to a different currency." alt="" coords="201,795,377,835"/>
<area shape="rect" href="namespaceore_1_1analytics.html#a35b7448b894b55dc772909ded32db916" title="From a vector of regulations, determine the winning regulation based on order of priority." alt="" coords="203,859,376,899"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a821c88791e4e2c81f2c1c8592e4725b0" title=" " alt="" coords="508,1087,557,1113"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa8bd465614386e7af2eabf322d79cf41" title=" " alt="" coords="248,974,331,999"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ae07fd12d61fb68b792a9a93c6403cc58" title=" " alt="" coords="252,1023,327,1049"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a042350faccc6edc921037241553b2b47" title=" " alt="" coords="218,1097,361,1122"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ae1c05bf5c47d62c61d52b3c2770e7019" title=" " alt="" coords="232,575,347,601"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a63f1b3dc11be852005c07fc84f63098d" title=" " alt="" coords="223,1146,356,1171"/>
<area shape="rect" href="classore_1_1analytics_1_1_crif.html#a3fa77fcee599a6d59e6552d4de54f96d" title=" " alt="" coords="465,133,600,173"/>
<area shape="rect" href="classore_1_1analytics_1_1_crif.html#af8e82ef448e1af321ea74e009daac384" title=" " alt="" coords="460,197,605,237"/>
<area shape="rect" href="classore_1_1analytics_1_1_crif.html#af74e34d137c7461cb9b749825c09935f" title=" " alt="" coords="439,261,626,301"/>
<area shape="rect" href="structore_1_1analytics_1_1_crif_record.html#ab402e2cf695460498ad220674bf5ef8f" title=" " alt="" coords="449,5,617,45"/>
<area shape="rect" href="structore_1_1analytics_1_1_crif_record.html#a463e709fa1ea429189685b96fdfe7e09" title=" " alt="" coords="449,69,617,109"/>
<area shape="rect" href="classore_1_1analytics_1_1_crif.html#aa108b23a011189ae8fac545736305e03" title=" " alt="" coords="721,156,848,196"/>
<area shape="rect" href="structore_1_1analytics_1_1_crif_record.html#a688854e414682c97a4bcfd3105a25463" title=" " alt="" coords="944,168,1117,208"/>
<area shape="rect" href="classore_1_1analytics_1_1_crif.html#a16b48209e840abcea676c240310b306b" title=" " alt="" coords="929,243,1132,283"/>
<area shape="rect" href="structore_1_1analytics_1_1_crif_record.html#a5bb520e16d3d5631dbf3ba33986b15e7" title=" " alt="" coords="1180,115,1348,155"/>
<area shape="rect" href="structore_1_1analytics_1_1_crif_record.html#a2014d6737c363789a01e7a05d9acfe3e" title=" " alt="" coords="1180,179,1348,219"/>
<area shape="rect" href="structore_1_1analytics_1_1_crif_record.html#aff39b5ff2ca60d42f45031609b1c70ad" title=" " alt="" coords="1180,243,1348,283"/>
<area shape="rect" href="structore_1_1analytics_1_1_crif_record.html#ab2992493966a6434cfacf416e5a1bd3b" title=" " alt="" coords="1180,307,1348,347"/>
<area shape="rect" href="structore_1_1analytics_1_1_crif_record.html#aff4f62c8f81e353a2d4fd71d150df251" title=" " alt="" coords="1180,371,1348,411"/>
<area shape="rect" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html#a03860da215b6eb523ec20c79ddc9be75" title=" " alt="" coords="425,766,640,821"/>
<area shape="rect" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html#ac58df5ee8cc9f3102294179f70ca11db" title=" " alt="" coords="425,845,640,899"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d" title=" " alt="" coords="492,923,573,949"/>
<area shape="rect" href="namespaceore_1_1analytics.html#a35d86bbe3c6d9f5c3de91441c206506e" title="Reads a string containing regulations applicable for a given CRIF record." alt="" coords="432,701,633,741"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_results.html#a1150f2ff5ee5016596749ad6de973517" title=" " alt="" coords="445,973,621,1013"/>
<area shape="rect" href="namespaceore_1_1analytics.html#a3041af85f923e8c333f16febd8e66147" title=" " alt="" coords="432,1038,633,1063"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad7d565ad2528550ec24e79e9d80702fd" title="Add a margin result to either call or post results container depending on the SimmSide parameter." alt="" coords="511,550,554,575"/>
<area shape="rect" target="_parent" href="../qle/namespace_quant_ext.html#a0780e43df89be3d7f7671eca2418cdd1" title=" " alt="" coords="509,451,556,477"/>
<area shape="rect" target="_parent" href="../qle/namespace_quant_ext.html#afe4df8f9c3657399dd532e1d3c895dfa" title=" " alt="" coords="511,501,554,526"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1c7eea9571d36346abceb7dfa72091b5" name="a1c7eea9571d36346abceb7dfa72091b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c7eea9571d36346abceb7dfa72091b5">&#9670;&#160;</a></span>finalTradeIds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::set&lt; std::string &gt; &gt; finalTradeIds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Give back the set of portfolio IDs and trade IDs for which we have IM results. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00121">121</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  121</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#acf6d3f08c36da850265818577b6c5111">finalTradeIds_</a>; }</div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_acf6d3f08c36da850265818577b6c5111"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#acf6d3f08c36da850265818577b6c5111">ore::analytics::IMScheduleCalculator::finalTradeIds_</a></div><div class="ttdeci">std::map&lt; SimmSide, set&lt; string &gt; &gt; finalTradeIds_</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00191">imschedulecalculator.hpp:191</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3644fe506caa0f144d28ff3f65ca1cb" name="ad3644fe506caa0f144d28ff3f65ca1cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3644fe506caa0f144d28ff3f65ca1cb">&#9670;&#160;</a></span>winningRegulations() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string &amp; winningRegulations </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a> &amp;&#160;</td>
          <td class="paramname"><em>nettingSetDetails</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the winning regulation for each portfolioId. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00271">271</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  272</span>                                                                                                         {</div>
<div class="line"><span class="lineno">  273</span>    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; subWinningRegs = <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a63f1b3dc11be852005c07fc84f63098d">winningRegulations</a>(side);</div>
<div class="line"><span class="lineno">  274</span>    QL_REQUIRE(subWinningRegs.find(nettingSetDetails) != subWinningRegs.end(),</div>
<div class="line"><span class="lineno">  275</span>               <span class="stringliteral">&quot;IMScheduleCalculator::winningRegulations(): Could not find netting set in the list of &quot;</span></div>
<div class="line"><span class="lineno">  276</span>                   &lt;&lt; side &lt;&lt; <span class="stringliteral">&quot; schedule IM winning regulations: &quot;</span> &lt;&lt; nettingSetDetails);</div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordflow">return</span> subWinningRegs.at(nettingSetDetails);</div>
<div class="line"><span class="lineno">  278</span>}</div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_ad3644fe506caa0f144d28ff3f65ca1cb_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad3644fe506caa0f144d28ff3f65ca1cb_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad3644fe506caa0f144d28ff3f65ca1cb_cgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad3644fe506caa0f144d28ff3f65ca1cb_cgraph">
<area shape="rect" title="Return the winning regulation for each portfolioId." alt="" coords="5,5,139,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a63f1b3dc11be852005c07fc84f63098d" title=" " alt="" coords="187,5,320,31"/>
</map>
</div>

</div>
</div>
<a id="a7c411b3c186350a6cf759b4b6306baf6" name="a7c411b3c186350a6cf759b4b6306baf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c411b3c186350a6cf759b4b6306baf6">&#9670;&#160;</a></span>winningRegulations() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a>, string &gt; &amp; winningRegulations </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;&#160;</td>
          <td class="paramname"><em>side</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00280">280</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  280</span>                                                                                                         {</div>
<div class="line"><span class="lineno">  281</span>    QL_REQUIRE(<a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a4b33acd9c41c58660a2f82e5f43963c4">winningRegulations_</a>.find(side) != <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a4b33acd9c41c58660a2f82e5f43963c4">winningRegulations_</a>.end(),</div>
<div class="line"><span class="lineno">  282</span>               <span class="stringliteral">&quot;IMScheduleCalculator::winningRegulations(): Could not find list of&quot;</span></div>
<div class="line"><span class="lineno">  283</span>                   &lt;&lt; side &lt;&lt; <span class="stringliteral">&quot; schedule IM winning regulations&quot;</span>);</div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a4b33acd9c41c58660a2f82e5f43963c4">winningRegulations_</a>.at(side);</div>
<div class="line"><span class="lineno">  285</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a63f1b3dc11be852005c07fc84f63098d" name="a63f1b3dc11be852005c07fc84f63098d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63f1b3dc11be852005c07fc84f63098d">&#9670;&#160;</a></span>winningRegulations() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmConfiguration::SimmSide</a>, map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a>, string &gt; &gt; &amp; winningRegulations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00288">288</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  288</span>                                               {</div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a4b33acd9c41c58660a2f82e5f43963c4">winningRegulations_</a>;</div>
<div class="line"><span class="lineno">  290</span>}</div>
</div><!-- fragment --><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_a63f1b3dc11be852005c07fc84f63098d_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_a63f1b3dc11be852005c07fc84f63098d_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_a63f1b3dc11be852005c07fc84f63098d_icgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_a63f1b3dc11be852005c07fc84f63098d_icgraph">
<area shape="rect" title=" " alt="" coords="201,31,335,56"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abe5477980f0d1e14f04ee5ac68f46636" title="Construct the IMScheduleCalculator from a container of netted CRIF records." alt="" coords="5,5,153,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad3644fe506caa0f144d28ff3f65ca1cb" title="Return the winning regulation for each portfolioId." alt="" coords="13,55,146,80"/>
</map>
</div>

</div>
</div>
<a id="a2640a15607d672272fbc972226a4f1ee" name="a2640a15607d672272fbc972226a4f1ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2640a15607d672272fbc972226a4f1ee">&#9670;&#160;</a></span>imScheduleSummaryResults() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const map&lt; string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> &gt; &amp; imScheduleSummaryResults </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a> &amp;&#160;</td>
          <td class="paramname"><em>nsd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Give back the IM Schedule results container for the given portfolioId and IM side. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00292">292</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  292</span>                                                                                                                                             {</div>
<div class="line"><span class="lineno">  293</span>    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; subResults = <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1ded38799785666c078df3559e5afef2">imScheduleSummaryResults</a>(side);</div>
<div class="line"><span class="lineno">  294</span>    QL_REQUIRE(subResults.find(nsd) != subResults.end(),</div>
<div class="line"><span class="lineno">  295</span>               <span class="stringliteral">&quot;IMScheduleCalculator::imScheduleSummaryResults(): Could not find netting set in the &quot;</span></div>
<div class="line"><span class="lineno">  296</span>                   &lt;&lt; side &lt;&lt; <span class="stringliteral">&quot; IM schedule results: &quot;</span> &lt;&lt; nsd);</div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">return</span> subResults.at(nsd);</div>
<div class="line"><span class="lineno">  298</span>}</div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_a1ded38799785666c078df3559e5afef2"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1ded38799785666c078df3559e5afef2">ore::analytics::IMScheduleCalculator::imScheduleSummaryResults</a></div><div class="ttdeci">const std::map&lt; SimmSide, std::map&lt; ore::data::NettingSetDetails, std::map&lt; std::string, IMScheduleResults &gt; &gt; &gt; &amp; imScheduleSummaryResults() const</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8cpp_source.html#l00308">imschedulecalculator.cpp:308</a></div></div>
</div><!-- fragment --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_a2640a15607d672272fbc972226a4f1ee_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_a2640a15607d672272fbc972226a4f1ee_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_a2640a15607d672272fbc972226a4f1ee_cgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_a2640a15607d672272fbc972226a4f1ee_cgraph">
<area shape="rect" title="Give back the IM Schedule results container for the given portfolioId and IM side." alt="" coords="5,5,196,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1ded38799785666c078df3559e5afef2" title=" " alt="" coords="244,5,435,31"/>
</map>
</div>

</div>
</div>
<a id="a9afb125ef05b8c1396ad459527c966e8" name="a9afb125ef05b8c1396ad459527c966e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9afb125ef05b8c1396ad459527c966e8">&#9670;&#160;</a></span>imScheduleSummaryResults() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a>, map&lt; string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> &gt; &gt; &amp; imScheduleSummaryResults </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;&#160;</td>
          <td class="paramname"><em>side</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00300">300</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  300</span>                                                                                                                                       {</div>
<div class="line"><span class="lineno">  301</span>    QL_REQUIRE(<a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1420e7c1bd1a37e06d5d7529cf249e52">imScheduleResults_</a>.find(side) != <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1420e7c1bd1a37e06d5d7529cf249e52">imScheduleResults_</a>.end(),</div>
<div class="line"><span class="lineno">  302</span>               <span class="stringliteral">&quot;IMScheduleCalculator::imScheduleSummaryResults(): Could not find &quot;</span> &lt;&lt; side</div>
<div class="line"><span class="lineno">  303</span>                                                                                   &lt;&lt; <span class="stringliteral">&quot; IM in the IM Schedule results&quot;</span>);</div>
<div class="line"><span class="lineno">  304</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1420e7c1bd1a37e06d5d7529cf249e52">imScheduleResults_</a>.at(side);</div>
<div class="line"><span class="lineno">  305</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ded38799785666c078df3559e5afef2" name="a1ded38799785666c078df3559e5afef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ded38799785666c078df3559e5afef2">&#9670;&#160;</a></span>imScheduleSummaryResults() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmConfiguration::SimmSide</a>, map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a>, map&lt; string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> &gt; &gt; &gt; &amp; imScheduleSummaryResults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00308">308</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  308</span>                                                     {</div>
<div class="line"><span class="lineno">  309</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1420e7c1bd1a37e06d5d7529cf249e52">imScheduleResults_</a>;</div>
<div class="line"><span class="lineno">  310</span>};</div>
</div><!-- fragment --><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_a1ded38799785666c078df3559e5afef2_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_a1ded38799785666c078df3559e5afef2_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_a1ded38799785666c078df3559e5afef2_icgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_a1ded38799785666c078df3559e5afef2_icgraph">
<area shape="rect" title=" " alt="" coords="244,5,435,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a2640a15607d672272fbc972226a4f1ee" title="Give back the IM Schedule results container for the given portfolioId and IM side." alt="" coords="5,5,196,31"/>
</map>
</div>

</div>
</div>
<a id="abf9636b0c81de48ecfaaac316a3c2de2" name="abf9636b0c81de48ecfaaac316a3c2de2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf9636b0c81de48ecfaaac316a3c2de2">&#9670;&#160;</a></span>finalImScheduleSummaryResults() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const pair&lt; string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> &gt; &amp; finalImScheduleSummaryResults </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a> &amp;&#160;</td>
          <td class="paramname"><em>nsd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00312">312</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  313</span>                                                                                                                               {</div>
<div class="line"><span class="lineno">  314</span>    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; subResults = <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a6d4497042281550c54b1dada86f078b8">finalImScheduleSummaryResults</a>(side);</div>
<div class="line"><span class="lineno">  315</span>    QL_REQUIRE(subResults.find(nsd) != subResults.end(),</div>
<div class="line"><span class="lineno">  316</span>               <span class="stringliteral">&quot;IMScheduleCalculator::finalImScheduleSummaryResults(): Could not find netting set in the final IM Schedule &quot;</span></div>
<div class="line"><span class="lineno">  317</span>                   &lt;&lt; side &lt;&lt; <span class="stringliteral">&quot; results: &quot;</span> &lt;&lt; nsd);</div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">return</span> subResults.at(nsd);</div>
<div class="line"><span class="lineno">  319</span>}</div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_a6d4497042281550c54b1dada86f078b8"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a6d4497042281550c54b1dada86f078b8">ore::analytics::IMScheduleCalculator::finalImScheduleSummaryResults</a></div><div class="ttdeci">const std::map&lt; SimmSide, std::map&lt; ore::data::NettingSetDetails, std::pair&lt; std::string, IMScheduleResults &gt; &gt; &gt; &amp; finalImScheduleSummaryResults() const</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00138">imschedulecalculator.hpp:138</a></div></div>
</div><!-- fragment --><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_abf9636b0c81de48ecfaaac316a3c2de2_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_abf9636b0c81de48ecfaaac316a3c2de2_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_abf9636b0c81de48ecfaaac316a3c2de2_cgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_abf9636b0c81de48ecfaaac316a3c2de2_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,219,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a6d4497042281550c54b1dada86f078b8" title=" " alt="" coords="267,5,480,31"/>
</map>
</div>

</div>
</div>
<a id="a8c1cacca236dde6bf0a0b2ba7a68505d" name="a8c1cacca236dde6bf0a0b2ba7a68505d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c1cacca236dde6bf0a0b2ba7a68505d">&#9670;&#160;</a></span>finalImScheduleSummaryResults() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a>, pair&lt; string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> &gt; &gt; &amp; finalImScheduleSummaryResults </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;&#160;</td>
          <td class="paramname"><em>side</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00321">321</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  321</span>                                                                                                                                             {</div>
<div class="line"><span class="lineno">  322</span>    QL_REQUIRE(<a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67e480625941ff7109cdc8d74c6ec475">finalImScheduleResults_</a>.find(side) != <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67e480625941ff7109cdc8d74c6ec475">finalImScheduleResults_</a>.end(),</div>
<div class="line"><span class="lineno">  323</span>               <span class="stringliteral">&quot;IMScheduleCalculator::finalImScheduleSummaryResults(): Could not find &quot;</span></div>
<div class="line"><span class="lineno">  324</span>                   &lt;&lt; side &lt;&lt; <span class="stringliteral">&quot; IM in the final IM Schedule results&quot;</span>);</div>
<div class="line"><span class="lineno">  325</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67e480625941ff7109cdc8d74c6ec475">finalImScheduleResults_</a>.at(side);</div>
<div class="line"><span class="lineno">  326</span>}</div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_a67e480625941ff7109cdc8d74c6ec475"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67e480625941ff7109cdc8d74c6ec475">ore::analytics::IMScheduleCalculator::finalImScheduleResults_</a></div><div class="ttdeci">std::map&lt; SimmSide, std::map&lt; ore::data::NettingSetDetails, std::pair&lt; std::string, IMScheduleResults &gt; &gt; &gt; finalImScheduleResults_</div><div class="ttdoc">Containers, one for call and post, with an IMScheduleResults object for each portfolio ID.</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00185">imschedulecalculator.hpp:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d4497042281550c54b1dada86f078b8" name="a6d4497042281550c54b1dada86f078b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d4497042281550c54b1dada86f078b8">&#9670;&#160;</a></span>finalImScheduleSummaryResults() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::pair&lt; std::string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> &gt; &gt; &gt; &amp; finalImScheduleSummaryResults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00138">138</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  138</span>                                          {</div>
<div class="line"><span class="lineno">  139</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67e480625941ff7109cdc8d74c6ec475">finalImScheduleResults_</a>;</div>
<div class="line"><span class="lineno">  140</span>    };</div>
</div><!-- fragment --><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_a6d4497042281550c54b1dada86f078b8_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_a6d4497042281550c54b1dada86f078b8_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_a6d4497042281550c54b1dada86f078b8_icgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_a6d4497042281550c54b1dada86f078b8_icgraph">
<area shape="rect" title=" " alt="" coords="267,5,480,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abf9636b0c81de48ecfaaac316a3c2de2" title=" " alt="" coords="5,5,219,31"/>
</map>
</div>

</div>
</div>
<a id="a78f97a740ccd011164f16e32baa568a9" name="a78f97a740ccd011164f16e32baa568a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78f97a740ccd011164f16e32baa568a9">&#9670;&#160;</a></span>imScheduleTradeResults() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const vector&lt; <a class="el" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html">IMScheduleCalculator::IMScheduleTradeData</a> &gt; &amp; imScheduleTradeResults </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>tradeId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Give back the IM Schedule results container for the given tradeId and IM side. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00328">328</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  328</span>                                                                                                                               {</div>
<div class="line"><span class="lineno">  329</span>    QL_REQUIRE(<a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa5dd2cc7a3f814f5d27ddb24dd263bc3">finalTradeData_</a>.find(tradeId) != <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa5dd2cc7a3f814f5d27ddb24dd263bc3">finalTradeData_</a>.end(),</div>
<div class="line"><span class="lineno">  330</span>               <span class="stringliteral">&quot;IMScheduleCalculator::imScheduleTradeResults(): Could not find results for trade: &quot;</span> &lt;&lt; tradeId);</div>
<div class="line"><span class="lineno">  331</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa5dd2cc7a3f814f5d27ddb24dd263bc3">finalTradeData_</a>.at(tradeId);</div>
<div class="line"><span class="lineno">  332</span>}</div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_aa5dd2cc7a3f814f5d27ddb24dd263bc3"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa5dd2cc7a3f814f5d27ddb24dd263bc3">ore::analytics::IMScheduleCalculator::finalTradeData_</a></div><div class="ttdeci">std::map&lt; std::string, std::vector&lt; IMScheduleTradeData &gt; &gt; finalTradeData_</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00199">imschedulecalculator.hpp:199</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2613d6585d6d55e8467861cd87b7c183" name="a2613d6585d6d55e8467861cd87b7c183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2613d6585d6d55e8467861cd87b7c183">&#9670;&#160;</a></span>imScheduleTradeResults() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const map&lt; string, vector&lt; <a class="el" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html">IMScheduleCalculator::IMScheduleTradeData</a> &gt; &gt; &amp; imScheduleTradeResults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00334">334</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  334</span>                                                                                                                       {</div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa5dd2cc7a3f814f5d27ddb24dd263bc3">finalTradeData_</a>;</div>
<div class="line"><span class="lineno">  336</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2377c471c7a7de64db93059bd9e4f8af" name="a2377c471c7a7de64db93059bd9e4f8af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2377c471c7a7de64db93059bd9e4f8af">&#9670;&#160;</a></span>finalImScheduleTradeResults() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html">IMScheduleTradeData</a> &amp; finalImScheduleTradeResults </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>tradeId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af2e6bc831ff843673c76a886033900ae" name="af2e6bc831ff843673c76a886033900ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2e6bc831ff843673c76a886033900ae">&#9670;&#160;</a></span>finalImScheduleTradeResults() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::map&lt; std::string, <a class="el" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html">IMScheduleTradeData</a> &gt; &amp; finalImScheduleTradeResults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa1e5ad6cbecb8c2af1fdeb70d4b06a35" name="aa1e5ad6cbecb8c2af1fdeb70d4b06a35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1e5ad6cbecb8c2af1fdeb70d4b06a35">&#9670;&#160;</a></span>calculationCurrency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; calculationCurrency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the calculator's calculation currency. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00150">150</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  150</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abb36b19e887d4397b44b9e9d0ec34f52">calculationCcy_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a821c88791e4e2c81f2c1c8592e4725b0" name="a821c88791e4e2c81f2c1c8592e4725b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a821c88791e4e2c81f2c1c8592e4725b0">&#9670;&#160;</a></span>label()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191">IMScheduleLabel</a> label </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structore_1_1analytics_1_1_crif_record.html#aac3c9ca896a60df32236fdc4ef53bdc9">ProductClass</a> &amp;&#160;</td>
          <td class="paramname"><em>productClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Real &amp;&#160;</td>
          <td class="paramname"><em>maturity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00338">338</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  338</span>                                                                                              {</div>
<div class="line"><span class="lineno">  339</span>    <span class="keywordflow">if</span> (pc == ProductClass::Credit) {</div>
<div class="line"><span class="lineno">  340</span>        <span class="keywordflow">if</span> (maturity &gt;= 0.0 &amp;&amp; maturity &lt; 2.0) {</div>
<div class="line"><span class="lineno">  341</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191ac18bf655be179501e5011a9a2d4d9d90">IMScheduleLabel::Credit2</a>;</div>
<div class="line"><span class="lineno">  342</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (maturity &lt; 5.0) {</div>
<div class="line"><span class="lineno">  343</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a1a73e6c41bbb275f09dc0a75de7233a7">IMScheduleLabel::Credit5</a>;</div>
<div class="line"><span class="lineno">  344</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  345</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a35a18fe79643de0cd26956efcc85407b">IMScheduleLabel::Credit100</a>;</div>
<div class="line"><span class="lineno">  346</span>        }</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pc == ProductClass::Commodity) {</div>
<div class="line"><span class="lineno">  349</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a47d00d4c3d43ce2afc332443c0eb4aea">IMScheduleLabel::Commodity</a>;</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pc == ProductClass::Equity) {</div>
<div class="line"><span class="lineno">  352</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191afca045892cfb54a0a740fda38d76448e">IMScheduleLabel::Equity</a>;</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pc == ProductClass::FX) {</div>
<div class="line"><span class="lineno">  355</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a48b424735b6e21a4a4fe044feaee5a50">IMScheduleLabel::FX</a>;</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pc == ProductClass::Rates) {</div>
<div class="line"><span class="lineno">  358</span>        <span class="keywordflow">if</span> (maturity &gt;= 0.0 &amp;&amp; maturity &lt; 2.0) {</div>
<div class="line"><span class="lineno">  359</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191aabbcbd2cf414a4c0ef87c491b7d59775">IMScheduleLabel::Rates2</a>;</div>
<div class="line"><span class="lineno">  360</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (maturity &lt; 5.0) {</div>
<div class="line"><span class="lineno">  361</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a09ea1849e8f7a587f11eabe88bd3f0f8">IMScheduleLabel::Rates5</a>;</div>
<div class="line"><span class="lineno">  362</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  363</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a9059729211dd6a624f618c4701f81992">IMScheduleLabel::Rates100</a>;</div>
<div class="line"><span class="lineno">  364</span>        }</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pc == ProductClass::Other) {</div>
<div class="line"><span class="lineno">  367</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191ab41fe07a134a62397420ef854d35c7b1">IMScheduleLabel::Other</a>;</div>
<div class="line"><span class="lineno">  368</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  369</span>        QL_FAIL(<span class="stringliteral">&quot;IMSchedule::label() Invalid product class &quot;</span> &lt;&lt; pc);</div>
<div class="line"><span class="lineno">  370</span>    }</div>
<div class="line"><span class="lineno">  371</span>}</div>
<div class="ttc" id="anamespaceore_1_1analytics_html_aef95be1f4b274c67fd8a244af20f4191a09ea1849e8f7a587f11eabe88bd3f0f8"><div class="ttname"><a href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a09ea1849e8f7a587f11eabe88bd3f0f8">ore::analytics::Rates5</a></div><div class="ttdeci">@ Rates5</div><div class="ttdef"><b>Definition:</b> <a href="imscheduleresults_8hpp_source.html#l00034">imscheduleresults.hpp:34</a></div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_aef95be1f4b274c67fd8a244af20f4191a1a73e6c41bbb275f09dc0a75de7233a7"><div class="ttname"><a href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a1a73e6c41bbb275f09dc0a75de7233a7">ore::analytics::Credit5</a></div><div class="ttdeci">@ Credit5</div><div class="ttdef"><b>Definition:</b> <a href="imscheduleresults_8hpp_source.html#l00034">imscheduleresults.hpp:34</a></div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_aef95be1f4b274c67fd8a244af20f4191a35a18fe79643de0cd26956efcc85407b"><div class="ttname"><a href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a35a18fe79643de0cd26956efcc85407b">ore::analytics::Credit100</a></div><div class="ttdeci">@ Credit100</div><div class="ttdef"><b>Definition:</b> <a href="imscheduleresults_8hpp_source.html#l00034">imscheduleresults.hpp:34</a></div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_aef95be1f4b274c67fd8a244af20f4191a47d00d4c3d43ce2afc332443c0eb4aea"><div class="ttname"><a href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a47d00d4c3d43ce2afc332443c0eb4aea">ore::analytics::Commodity</a></div><div class="ttdeci">@ Commodity</div><div class="ttdef"><b>Definition:</b> <a href="imscheduleresults_8hpp_source.html#l00034">imscheduleresults.hpp:34</a></div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_aef95be1f4b274c67fd8a244af20f4191a48b424735b6e21a4a4fe044feaee5a50"><div class="ttname"><a href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a48b424735b6e21a4a4fe044feaee5a50">ore::analytics::FX</a></div><div class="ttdeci">@ FX</div><div class="ttdef"><b>Definition:</b> <a href="imscheduleresults_8hpp_source.html#l00034">imscheduleresults.hpp:34</a></div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_aef95be1f4b274c67fd8a244af20f4191a9059729211dd6a624f618c4701f81992"><div class="ttname"><a href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a9059729211dd6a624f618c4701f81992">ore::analytics::Rates100</a></div><div class="ttdeci">@ Rates100</div><div class="ttdef"><b>Definition:</b> <a href="imscheduleresults_8hpp_source.html#l00034">imscheduleresults.hpp:34</a></div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_aef95be1f4b274c67fd8a244af20f4191aabbcbd2cf414a4c0ef87c491b7d59775"><div class="ttname"><a href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191aabbcbd2cf414a4c0ef87c491b7d59775">ore::analytics::Rates2</a></div><div class="ttdeci">@ Rates2</div><div class="ttdef"><b>Definition:</b> <a href="imscheduleresults_8hpp_source.html#l00034">imscheduleresults.hpp:34</a></div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_aef95be1f4b274c67fd8a244af20f4191ab41fe07a134a62397420ef854d35c7b1"><div class="ttname"><a href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191ab41fe07a134a62397420ef854d35c7b1">ore::analytics::Other</a></div><div class="ttdeci">@ Other</div><div class="ttdef"><b>Definition:</b> <a href="imscheduleresults_8hpp_source.html#l00034">imscheduleresults.hpp:34</a></div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_aef95be1f4b274c67fd8a244af20f4191ac18bf655be179501e5011a9a2d4d9d90"><div class="ttname"><a href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191ac18bf655be179501e5011a9a2d4d9d90">ore::analytics::Credit2</a></div><div class="ttdeci">@ Credit2</div><div class="ttdef"><b>Definition:</b> <a href="imscheduleresults_8hpp_source.html#l00034">imscheduleresults.hpp:34</a></div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_aef95be1f4b274c67fd8a244af20f4191afca045892cfb54a0a740fda38d76448e"><div class="ttname"><a href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191afca045892cfb54a0a740fda38d76448e">ore::analytics::Equity</a></div><div class="ttdeci">@ Equity</div><div class="ttdef"><b>Definition:</b> <a href="imscheduleresults_8hpp_source.html#l00034">imscheduleresults.hpp:34</a></div></div>
</div><!-- fragment --><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_a821c88791e4e2c81f2c1c8592e4725b0_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_a821c88791e4e2c81f2c1c8592e4725b0_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_a821c88791e4e2c81f2c1c8592e4725b0_icgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_a821c88791e4e2c81f2c1c8592e4725b0_icgraph">
<area shape="rect" title=" " alt="" coords="332,22,381,47"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abe5477980f0d1e14f04ee5ac68f46636" title="Construct the IMScheduleCalculator from a container of netted CRIF records." alt="" coords="5,22,153,47"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#aa8bd465614386e7af2eabf322d79cf41" title=" " alt="" coords="201,22,284,47"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ae07fd12d61fb68b792a9a93c6403cc58" title=" " alt="" coords="205,71,280,96"/>
</map>
</div>

</div>
</div>
<a id="aa8bd465614386e7af2eabf322d79cf41" name="aa8bd465614386e7af2eabf322d79cf41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8bd465614386e7af2eabf322d79cf41">&#9670;&#160;</a></span>labelString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string labelString </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191">IMScheduleLabel</a> &amp;&#160;</td>
          <td class="paramname"><em>label</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00373">373</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  373</span>                                                                           {</div>
<div class="line"><span class="lineno">  374</span>    <span class="keyword">const</span> map&lt;IMScheduleLabel, string&gt; labelStringMap_ = map&lt;IMScheduleLabel, string&gt;({</div>
<div class="line"><span class="lineno">  375</span>        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191ac18bf655be179501e5011a9a2d4d9d90">IMScheduleLabel::Credit2</a>, <span class="stringliteral">&quot;Credit 0-2 years&quot;</span>},</div>
<div class="line"><span class="lineno">  376</span>        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a1a73e6c41bbb275f09dc0a75de7233a7">IMScheduleLabel::Credit5</a>, <span class="stringliteral">&quot;Credit 2-5 years&quot;</span>},</div>
<div class="line"><span class="lineno">  377</span>        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a35a18fe79643de0cd26956efcc85407b">IMScheduleLabel::Credit100</a>, <span class="stringliteral">&quot;Credit 5+ years&quot;</span>},</div>
<div class="line"><span class="lineno">  378</span>        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a47d00d4c3d43ce2afc332443c0eb4aea">IMScheduleLabel::Commodity</a>, <span class="stringliteral">&quot;Commodity&quot;</span>},</div>
<div class="line"><span class="lineno">  379</span>        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191afca045892cfb54a0a740fda38d76448e">IMScheduleLabel::Equity</a>, <span class="stringliteral">&quot;Equity&quot;</span>},</div>
<div class="line"><span class="lineno">  380</span>        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a48b424735b6e21a4a4fe044feaee5a50">IMScheduleLabel::FX</a>, <span class="stringliteral">&quot;FX&quot;</span>},</div>
<div class="line"><span class="lineno">  381</span>        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191aabbcbd2cf414a4c0ef87c491b7d59775">IMScheduleLabel::Rates2</a>, <span class="stringliteral">&quot;Interest Rate 0-2 years&quot;</span>},</div>
<div class="line"><span class="lineno">  382</span>        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a09ea1849e8f7a587f11eabe88bd3f0f8">IMScheduleLabel::Rates5</a>, <span class="stringliteral">&quot;Interest Rate 2-5 years&quot;</span>},</div>
<div class="line"><span class="lineno">  383</span>        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a9059729211dd6a624f618c4701f81992">IMScheduleLabel::Rates100</a>, <span class="stringliteral">&quot;Interest Rate 5+ years&quot;</span>},</div>
<div class="line"><span class="lineno">  384</span>        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191ab41fe07a134a62397420ef854d35c7b1">IMScheduleLabel::Other</a>, <span class="stringliteral">&quot;Other&quot;</span>},</div>
<div class="line"><span class="lineno">  385</span>    });</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>    <span class="keywordflow">return</span> labelStringMap_.at(<a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a821c88791e4e2c81f2c1c8592e4725b0">label</a>);</div>
<div class="line"><span class="lineno">  388</span>}</div>
</div><!-- fragment --><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_aa8bd465614386e7af2eabf322d79cf41_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_aa8bd465614386e7af2eabf322d79cf41_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_aa8bd465614386e7af2eabf322d79cf41_cgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_aa8bd465614386e7af2eabf322d79cf41_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,88,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a821c88791e4e2c81f2c1c8592e4725b0" title=" " alt="" coords="136,5,185,31"/>
</map>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_aa8bd465614386e7af2eabf322d79cf41_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_aa8bd465614386e7af2eabf322d79cf41_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_aa8bd465614386e7af2eabf322d79cf41_icgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_aa8bd465614386e7af2eabf322d79cf41_icgraph">
<area shape="rect" title=" " alt="" coords="201,5,284,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abe5477980f0d1e14f04ee5ac68f46636" title="Construct the IMScheduleCalculator from a container of netted CRIF records." alt="" coords="5,5,153,31"/>
</map>
</div>

</div>
</div>
<a id="aa936c119f6230d0eed00b790981bef02" name="aa936c119f6230d0eed00b790981bef02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa936c119f6230d0eed00b790981bef02">&#9670;&#160;</a></span>populateFinalResults() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void populateFinalResults </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::string &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>winningRegulations</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae07fd12d61fb68b792a9a93c6403cc58" name="ae07fd12d61fb68b792a9a93c6403cc58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae07fd12d61fb68b792a9a93c6403cc58">&#9670;&#160;</a></span>multiplier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Real multiplier </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191">IMScheduleLabel</a> &amp;&#160;</td>
          <td class="paramname"><em>label</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00220">220</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  220</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#afbf9fe9b6336c89e683fbe2a23631e09">multiplierMap_</a>[<a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a821c88791e4e2c81f2c1c8592e4725b0">label</a>]; }</div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_afbf9fe9b6336c89e683fbe2a23631e09"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#afbf9fe9b6336c89e683fbe2a23631e09">ore::analytics::IMScheduleCalculator::multiplierMap_</a></div><div class="ttdeci">std::map&lt; IMScheduleLabel, QuantLib::Real &gt; multiplierMap_</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8hpp_source.html#l00205">imschedulecalculator.hpp:205</a></div></div>
</div><!-- fragment --><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_ae07fd12d61fb68b792a9a93c6403cc58_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_ae07fd12d61fb68b792a9a93c6403cc58_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ae07fd12d61fb68b792a9a93c6403cc58_cgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ae07fd12d61fb68b792a9a93c6403cc58_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,80,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a821c88791e4e2c81f2c1c8592e4725b0" title=" " alt="" coords="128,5,177,31"/>
</map>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_ae07fd12d61fb68b792a9a93c6403cc58_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_ae07fd12d61fb68b792a9a93c6403cc58_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ae07fd12d61fb68b792a9a93c6403cc58_icgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ae07fd12d61fb68b792a9a93c6403cc58_icgraph">
<area shape="rect" title=" " alt="" coords="201,5,276,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abe5477980f0d1e14f04ee5ac68f46636" title="Construct the IMScheduleCalculator from a container of netted CRIF records." alt="" coords="5,5,153,31"/>
</map>
</div>

</div>
</div>
<a id="ad5505c64d1b30045a035ac4ee2ceb30a" name="ad5505c64d1b30045a035ac4ee2ceb30a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5505c64d1b30045a035ac4ee2ceb30a">&#9670;&#160;</a></span>collectTradeData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void collectTradeData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structore_1_1analytics_1_1_crif_record.html">CrifRecord</a> &amp;&#160;</td>
          <td class="paramname"><em>cr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>enforceIMRegulations</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Collect trade data as defined by the CRIF records. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00390">390</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  390</span>                                                                                                 {</div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span>    <a class="code hl_defineRef" href="../ored/log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;Processing CRIF record for IMSchedule calculation: trade ID \&#39;&quot;</span></div>
<div class="line"><span class="lineno">  393</span>         &lt;&lt; cr.tradeId &lt;&lt; <span class="stringliteral">&quot;\&#39;, portfolio [&quot;</span> &lt;&lt; cr.nettingSetDetails &lt;&lt; <span class="stringliteral">&quot;], product class &quot;</span> &lt;&lt; cr.productClass</div>
<div class="line"><span class="lineno">  394</span>         &lt;&lt; <span class="stringliteral">&quot;, risk type &quot;</span> &lt;&lt; cr.riskType &lt;&lt; <span class="stringliteral">&quot;, end date &quot;</span> &lt;&lt; cr.endDate);</div>
<div class="line"><span class="lineno">  395</span>    QL_REQUIRE(cr.riskType == RiskType::PV || cr.riskType == RiskType::Notional,</div>
<div class="line"><span class="lineno">  396</span>               <span class="stringliteral">&quot;Unexpected risk type found in CRIF &quot;</span> &lt;&lt; cr.riskType &lt;&lt; <span class="stringliteral">&quot; for trade ID &quot;</span> &lt;&lt; cr.tradeId);</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; side : {SimmSide::Call, SimmSide::Post}) {</div>
<div class="line"><span class="lineno">  399</span>        <span class="keyword">const</span> <a class="code hl_classRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a>&amp; nettingSetDetails = cr.nettingSetDetails;</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>        <span class="keywordtype">bool</span> collectRegsIsEmpty = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  402</span>        <span class="keywordtype">bool</span> postRegsIsEmpty = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  403</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a5ec9383d15f514091d85cc7fd697abbb">collectRegsIsEmpty_</a>.find(cr.nettingSetDetails) != <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a5ec9383d15f514091d85cc7fd697abbb">collectRegsIsEmpty_</a>.end())</div>
<div class="line"><span class="lineno">  404</span>            collectRegsIsEmpty = <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a5ec9383d15f514091d85cc7fd697abbb">collectRegsIsEmpty_</a>.at(cr.nettingSetDetails);</div>
<div class="line"><span class="lineno">  405</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67f8ce8eaf3735d038f954742105a97d">postRegsIsEmpty_</a>.find(cr.nettingSetDetails) != <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67f8ce8eaf3735d038f954742105a97d">postRegsIsEmpty_</a>.end())</div>
<div class="line"><span class="lineno">  406</span>            postRegsIsEmpty = <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a67f8ce8eaf3735d038f954742105a97d">postRegsIsEmpty_</a>.at(cr.nettingSetDetails);</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>        <span class="keywordtype">string</span> regsString;</div>
<div class="line"><span class="lineno">  409</span>        <span class="keywordflow">if</span> (enforceIMRegulations)</div>
<div class="line"><span class="lineno">  410</span>            regsString = side == SimmSide::Call ? cr.collectRegulations : cr.postRegulations;</div>
<div class="line"><span class="lineno">  411</span>        set&lt;string&gt; regs = <a class="code hl_function" href="namespaceore_1_1analytics.html#a35d86bbe3c6d9f5c3de91441c206506e">parseRegulationString</a>(regsString);</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; r : regs) {</div>
<div class="line"><span class="lineno">  414</span>            <span class="keywordflow">if</span> (r == <span class="stringliteral">&quot;Unspecified&quot;</span> &amp;&amp; enforceIMRegulations &amp;&amp; !(collectRegsIsEmpty &amp;&amp; postRegsIsEmpty)) {</div>
<div class="line"><span class="lineno">  415</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  416</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r != <span class="stringliteral">&quot;Excluded&quot;</span>) {</div>
<div class="line"><span class="lineno">  417</span>                <span class="comment">// Keep a record of trade IDs for each regulation</span></div>
<div class="line"><span class="lineno">  418</span>                <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad8588960e070f807177fb86c539c02bc">tradeIds_</a>[side][nettingSetDetails][r].insert(cr.tradeId);</div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>                <span class="keyword">auto</span>&amp; tradeDataMap = <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a8d44708be3ab454ea4ce2ed07985fa1f">nettingSetRegTradeData_</a>[side][nettingSetDetails][r];</div>
<div class="line"><span class="lineno">  421</span>                <span class="keyword">auto</span> it = tradeDataMap.find(cr.tradeId);</div>
<div class="line"><span class="lineno">  422</span>                <span class="keywordflow">if</span> (it != tradeDataMap.end()) {</div>
<div class="line"><span class="lineno">  423</span>                    <a class="code hl_typedef" href="namespaceore_1_1analytics.html#af31716ebfaeef39b19c6918798572570">IMScheduleTradeData</a>&amp; tradeData = it-&gt;second;</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>                    QL_REQUIRE(cr.productClass == tradeData.productClass, <span class="stringliteral">&quot;Product class is not matching for trade ID &quot;</span></div>
<div class="line"><span class="lineno">  426</span>                                                                              &lt;&lt; cr.tradeId &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cr.productClass</div>
<div class="line"><span class="lineno">  427</span>                                                                              &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; tradeData.productClass);</div>
<div class="line"><span class="lineno">  428</span>                    QuantLib::Date incomingDate = <a class="code hl_functionRef" href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d">parseDate</a>(cr.endDate);</div>
<div class="line"><span class="lineno">  429</span>                    QL_REQUIRE(incomingDate == tradeData.endDate, <span class="stringliteral">&quot;End date is not matching for trade ID &quot;</span></div>
<div class="line"><span class="lineno">  430</span>                                                                      &lt;&lt; cr.tradeId &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; incomingDate &lt;&lt; <span class="stringliteral">&quot; and &quot;</span></div>
<div class="line"><span class="lineno">  431</span>                                                                      &lt;&lt; tradeData.endDate);</div>
<div class="line"><span class="lineno">  432</span>                    <span class="keywordflow">if</span> (cr.riskType == RiskType::PV) {</div>
<div class="line"><span class="lineno">  433</span>                        QL_REQUIRE(tradeData.missingPVData(), <span class="stringliteral">&quot;Adding PV data for trade that already has PV data, i.e. &quot;</span></div>
<div class="line"><span class="lineno">  434</span>                                                              <span class="stringliteral">&quot;multiple PV records found for the same trade: &quot;</span></div>
<div class="line"><span class="lineno">  435</span>                                                                  &lt;&lt; tradeData.tradeId);</div>
<div class="line"><span class="lineno">  436</span>                        tradeData.presentValue = cr.amount;</div>
<div class="line"><span class="lineno">  437</span>                        tradeData.presentValueUsd = cr.amountUsd;</div>
<div class="line"><span class="lineno">  438</span>                        tradeData.presentValueCcy = cr.amountCurrency;</div>
<div class="line"><span class="lineno">  439</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  440</span>                        QL_REQUIRE(tradeData.missingNotionalData(),</div>
<div class="line"><span class="lineno">  441</span>                                   <span class="stringliteral">&quot;Adding Notional data for trade that already has PV data, i.e. &quot;</span></div>
<div class="line"><span class="lineno">  442</span>                                   <span class="stringliteral">&quot;multiple Notional records found for the same trade: &quot;</span></div>
<div class="line"><span class="lineno">  443</span>                                       &lt;&lt; tradeData.tradeId);</div>
<div class="line"><span class="lineno">  444</span>                        tradeData.notional = cr.amount;</div>
<div class="line"><span class="lineno">  445</span>                        tradeData.notionalUsd = cr.amountUsd;</div>
<div class="line"><span class="lineno">  446</span>                        tradeData.notionalCcy = cr.amountCurrency;</div>
<div class="line"><span class="lineno">  447</span>                    }</div>
<div class="line"><span class="lineno">  448</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  449</span>                    <span class="keyword">const</span> <span class="keywordtype">string</span> collectRegs = side == SimmSide::Call ? cr.collectRegulations : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  450</span>                    <span class="keyword">const</span> <span class="keywordtype">string</span> postRegs = side == SimmSide::Post ? cr.postRegulations : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  451</span>                    tradeDataMap.insert(</div>
<div class="line"><span class="lineno">  452</span>                        {cr.tradeId, <a class="code hl_typedef" href="namespaceore_1_1analytics.html#af31716ebfaeef39b19c6918798572570">IMScheduleTradeData</a>(cr.tradeId, cr.nettingSetDetails, cr.riskType, cr.productClass,</div>
<div class="line"><span class="lineno">  453</span>                                                         cr.amount, cr.amountCurrency, cr.amountUsd,</div>
<div class="line"><span class="lineno">  454</span>                                                         <a class="code hl_functionRef" href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d">parseDate</a>(cr.endDate), <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abb36b19e887d4397b44b9e9d0ec34f52">calculationCcy_</a>, collectRegs, postRegs)});</div>
<div class="line"><span class="lineno">  455</span>                }</div>
<div class="line"><span class="lineno">  456</span>            }</div>
<div class="line"><span class="lineno">  457</span>        }</div>
<div class="line"><span class="lineno">  458</span>    }</div>
<div class="line"><span class="lineno">  459</span>}</div>
<div class="ttc" id="agroup__utilities_html_ga59b5fdda574d90facae95dec2d13040d"><div class="ttname"><a href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d">parseDate</a></div><div class="ttdeci">Date parseDate(const string &amp;s)</div></div>
<div class="ttc" id="alog_8hpp_html_a34c7c8cde9b91d2eee82d7b9a0b66fd5"><div class="ttname"><a href="../ored/log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a></div><div class="ttdeci">#define DLOG(text)</div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_a35d86bbe3c6d9f5c3de91441c206506e"><div class="ttname"><a href="namespaceore_1_1analytics.html#a35d86bbe3c6d9f5c3de91441c206506e">ore::analytics::parseRegulationString</a></div><div class="ttdeci">set&lt; string &gt; parseRegulationString(const string &amp;regsString, const set&lt; string &gt; &amp;valueIfEmpty)</div><div class="ttdoc">Reads a string containing regulations applicable for a given CRIF record.</div><div class="ttdef"><b>Definition:</b> <a href="simmconfiguration_8cpp_source.html#l00315">simmconfiguration.cpp:315</a></div></div>
</div><!-- fragment --><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_ad5505c64d1b30045a035ac4ee2ceb30a_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad5505c64d1b30045a035ac4ee2ceb30a_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad5505c64d1b30045a035ac4ee2ceb30a_cgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad5505c64d1b30045a035ac4ee2ceb30a_cgraph">
<area shape="rect" title="Collect trade data as defined by the CRIF records." alt="" coords="5,131,124,156"/>
<area shape="rect" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html#a03860da215b6eb523ec20c79ddc9be75" title=" " alt="" coords="172,5,387,60"/>
<area shape="rect" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html#ac58df5ee8cc9f3102294179f70ca11db" title=" " alt="" coords="172,84,387,139"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d" title=" " alt="" coords="239,163,320,188"/>
<area shape="rect" href="namespaceore_1_1analytics.html#a35d86bbe3c6d9f5c3de91441c206506e" title="Reads a string containing regulations applicable for a given CRIF record." alt="" coords="179,213,380,253"/>
</map>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_ad5505c64d1b30045a035ac4ee2ceb30a_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad5505c64d1b30045a035ac4ee2ceb30a_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad5505c64d1b30045a035ac4ee2ceb30a_icgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad5505c64d1b30045a035ac4ee2ceb30a_icgraph">
<area shape="rect" title="Collect trade data as defined by the CRIF records." alt="" coords="201,5,320,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abe5477980f0d1e14f04ee5ac68f46636" title="Construct the IMScheduleCalculator from a container of netted CRIF records." alt="" coords="5,5,153,31"/>
</map>
</div>

</div>
</div>
<a id="ae1c05bf5c47d62c61d52b3c2770e7019" name="ae1c05bf5c47d62c61d52b3c2770e7019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1c05bf5c47d62c61d52b3c2770e7019">&#9670;&#160;</a></span>populateResults()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void populateResults </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a> &amp;&#160;</td>
          <td class="paramname"><em>nsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>regulation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;&#160;</td>
          <td class="paramname"><em>side</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Populate the results structure with the higher level results after the IMs have been calculated at the (product class, maturity) level for each portfolio </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00461">461</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  462</span>                                                                 {</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>    <a class="code hl_defineRef" href="../ored/log_8hpp.html#a158e0f085ddedfe5c8ed069986039f50">LOG</a>(<span class="stringliteral">&quot;IMScheduleCalculator: Populating &quot;</span> &lt;&lt; side &lt;&lt; <span class="stringliteral">&quot; IM for netting set [&quot;</span> &lt;&lt; nettingSetDetails</div>
<div class="line"><span class="lineno">  465</span>                                            &lt;&lt; <span class="stringliteral">&quot;] under regulation &quot;</span> &lt;&lt; regulation);</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; regTradeData = <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a8d44708be3ab454ea4ce2ed07985fa1f">nettingSetRegTradeData_</a>.at(side).at(nettingSetDetails).at(regulation);</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>    Real grossMarginCalc = 0;</div>
<div class="line"><span class="lineno">  471</span>    Real grossRCCalc = 0;</div>
<div class="line"><span class="lineno">  472</span>    Real presentValueCalc = 0;</div>
<div class="line"><span class="lineno">  473</span> </div>
<div class="line"><span class="lineno">  474</span>    <span class="comment">// Populate results at the product class level</span></div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; td : regTradeData) {</div>
<div class="line"><span class="lineno">  476</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="namespaceore_1_1analytics.html#af31716ebfaeef39b19c6918798572570">IMScheduleTradeData</a>&amp; tradeData = td.second;</div>
<div class="line"><span class="lineno">  477</span>        <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad7d565ad2528550ec24e79e9d80702fd">add</a>(side, nettingSetDetails, regulation, tradeData.productClass, <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abb36b19e887d4397b44b9e9d0ec34f52">calculationCcy_</a>, tradeData.grossMarginCalc);</div>
<div class="line"><span class="lineno">  478</span>        </div>
<div class="line"><span class="lineno">  479</span>        <span class="comment">// Sum up trade details to obtain netting set level values:</span></div>
<div class="line"><span class="lineno">  480</span>        <span class="comment">// - Gross margin, gross RC, net RC, PVs</span></div>
<div class="line"><span class="lineno">  481</span>        grossMarginCalc += tradeData.grossMarginCalc;</div>
<div class="line"><span class="lineno">  482</span>        grossRCCalc +=</div>
<div class="line"><span class="lineno">  483</span>            side == SimmSide::Call ? <a class="code hl_functionRef" href="../qle/namespace_quant_ext.html#a0780e43df89be3d7f7671eca2418cdd1">max</a>(0.0, tradeData.presentValueCalc) : <a class="code hl_functionRef" href="../qle/namespace_quant_ext.html#afe4df8f9c3657399dd532e1d3c895dfa">min</a>(0.0, tradeData.presentValueCalc);</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>        presentValueCalc += tradeData.presentValueCalc;</div>
<div class="line"><span class="lineno">  486</span>    }</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>    <span class="comment">// Calculate other amounts at the nettingSet-regulator level</span></div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>    <span class="comment">// Net replacement cost</span></div>
<div class="line"><span class="lineno">  491</span>    Real netRCCalc = side == SimmSide::Call ? <a class="code hl_functionRef" href="../qle/namespace_quant_ext.html#a0780e43df89be3d7f7671eca2418cdd1">max</a>(0.0, presentValueCalc) : <a class="code hl_functionRef" href="../qle/namespace_quant_ext.html#afe4df8f9c3657399dd532e1d3c895dfa">min</a>(0.0, presentValueCalc);</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>    <span class="comment">// Net-to-gross ratio</span></div>
<div class="line"><span class="lineno">  494</span>    Real netToGrossCalc = <a class="code hl_functionRef" href="../qle/namespace_quant_ext.html#a1cab4fb6a720eff245acb9f3a7a9e7c5">close_enough</a>(grossRCCalc, 0.0) ? 1.0 : netRCCalc / grossRCCalc;</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>    <span class="comment">// Schedule IM</span></div>
<div class="line"><span class="lineno">  497</span>    Real scheduleMarginCalc = grossMarginCalc * (0.4 + 0.6 * netToGrossCalc);</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>    <span class="comment">// Populate higher level results</span></div>
<div class="line"><span class="lineno">  500</span>    <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1420e7c1bd1a37e06d5d7529cf249e52">imScheduleResults_</a>.at(side)</div>
<div class="line"><span class="lineno">  501</span>        .at(nettingSetDetails)</div>
<div class="line"><span class="lineno">  502</span>        .at(regulation)</div>
<div class="line"><span class="lineno">  503</span>        .add(ProductClass::All, <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abb36b19e887d4397b44b9e9d0ec34f52">calculationCcy_</a>, grossMarginCalc, grossRCCalc, netRCCalc, netToGrossCalc,</div>
<div class="line"><span class="lineno">  504</span>             scheduleMarginCalc);</div>
<div class="line"><span class="lineno">  505</span>}</div>
<div class="ttc" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_html_ad7d565ad2528550ec24e79e9d80702fd"><div class="ttname"><a href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad7d565ad2528550ec24e79e9d80702fd">ore::analytics::IMScheduleCalculator::add</a></div><div class="ttdeci">void add(const SimmSide &amp;side, const ore::data::NettingSetDetails &amp;nsd, const std::string &amp;regulation, const CrifRecord::ProductClass &amp;pc, const std::string &amp;ccy, const QuantLib::Real &amp;grossIM, const QuantLib::Real &amp;grossRC=QuantLib::Null&lt; QuantLib::Real &gt;(), const QuantLib::Real &amp;netRC=QuantLib::Null&lt; QuantLib::Real &gt;(), const QuantLib::Real &amp;ngr=QuantLib::Null&lt; QuantLib::Real &gt;(), const QuantLib::Real &amp;scheduleIM=QuantLib::Null&lt; QuantLib::Real &gt;())</div><div class="ttdoc">Add a margin result to either call or post results container depending on the SimmSide parameter.</div><div class="ttdef"><b>Definition:</b> <a href="imschedulecalculator_8cpp_source.html#l00576">imschedulecalculator.cpp:576</a></div></div>
<div class="ttc" id="anamespace_quant_ext_html_a0780e43df89be3d7f7671eca2418cdd1"><div class="ttname"><a href="../qle/namespace_quant_ext.html#a0780e43df89be3d7f7671eca2418cdd1">max</a></div><div class="ttdeci">RandomVariable max(RandomVariable x, const RandomVariable &amp;y)</div></div>
<div class="ttc" id="anamespace_quant_ext_html_afe4df8f9c3657399dd532e1d3c895dfa"><div class="ttname"><a href="../qle/namespace_quant_ext.html#afe4df8f9c3657399dd532e1d3c895dfa">min</a></div><div class="ttdeci">RandomVariable min(RandomVariable x, const RandomVariable &amp;y)</div></div>
</div><!-- fragment --><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_ae1c05bf5c47d62c61d52b3c2770e7019_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_ae1c05bf5c47d62c61d52b3c2770e7019_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ae1c05bf5c47d62c61d52b3c2770e7019_cgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ae1c05bf5c47d62c61d52b3c2770e7019_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,120,107"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ad7d565ad2528550ec24e79e9d80702fd" title="Add a margin result to either call or post results container depending on the SimmSide parameter." alt="" coords="170,5,213,31"/>
<area shape="rect" target="_parent" href="../qle/namespace_quant_ext.html#a1cab4fb6a720eff245acb9f3a7a9e7c5" title=" " alt="" coords="263,31,365,56"/>
<area shape="rect" target="_parent" href="../qle/namespace_quant_ext.html#a0780e43df89be3d7f7671eca2418cdd1" title=" " alt="" coords="168,107,215,132"/>
<area shape="rect" target="_parent" href="../qle/namespace_quant_ext.html#afe4df8f9c3657399dd532e1d3c895dfa" title=" " alt="" coords="170,156,213,181"/>
</map>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_ae1c05bf5c47d62c61d52b3c2770e7019_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_ae1c05bf5c47d62c61d52b3c2770e7019_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ae1c05bf5c47d62c61d52b3c2770e7019_icgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ae1c05bf5c47d62c61d52b3c2770e7019_icgraph">
<area shape="rect" title=" " alt="" coords="201,5,316,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abe5477980f0d1e14f04ee5ac68f46636" title="Construct the IMScheduleCalculator from a container of netted CRIF records." alt="" coords="5,5,153,31"/>
</map>
</div>

</div>
</div>
<a id="a042350faccc6edc921037241553b2b47" name="a042350faccc6edc921037241553b2b47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a042350faccc6edc921037241553b2b47">&#9670;&#160;</a></span>populateFinalResults() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void populateFinalResults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Populate final (i.e. winning regulators') using own list of winning regulators, which were determined solely by the IMSchedule results (i.e. not including any external SIMM results) </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00572">572</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  572</span>                                                {</div>
<div class="line"><span class="lineno">  573</span>    <a class="code hl_function" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a042350faccc6edc921037241553b2b47">populateFinalResults</a>(<a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a4b33acd9c41c58660a2f82e5f43963c4">winningRegulations_</a>);</div>
<div class="line"><span class="lineno">  574</span>}</div>
</div><!-- fragment --><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_a042350faccc6edc921037241553b2b47_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_a042350faccc6edc921037241553b2b47_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_a042350faccc6edc921037241553b2b47_cgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_a042350faccc6edc921037241553b2b47_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,148,55"/>
</map>
</div>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_a042350faccc6edc921037241553b2b47_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_a042350faccc6edc921037241553b2b47_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_a042350faccc6edc921037241553b2b47_icgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_a042350faccc6edc921037241553b2b47_icgraph">
<area shape="rect" title=" " alt="" coords="201,29,344,55"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abe5477980f0d1e14f04ee5ac68f46636" title="Construct the IMScheduleCalculator from a container of netted CRIF records." alt="" coords="5,29,153,55"/>
</map>
</div>

</div>
</div>
<a id="ad7d565ad2528550ec24e79e9d80702fd" name="ad7d565ad2528550ec24e79e9d80702fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7d565ad2528550ec24e79e9d80702fd">&#9670;&#160;</a></span>add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void add </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a> &amp;&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a> &amp;&#160;</td>
          <td class="paramname"><em>nsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>regulation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structore_1_1analytics_1_1_crif_record.html#aac3c9ca896a60df32236fdc4ef53bdc9">CrifRecord::ProductClass</a> &amp;&#160;</td>
          <td class="paramname"><em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ccy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Real &amp;&#160;</td>
          <td class="paramname"><em>grossIM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Real &amp;&#160;</td>
          <td class="paramname"><em>grossRC</em> = <code>QuantLib::Null&lt;QuantLib::Real&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Real &amp;&#160;</td>
          <td class="paramname"><em>netRC</em> = <code>QuantLib::Null&lt;QuantLib::Real&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Real &amp;&#160;</td>
          <td class="paramname"><em>ngr</em> = <code>QuantLib::Null&lt;QuantLib::Real&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Real &amp;&#160;</td>
          <td class="paramname"><em>scheduleIM</em> = <code>QuantLib::Null&lt;QuantLib::Real&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a margin result to either call or post results container depending on the SimmSide parameter. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8cpp_source.html#l00576">576</a> of file <a class="el" href="imschedulecalculator_8cpp_source.html">imschedulecalculator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  578</span>                                                                                           {</div>
<div class="line"><span class="lineno">  579</span>    </div>
<div class="line"><span class="lineno">  580</span>    QuantLib::Real netToGrossRatio = ngr != Null&lt;Real&gt;() &amp;&amp; <a class="code hl_functionRef" href="../qle/namespace_quant_ext.html#a1cab4fb6a720eff245acb9f3a7a9e7c5">close_enough</a>(ngr, 0.0) ? 0.0 : ngr;</div>
<div class="line"><span class="lineno">  581</span>    <a class="code hl_variable" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#a1420e7c1bd1a37e06d5d7529cf249e52">imScheduleResults_</a>[side][nsd][regulation].add(pc, calcCcy, grossIM, grossRC, netRC, netToGrossRatio, scheduleIM);</div>
<div class="line"><span class="lineno">  582</span>}</div>
</div><!-- fragment --><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_ad7d565ad2528550ec24e79e9d80702fd_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad7d565ad2528550ec24e79e9d80702fd_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad7d565ad2528550ec24e79e9d80702fd_cgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad7d565ad2528550ec24e79e9d80702fd_cgraph">
<area shape="rect" title="Add a margin result to either call or post results container depending on the SimmSide parameter." alt="" coords="5,5,48,31"/>
<area shape="rect" target="_parent" href="../qle/namespace_quant_ext.html#a1cab4fb6a720eff245acb9f3a7a9e7c5" title=" " alt="" coords="96,5,199,31"/>
</map>
</div>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_i_m_schedule_calculator_ad7d565ad2528550ec24e79e9d80702fd_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad7d565ad2528550ec24e79e9d80702fd_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad7d565ad2528550ec24e79e9d80702fd_icgraph" id="aclassore_1_1analytics_1_1_i_m_schedule_calculator_ad7d565ad2528550ec24e79e9d80702fd_icgraph">
<area shape="rect" title="Add a margin result to either call or post results container depending on the SimmSide parameter." alt="" coords="364,5,407,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#ae1c05bf5c47d62c61d52b3c2770e7019" title=" " alt="" coords="201,5,316,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_i_m_schedule_calculator.html#abe5477980f0d1e14f04ee5ac68f46636" title="Construct the IMScheduleCalculator from a container of netted CRIF records." alt="" coords="5,5,153,31"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="abf2dee0df927335cc4a8907e2c26bbbd" name="abf2dee0df927335cc4a8907e2c26bbbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf2dee0df927335cc4a8907e2c26bbbd">&#9670;&#160;</a></span>crif_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classore_1_1analytics_1_1_crif.html">ore::analytics::Crif</a> crif_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The net sensitivities used in the calculation. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00160">160</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="abb36b19e887d4397b44b9e9d0ec34f52" name="abb36b19e887d4397b44b9e9d0ec34f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb36b19e887d4397b44b9e9d0ec34f52">&#9670;&#160;</a></span>calculationCcy_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string calculationCcy_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The SIMM calculation currency i.e. the currency of the SIMM results. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00163">163</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="aa14f759693736cf0438f0e6ff1a792fe" name="aa14f759693736cf0438f0e6ff1a792fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa14f759693736cf0438f0e6ff1a792fe">&#9670;&#160;</a></span>market_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::ext::shared_ptr&lt;<a class="elRef" href="../ored/classore_1_1data_1_1_market.html">ore::data::Market</a>&gt; market_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Market data for FX rates to use for converting amounts to USD. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00166">166</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="aa2fedb3c02ffb092a6c19a0ee1e81a02" name="aa2fedb3c02ffb092a6c19a0ee1e81a02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2fedb3c02ffb092a6c19a0ee1e81a02">&#9670;&#160;</a></span>quiet_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> quiet_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If true, no logging is written out. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00169">169</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="a2b0763dca4cfeddb14b14c992a4ec115" name="a2b0763dca4cfeddb14b14c992a4ec115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b0763dca4cfeddb14b14c992a4ec115">&#9670;&#160;</a></span>hasSEC_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::set&lt;<a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a>&gt; &gt; hasSEC_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00171">171</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="a294f980933859f258720759c50392d25" name="a294f980933859f258720759c50392d25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a294f980933859f258720759c50392d25">&#9670;&#160;</a></span>hasCFTC_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::set&lt;<a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">NettingSetDetails</a>&gt; &gt; hasCFTC_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00171">171</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="a5ec9383d15f514091d85cc7fd697abbb" name="a5ec9383d15f514091d85cc7fd697abbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ec9383d15f514091d85cc7fd697abbb">&#9670;&#160;</a></span>collectRegsIsEmpty_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, <a class="el" href="classbool.html">bool</a>&gt; collectRegsIsEmpty_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For each netting set, whether all CRIF records' collect regulations are empty. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00174">174</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="a67f8ce8eaf3735d038f954742105a97d" name="a67f8ce8eaf3735d038f954742105a97d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67f8ce8eaf3735d038f954742105a97d">&#9670;&#160;</a></span>postRegsIsEmpty_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, <a class="el" href="classbool.html">bool</a>&gt; postRegsIsEmpty_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For each netting set, whether all CRIF records' post regulations are empty. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00177">177</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="a1420e7c1bd1a37e06d5d7529cf249e52" name="a1420e7c1bd1a37e06d5d7529cf249e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1420e7c1bd1a37e06d5d7529cf249e52">&#9670;&#160;</a></span>imScheduleResults_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt;<a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::map&lt;std::string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a>&gt; &gt; &gt; imScheduleResults_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Containers, one for call and post, with an <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> object for each regulation under each portfolio ID. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00181">181</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="a67e480625941ff7109cdc8d74c6ec475" name="a67e480625941ff7109cdc8d74c6ec475"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67e480625941ff7109cdc8d74c6ec475">&#9670;&#160;</a></span>finalImScheduleResults_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt;<a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::pair&lt;std::string, <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a>&gt; &gt; &gt; finalImScheduleResults_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Containers, one for call and post, with an <a class="el" href="classore_1_1analytics_1_1_i_m_schedule_results.html">IMScheduleResults</a> object for each portfolio ID. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00185">185</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="ad8588960e070f807177fb86c539c02bc" name="ad8588960e070f807177fb86c539c02bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8588960e070f807177fb86c539c02bc">&#9670;&#160;</a></span>tradeIds_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt;<a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::map&lt;std::string, set&lt;string&gt; &gt; &gt; &gt; tradeIds_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Container for keeping track of what trade IDs belong to each regulation. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00189">189</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="acf6d3f08c36da850265818577b6c5111" name="acf6d3f08c36da850265818577b6c5111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf6d3f08c36da850265818577b6c5111">&#9670;&#160;</a></span>finalTradeIds_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, set&lt;string&gt; &gt; finalTradeIds_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00191">191</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="a4b33acd9c41c58660a2f82e5f43963c4" name="a4b33acd9c41c58660a2f82e5f43963c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b33acd9c41c58660a2f82e5f43963c4">&#9670;&#160;</a></span>winningRegulations_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt;<a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::string&gt; &gt; winningRegulations_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Regulation with highest IM for each given netting set. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00195">195</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="aa5dd2cc7a3f814f5d27ddb24dd263bc3" name="aa5dd2cc7a3f814f5d27ddb24dd263bc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5dd2cc7a3f814f5d27ddb24dd263bc3">&#9670;&#160;</a></span>finalTradeData_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, std::vector&lt;<a class="el" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html">IMScheduleTradeData</a>&gt; &gt; finalTradeData_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Container for trade data collected from CRIF report trade ID trade data </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00199">199</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="a8d44708be3ab454ea4ce2ed07985fa1f" name="a8d44708be3ab454ea4ce2ed07985fa1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d44708be3ab454ea4ce2ed07985fa1f">&#9670;&#160;</a></span>nettingSetRegTradeData_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="classore_1_1analytics_1_1_simm_configuration.html#a7350b34aa36058291464dad7368190f1">SimmSide</a>, std::map&lt;<a class="elRef" href="../ored/classore_1_1data_1_1_netting_set_details.html">ore::data::NettingSetDetails</a>, std::map&lt;std::string, std::map&lt;std::string, <a class="el" href="structore_1_1analytics_1_1_i_m_schedule_calculator_1_1_i_m_schedule_trade_data.html">IMScheduleTradeData</a>&gt; &gt; &gt; &gt; nettingSetRegTradeData_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Container for trade data, taking into account regulations applicable to each netting set. </p>

<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00203">203</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
<a id="afbf9fe9b6336c89e683fbe2a23631e09" name="afbf9fe9b6336c89e683fbe2a23631e09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbf9fe9b6336c89e683fbe2a23631e09">&#9670;&#160;</a></span>multiplierMap_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191">IMScheduleLabel</a>, QuantLib::Real&gt; multiplierMap_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= std::map&lt;IMScheduleLabel, QuantLib::Real&gt;({</div>
<div class="line">        </div>
<div class="line">        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191ac18bf655be179501e5011a9a2d4d9d90">IMScheduleLabel::Credit2</a>,      0.02},</div>
<div class="line">        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a1a73e6c41bbb275f09dc0a75de7233a7">IMScheduleLabel::Credit5</a>,      0.05},</div>
<div class="line">        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a35a18fe79643de0cd26956efcc85407b">IMScheduleLabel::Credit100</a>,    0.10},</div>
<div class="line">        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a47d00d4c3d43ce2afc332443c0eb4aea">IMScheduleLabel::Commodity</a>,    0.15},</div>
<div class="line">        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191afca045892cfb54a0a740fda38d76448e">IMScheduleLabel::Equity</a>,       0.15},</div>
<div class="line">        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a48b424735b6e21a4a4fe044feaee5a50">IMScheduleLabel::FX</a>,           0.06},</div>
<div class="line">        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191aabbcbd2cf414a4c0ef87c491b7d59775">IMScheduleLabel::Rates2</a>,       0.01},</div>
<div class="line">        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a09ea1849e8f7a587f11eabe88bd3f0f8">IMScheduleLabel::Rates5</a>,       0.02},</div>
<div class="line">        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191a9059729211dd6a624f618c4701f81992">IMScheduleLabel::Rates100</a>,     0.04},</div>
<div class="line">        {<a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#aef95be1f4b274c67fd8a244af20f4191ab41fe07a134a62397420ef854d35c7b1">IMScheduleLabel::Other</a>,        0.15},</div>
<div class="line">        </div>
<div class="line">    })</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="imschedulecalculator_8hpp_source.html#l00205">205</a> of file <a class="el" href="imschedulecalculator_8hpp_source.html">imschedulecalculator.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.9.5
</small></address>
</body>
</html>
