<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<title>OREAnalytics: ParSensitivityAnalysis Class Reference</title>
<link href="https://fonts.googleapis.com/css?family=Merriweather+Sans|Open+Sans" rel="stylesheet">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="favicon.png">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="oreaextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname"><a href="https://rkapl123.github.io/OREAnnotatedSource/">
       <img src="logo-analytics@2x.png" alt="Logo" width="150" height="68" style="float: left; padding: 15px;"/></a>
   <div id="projectbrief">Fully annotated reference manual - version 1.8.12</div>
   </div>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceore.html">ore</a></li><li class="navelem"><a class="el" href="namespaceore_1_1analytics.html">analytics</a></li><li class="navelem"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html">ParSensitivityAnalysis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classore_1_1analytics_1_1_par_sensitivity_analysis-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ParSensitivityAnalysis Class Reference<div class="ingroups"><a class="el" href="group__simulation.html">Simulation</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Par Sensitivity Analysis.  
 <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">orea/engine/parsensitivityanalysis.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for ParSensitivityAnalysis:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_par_sensitivity_analysis__coll__graph.png" border="0" usemap="#a_par_sensitivity_analysis_coll__map" alt="Collaboration graph"/></div>
<map name="a_par_sensitivity_analysis_coll__map" id="a_par_sensitivity_analysis_coll__map">
<area shape="rect" title="Par Sensitivity Analysis." alt="" coords="3057,3467,3299,3712"/>
<area shape="rect" title=" " alt="" coords="97,2381,150,2421"/>
<area shape="rect" title=" " alt="" coords="175,2374,397,2429"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html" title="Description of sensitivity shift scenarios." alt="" coords="1735,1399,1941,3404"/>
<area shape="rect" target="_parent" href="../ored/classore_1_1data_1_1_x_m_l_serializable.html" title=" " alt="" coords="1236,1164,1384,1307"/>
<area shape="rect" title=" " alt="" coords="2998,284,3198,368"/>
<area shape="rect" title=" " alt="" coords="982,123,1041,163"/>
<area shape="rect" title=" " alt="" coords="1133,643,1314,713"/>
<area shape="rect" title=" " alt="" coords="1135,306,1304,346"/>
<area shape="rect" title=" " alt="" coords="2003,306,2145,346"/>
<area shape="rect" title=" " alt="" coords="1462,306,1651,346"/>
<area shape="rect" title=" " alt="" coords="494,284,699,368"/>
<area shape="rect" title=" " alt="" coords="2025,1201,2213,1270"/>
<area shape="rect" title=" " alt="" coords="1551,1003,1733,1072"/>
<area shape="rect" title=" " alt="" coords="1757,1003,1938,1072"/>
<area shape="rect" href="structore_1_1analytics_1_1_sensitivity_scenario_data_1_1_cds_vol_shift_data.html" title=" " alt="" coords="1756,643,1899,713"/>
<area shape="rect" title=" " alt="" coords="1287,1003,1474,1072"/>
<area shape="rect" href="structore_1_1analytics_1_1_sensitivity_scenario_data_1_1_base_correlation_shift_data.html" title=" " alt="" coords="1365,643,1559,713"/>
<area shape="rect" title=" " alt="" coords="2169,306,2315,346"/>
<area shape="rect" title=" " alt="" coords="2801,306,2974,346"/>
<area shape="rect" href="classore_1_1analytics_1_1_risk_factor_key.html" title="Data types stored in the scenario class." alt="" coords="6328,284,6463,368"/>
<area shape="rect" title=" " alt="" coords="2746,651,2943,705"/>
<area shape="rect" title=" " alt="" coords="4339,482,4465,522"/>
<area shape="rect" title=" " alt="" coords="938,5,1085,45"/>
<area shape="rect" title=" " alt="" coords="2944,108,3121,177"/>
<area shape="rect" title=" " alt="" coords="3645,123,3743,163"/>
<area shape="rect" title=" " alt="" coords="3567,284,3765,368"/>
<area shape="rect" title=" " alt="" coords="4541,460,4722,544"/>
<area shape="rect" title=" " alt="" coords="5793,460,5974,544"/>
<area shape="rect" title=" " alt="" coords="6051,467,6329,537"/>
<area shape="rect" title=" " alt="" coords="6527,460,6771,544"/>
<area shape="rect" title=" " alt="" coords="4022,460,4233,544"/>
<area shape="rect" title=" " alt="" coords="4793,460,4974,544"/>
<area shape="rect" title=" " alt="" coords="5276,460,5499,544"/>
<area shape="rect" title=" " alt="" coords="5813,636,5956,720"/>
<area shape="rect" title=" " alt="" coords="7021,460,7175,544"/>
<area shape="rect" title=" " alt="" coords="5885,5,5924,45"/>
<area shape="rect" title=" " alt="" coords="7381,306,7458,346"/>
<area shape="rect" title=" " alt="" coords="2815,5,2853,45"/>
<area shape="rect" title=" " alt="" coords="2339,306,2430,346"/>
<area shape="rect" href="structore_1_1analytics_1_1_sensitivity_scenario_data_1_1_shift_data.html" title=" " alt="" coords="1535,475,1645,529"/>
<area shape="rect" href="structore_1_1analytics_1_1_sensitivity_scenario_data_1_1_vol_shift_data.html" title=" " alt="" coords="1611,643,1731,713"/>
<area shape="rect" title=" " alt="" coords="1675,306,1755,346"/>
<area shape="rect" title=" " alt="" coords="1964,123,2016,163"/>
<area shape="rect" title=" " alt="" coords="1719,482,1829,522"/>
<area shape="rect" title=" " alt="" coords="1467,123,1567,163"/>
<area shape="rect" title=" " alt="" coords="1318,123,1398,163"/>
<area shape="rect" title=" " alt="" coords="261,108,439,177"/>
<area shape="rect" href="structore_1_1analytics_1_1_sensitivity_scenario_data_1_1_generic_yield_vol_shift_data.html" title=" " alt="" coords="2025,1003,2219,1072"/>
<area shape="rect" title=" " alt="" coords="2071,482,2192,522"/>
<area shape="rect" title=" " alt="" coords="2624,306,2687,346"/>
<area shape="rect" title=" " alt="" coords="2507,482,2689,522"/>
<area shape="rect" title=" " alt="" coords="2342,475,2483,529"/>
<area shape="rect" href="classbool.html" title=" " alt="" coords="649,482,699,522"/>
<area shape="rect" title=" " alt="" coords="2457,306,2600,346"/>
<area shape="rect" title=" " alt="" coords="2649,123,2696,163"/>
<area shape="rect" title=" " alt="" coords="3889,108,4077,177"/>
<area shape="rect" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html" title=" " alt="" coords="4712,1017,4807,1057"/>
<area shape="rect" title=" " alt="" coords="6795,475,6929,529"/>
<area shape="rect" title=" " alt="" coords="7197,123,7274,163"/>
<area shape="rect" title=" " alt="" coords="7299,123,7351,163"/>
<area shape="rect" title=" " alt="" coords="4316,299,4467,353"/>
<area shape="rect" title=" " alt="" coords="5908,299,6059,353"/>
<area shape="rect" title=" " alt="" coords="6487,299,6683,353"/>
<area shape="rect" title=" " alt="" coords="6952,299,7143,353"/>
<area shape="rect" title=" " alt="" coords="3789,299,3996,353"/>
<area shape="rect" title=" " alt="" coords="4719,299,4882,353"/>
<area shape="rect" title=" " alt="" coords="5446,299,5665,353"/>
<area shape="rect" title=" " alt="" coords="7267,475,7454,529"/>
<area shape="rect" title=" " alt="" coords="7655,306,7733,346"/>
<area shape="rect" title=" " alt="" coords="7482,299,7631,353"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:abe637de864ef34aa2842b582cf4680b4"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::pair&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a>, <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a> &gt;, Real &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#abe637de864ef34aa2842b582cf4680b4">ParContainer</a></td></tr>
<tr class="separator:abe637de864ef34aa2842b582cf4680b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae97c9dbe0218483495869bfff262b660"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#ae97c9dbe0218483495869bfff262b660">ParSensitivityAnalysis</a> (const QuantLib::Date &amp;<a class="el" href="test_2scenarioshiftcalculator_8cpp.html#a652b8805d9b88185e25574d4820660c4">asof</a>, const QuantLib::ext::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario_sim_market_parameters.html">ore::analytics::ScenarioSimMarketParameters</a> &gt; &amp;simMarketParams, const <a class="el" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html">ore::analytics::SensitivityScenarioData</a> &amp;sensitivityData, const string &amp;marketConfiguration=<a class="elRef" href="../ored/classore_1_1data_1_1_market.html#ab336651e3455fff1764bf576a5785bbd">Market::defaultConfiguration</a>, const <a class="el" href="classbool.html">bool</a> continueOnError=false, const std::set&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238c">ore::analytics::RiskFactorKey::KeyType</a> &gt; &amp;<a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#afbc2e170697d8df9e2e11aaa9c200816">typesDisabled</a>={})</td></tr>
<tr class="memdesc:ae97c9dbe0218483495869bfff262b660"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#ae97c9dbe0218483495869bfff262b660">More...</a><br /></td></tr>
<tr class="separator:ae97c9dbe0218483495869bfff262b660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada299256f8f47d1874acd87e24d4ceaf"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#ada299256f8f47d1874acd87e24d4ceaf">~ParSensitivityAnalysis</a> ()</td></tr>
<tr class="separator:ada299256f8f47d1874acd87e24d4ceaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdae52d1591db2caae3d1ceb4f42fba4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#abdae52d1591db2caae3d1ceb4f42fba4">computeParInstrumentSensitivities</a> (const QuantLib::ext::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario_sim_market.html">ore::analytics::ScenarioSimMarket</a> &gt; &amp;simMarket)</td></tr>
<tr class="memdesc:abdae52d1591db2caae3d1ceb4f42fba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute par instrument sensitivities.  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#abdae52d1591db2caae3d1ceb4f42fba4">More...</a><br /></td></tr>
<tr class="separator:abdae52d1591db2caae3d1ceb4f42fba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8092eccb5ce3a742bec7c90e7599fe71"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#abe637de864ef34aa2842b582cf4680b4">ParContainer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a8092eccb5ce3a742bec7c90e7599fe71">parSensitivities</a> () const</td></tr>
<tr class="memdesc:a8092eccb5ce3a742bec7c90e7599fe71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return computed par sensitivities. Empty if they have not been computed yet.  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a8092eccb5ce3a742bec7c90e7599fe71">More...</a><br /></td></tr>
<tr class="separator:a8092eccb5ce3a742bec7c90e7599fe71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28915bb1dca6668799c336ea3a953e45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a28915bb1dca6668799c336ea3a953e45">alignPillars</a> ()</td></tr>
<tr class="memdesc:a28915bb1dca6668799c336ea3a953e45"><td class="mdescLeft">&#160;</td><td class="mdescRight">align pillars in scenario simulation market parameters with those of the par instruments  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a28915bb1dca6668799c336ea3a953e45">More...</a><br /></td></tr>
<tr class="separator:a28915bb1dca6668799c336ea3a953e45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bc5a644a73ad885cb0dcf9ff06495ab"><td class="memItemLeft" align="right" valign="top">const std::set&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a9bc5a644a73ad885cb0dcf9ff06495ab">relevantRiskFactors</a> () const</td></tr>
<tr class="memdesc:a9bc5a644a73ad885cb0dcf9ff06495ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">get / set the relevant scenarios (if empty, these are ignored)  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a9bc5a644a73ad885cb0dcf9ff06495ab">More...</a><br /></td></tr>
<tr class="separator:a9bc5a644a73ad885cb0dcf9ff06495ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45e6d7030b16a8f4ccff9de74ddd3bc9"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a45e6d7030b16a8f4ccff9de74ddd3bc9">relevantRiskFactors</a> ()</td></tr>
<tr class="separator:a45e6d7030b16a8f4ccff9de74ddd3bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab397fee73d59f20038b686d3eeff9af3"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a>, std::pair&lt; QuantLib::Real, QuantLib::Real &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#ab397fee73d59f20038b686d3eeff9af3">shiftSizes</a> () const</td></tr>
<tr class="memdesc:ab397fee73d59f20038b686d3eeff9af3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the zero rate and par rate absolute shift size for each risk factor key.  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#ab397fee73d59f20038b686d3eeff9af3">More...</a><br /></td></tr>
<tr class="separator:ab397fee73d59f20038b686d3eeff9af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a201ef82fb3cbbcfea680dd06dcde5fb3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a201ef82fb3cbbcfea680dd06dcde5fb3">disable</a> (const std::set&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238c">ore::analytics::RiskFactorKey::KeyType</a> &gt; &amp;<a class="elRef" href="../ored/namespaceore_1_1data.html#a8889e35af3fc04877d0070383d8ee48c">types</a>)</td></tr>
<tr class="separator:a201ef82fb3cbbcfea680dd06dcde5fb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbc2e170697d8df9e2e11aaa9c200816"><td class="memItemLeft" align="right" valign="top">const std::set&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238c">ore::analytics::RiskFactorKey::KeyType</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#afbc2e170697d8df9e2e11aaa9c200816">typesDisabled</a> () const</td></tr>
<tr class="memdesc:afbc2e170697d8df9e2e11aaa9c200816"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the set of key types disabled for this instance of <a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html" title="Par Sensitivity Analysis.">ParSensitivityAnalysis</a>.  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#afbc2e170697d8df9e2e11aaa9c200816">More...</a><br /></td></tr>
<tr class="separator:afbc2e170697d8df9e2e11aaa9c200816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37571888deb5747f96b785fa9d53a51c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html">ParSensitivityInstrumentBuilder::Instruments</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a37571888deb5747f96b785fa9d53a51c">parInstruments</a> () const</td></tr>
<tr class="separator:a37571888deb5747f96b785fa9d53a51c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:adc1ea5d86780f6a6557b3bb6cf84926e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#adc1ea5d86780f6a6557b3bb6cf84926e">isParType</a> (<a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238c">ore::analytics::RiskFactorKey::KeyType</a> type)</td></tr>
<tr class="memdesc:adc1ea5d86780f6a6557b3bb6cf84926e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if risk factor type is applicable for par conversion.  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#adc1ea5d86780f6a6557b3bb6cf84926e">More...</a><br /></td></tr>
<tr class="separator:adc1ea5d86780f6a6557b3bb6cf84926e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aaf3b4fed233991ba67fc00a89e8fcd57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aaf3b4fed233991ba67fc00a89e8fcd57">augmentRelevantRiskFactors</a> ()</td></tr>
<tr class="memdesc:aaf3b4fed233991ba67fc00a89e8fcd57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Augment relevant risk factors.  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aaf3b4fed233991ba67fc00a89e8fcd57">More...</a><br /></td></tr>
<tr class="separator:aaf3b4fed233991ba67fc00a89e8fcd57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeebf3a9a26bb21e6bceb1b6faba0038e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aeebf3a9a26bb21e6bceb1b6faba0038e">populateShiftSizes</a> (const <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a> &amp;key, QuantLib::Real parRate, const QuantLib::ext::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario_sim_market.html">ore::analytics::ScenarioSimMarket</a> &gt; &amp;simMarket)</td></tr>
<tr class="memdesc:aeebf3a9a26bb21e6bceb1b6faba0038e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populate <code>shiftSizes_</code> for <code>key</code> given the implied fair par rate <code>parRate</code>.  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aeebf3a9a26bb21e6bceb1b6faba0038e">More...</a><br /></td></tr>
<tr class="separator:aeebf3a9a26bb21e6bceb1b6faba0038e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6e6cc380f7abdcf2e6796314ea24ea2d"><td class="memItemLeft" align="right" valign="top">QuantLib::Date&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a6e6cc380f7abdcf2e6796314ea24ea2d">asof_</a></td></tr>
<tr class="memdesc:a6e6cc380f7abdcf2e6796314ea24ea2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">As of date for the calculation of the par sensitivities.  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a6e6cc380f7abdcf2e6796314ea24ea2d">More...</a><br /></td></tr>
<tr class="separator:a6e6cc380f7abdcf2e6796314ea24ea2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a40a8b803ad052cd07397bb1f6bd886"><td class="memItemLeft" align="right" valign="top">QuantLib::ext::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario_sim_market_parameters.html">ore::analytics::ScenarioSimMarketParameters</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a3a40a8b803ad052cd07397bb1f6bd886">simMarketParams_</a></td></tr>
<tr class="memdesc:a3a40a8b803ad052cd07397bb1f6bd886"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simulation market parameters.  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a3a40a8b803ad052cd07397bb1f6bd886">More...</a><br /></td></tr>
<tr class="separator:a3a40a8b803ad052cd07397bb1f6bd886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a184eac3915c598c873e4d46604638085"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html">ore::analytics::SensitivityScenarioData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a184eac3915c598c873e4d46604638085">sensitivityData_</a></td></tr>
<tr class="memdesc:a184eac3915c598c873e4d46604638085"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sensitivity data.  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a184eac3915c598c873e4d46604638085">More...</a><br /></td></tr>
<tr class="separator:a184eac3915c598c873e4d46604638085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2afaeb949d17f1fc1f707c5ff3980648"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#abe637de864ef34aa2842b582cf4680b4">ParContainer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a2afaeb949d17f1fc1f707c5ff3980648">parSensi_</a></td></tr>
<tr class="memdesc:a2afaeb949d17f1fc1f707c5ff3980648"><td class="mdescLeft">&#160;</td><td class="mdescRight">sensitivity of par rates w.r.t. raw rate shifts (including optionlet/cap volatility)  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a2afaeb949d17f1fc1f707c5ff3980648">More...</a><br /></td></tr>
<tr class="separator:a2afaeb949d17f1fc1f707c5ff3980648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad58f3a41fe1a0ad98acd56689070dc3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html">ParSensitivityInstrumentBuilder::Instruments</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a></td></tr>
<tr class="separator:aad58f3a41fe1a0ad98acd56689070dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a177b5b16249c7f9ff63e839d862d16d7"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a177b5b16249c7f9ff63e839d862d16d7">marketConfiguration_</a></td></tr>
<tr class="separator:a177b5b16249c7f9ff63e839d862d16d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af32b71243dbbe327ebf21fbb3b27c3df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#af32b71243dbbe327ebf21fbb3b27c3df">continueOnError_</a></td></tr>
<tr class="separator:af32b71243dbbe327ebf21fbb3b27c3df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1da903fae63cef2935f81b313314f17"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a></td></tr>
<tr class="separator:aa1da903fae63cef2935f81b313314f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21cafd2d3db8b559b5ffef225471cd41"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238c">ore::analytics::RiskFactorKey::KeyType</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a></td></tr>
<tr class="memdesc:a21cafd2d3db8b559b5ffef225471cd41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of risk factor types disabled for this instance of <a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html" title="Par Sensitivity Analysis.">ParSensitivityAnalysis</a>.  <a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">More...</a><br /></td></tr>
<tr class="separator:a21cafd2d3db8b559b5ffef225471cd41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74eddecd72acf99e557b7682740f3b53"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a>, std::pair&lt; QuantLib::Real, QuantLib::Real &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a74eddecd72acf99e557b7682740f3b53">shiftSizes_</a></td></tr>
<tr class="separator:a74eddecd72acf99e557b7682740f3b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ae24b626b9a608b24efb06663b975b1c2"><td class="memItemLeft" align="right" valign="top">static std::set&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238c">ore::analytics::RiskFactorKey::KeyType</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#ae24b626b9a608b24efb06663b975b1c2">parTypes_</a></td></tr>
<tr class="separator:ae24b626b9a608b24efb06663b975b1c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Par Sensitivity Analysis. </p>
<p >This class adds par sensitivity conversion to the base class functionality </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00057">57</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="abe637de864ef34aa2842b582cf4680b4" name="abe637de864ef34aa2842b582cf4680b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe637de864ef34aa2842b582cf4680b4">&#9670;&#160;</a></span>ParContainer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::pair&lt;<a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a>, <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a>&gt;, Real&gt; <a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#abe637de864ef34aa2842b582cf4680b4">ParContainer</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00059">59</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae97c9dbe0218483495869bfff262b660" name="ae97c9dbe0218483495869bfff262b660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae97c9dbe0218483495869bfff262b660">&#9670;&#160;</a></span>ParSensitivityAnalysis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html">ParSensitivityAnalysis</a> </td>
          <td>(</td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>asof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::ext::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario_sim_market_parameters.html">ore::analytics::ScenarioSimMarketParameters</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>simMarketParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html">ore::analytics::SensitivityScenarioData</a> &amp;&#160;</td>
          <td class="paramname"><em>sensitivityData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>marketConfiguration</em> = <code><a class="elRef" href="../ored/classore_1_1data_1_1_market.html#ab336651e3455fff1764bf576a5785bbd">Market::defaultConfiguration</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>continueOnError</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238c">ore::analytics::RiskFactorKey::KeyType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>typesDisabled</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8cpp_source.html#l00089">89</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8cpp_source.html">parsensitivityanalysis.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   94</span>    : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a6e6cc380f7abdcf2e6796314ea24ea2d">asof_</a>(<a class="code hl_function" href="test_2scenarioshiftcalculator_8cpp.html#a652b8805d9b88185e25574d4820660c4">asof</a>), <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a3a40a8b803ad052cd07397bb1f6bd886">simMarketParams_</a>(simMarketParams), <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a184eac3915c598c873e4d46604638085">sensitivityData_</a>(sensitivityData),</div>
<div class="line"><span class="lineno">   95</span>      <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a177b5b16249c7f9ff63e839d862d16d7">marketConfiguration_</a>(marketConfiguration), <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#af32b71243dbbe327ebf21fbb3b27c3df">continueOnError_</a>(continueOnError), <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a>(<a class="code hl_function" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#afbc2e170697d8df9e2e11aaa9c200816">typesDisabled</a>) {</div>
<div class="line"><span class="lineno">   96</span>    <span class="keyword">const</span> QuantLib::ext::shared_ptr&lt;Conventions&gt;&amp; conventions = InstrumentConventions::instance().conventions();</div>
<div class="line"><span class="lineno">   97</span>    QL_REQUIRE(conventions != <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;conventions are empty&quot;</span>);</div>
<div class="line"><span class="lineno">   98</span>    <a class="code hl_class" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html">ParSensitivityInstrumentBuilder</a>().<a class="code hl_function" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a46efda8c130791ef8a8b1786016ced7f">createParInstruments</a>(<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a6e6cc380f7abdcf2e6796314ea24ea2d">asof_</a>, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a3a40a8b803ad052cd07397bb1f6bd886">simMarketParams_</a>, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a184eac3915c598c873e4d46604638085">sensitivityData_</a>,</div>
<div class="line"><span class="lineno">   99</span>                                                           <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a>, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#ae24b626b9a608b24efb06663b975b1c2">parTypes_</a>, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>,</div>
<div class="line"><span class="lineno">  100</span>                                                           <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#af32b71243dbbe327ebf21fbb3b27c3df">continueOnError_</a>, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a177b5b16249c7f9ff63e839d862d16d7">marketConfiguration_</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  101</span>}</div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_a177b5b16249c7f9ff63e839d862d16d7"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a177b5b16249c7f9ff63e839d862d16d7">ore::analytics::ParSensitivityAnalysis::marketConfiguration_</a></div><div class="ttdeci">std::string marketConfiguration_</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00120">parsensitivityanalysis.hpp:120</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_a184eac3915c598c873e4d46604638085"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a184eac3915c598c873e4d46604638085">ore::analytics::ParSensitivityAnalysis::sensitivityData_</a></div><div class="ttdeci">ore::analytics::SensitivityScenarioData sensitivityData_</div><div class="ttdoc">Sensitivity data.</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00115">parsensitivityanalysis.hpp:115</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_a21cafd2d3db8b559b5ffef225471cd41"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">ore::analytics::ParSensitivityAnalysis::typesDisabled_</a></div><div class="ttdeci">std::set&lt; ore::analytics::RiskFactorKey::KeyType &gt; typesDisabled_</div><div class="ttdoc">Set of risk factor types disabled for this instance of ParSensitivityAnalysis.</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00127">parsensitivityanalysis.hpp:127</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_a3a40a8b803ad052cd07397bb1f6bd886"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a3a40a8b803ad052cd07397bb1f6bd886">ore::analytics::ParSensitivityAnalysis::simMarketParams_</a></div><div class="ttdeci">QuantLib::ext::shared_ptr&lt; ore::analytics::ScenarioSimMarketParameters &gt; simMarketParams_</div><div class="ttdoc">Simulation market parameters.</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00113">parsensitivityanalysis.hpp:113</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_a6e6cc380f7abdcf2e6796314ea24ea2d"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a6e6cc380f7abdcf2e6796314ea24ea2d">ore::analytics::ParSensitivityAnalysis::asof_</a></div><div class="ttdeci">QuantLib::Date asof_</div><div class="ttdoc">As of date for the calculation of the par sensitivities.</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00111">parsensitivityanalysis.hpp:111</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_aa1da903fae63cef2935f81b313314f17"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">ore::analytics::ParSensitivityAnalysis::relevantRiskFactors_</a></div><div class="ttdeci">std::set&lt; ore::analytics::RiskFactorKey &gt; relevantRiskFactors_</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00122">parsensitivityanalysis.hpp:122</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_aad58f3a41fe1a0ad98acd56689070dc3"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">ore::analytics::ParSensitivityAnalysis::instruments_</a></div><div class="ttdeci">ParSensitivityInstrumentBuilder::Instruments instruments_</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00118">parsensitivityanalysis.hpp:118</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_ae24b626b9a608b24efb06663b975b1c2"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#ae24b626b9a608b24efb06663b975b1c2">ore::analytics::ParSensitivityAnalysis::parTypes_</a></div><div class="ttdeci">static std::set&lt; ore::analytics::RiskFactorKey::KeyType &gt; parTypes_</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00124">parsensitivityanalysis.hpp:124</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_af32b71243dbbe327ebf21fbb3b27c3df"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#af32b71243dbbe327ebf21fbb3b27c3df">ore::analytics::ParSensitivityAnalysis::continueOnError_</a></div><div class="ttdeci">bool continueOnError_</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00121">parsensitivityanalysis.hpp:121</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_afbc2e170697d8df9e2e11aaa9c200816"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#afbc2e170697d8df9e2e11aaa9c200816">ore::analytics::ParSensitivityAnalysis::typesDisabled</a></div><div class="ttdeci">const std::set&lt; ore::analytics::RiskFactorKey::KeyType &gt; &amp; typesDisabled() const</div><div class="ttdoc">Return the set of key types disabled for this instance of ParSensitivityAnalysis.</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00098">parsensitivityanalysis.hpp:98</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_instrument_builder_html"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html">ore::analytics::ParSensitivityInstrumentBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00037">parsensitivityinstrumentbuilder.hpp:37</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_instrument_builder_html_a46efda8c130791ef8a8b1786016ced7f"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a46efda8c130791ef8a8b1786016ced7f">ore::analytics::ParSensitivityInstrumentBuilder::createParInstruments</a></div><div class="ttdeci">void createParInstruments(ParSensitivityInstrumentBuilder::Instruments &amp;instruments, const QuantLib::Date &amp;asof, const QuantLib::ext::shared_ptr&lt; ore::analytics::ScenarioSimMarketParameters &gt; &amp;simMarketParams, const ore::analytics::SensitivityScenarioData &amp;sensitivityData, const std::set&lt; ore::analytics::RiskFactorKey::KeyType &gt; &amp;typesDisabled={}, const std::set&lt; ore::analytics::RiskFactorKey::KeyType &gt; &amp;parTypes={}, const std::set&lt; ore::analytics::RiskFactorKey &gt; &amp;relevantRiskFactors={}, const bool continueOnError=false, const std::string &amp;marketConfiguration=ore::data::Market::defaultConfiguration, const QuantLib::ext::shared_ptr&lt; ore::analytics::Market &gt; &amp;simMarket=nullptr) const</div><div class="ttdoc">Create par QuantLib::Instruments.</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8cpp_source.html#l00086">parsensitivityinstrumentbuilder.cpp:86</a></div></div>
<div class="ttc" id="atest_2scenarioshiftcalculator_8cpp_html_a652b8805d9b88185e25574d4820660c4"><div class="ttname"><a href="test_2scenarioshiftcalculator_8cpp.html#a652b8805d9b88185e25574d4820660c4">asof</a></div><div class="ttdeci">Date asof(14, Jun, 2018)</div></div>
</div><!-- fragment --><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_par_sensitivity_analysis_ae97c9dbe0218483495869bfff262b660_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_par_sensitivity_analysis_ae97c9dbe0218483495869bfff262b660_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_par_sensitivity_analysis_ae97c9dbe0218483495869bfff262b660_cgraph" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_ae97c9dbe0218483495869bfff262b660_cgraph">
<area shape="rect" title="Constructor." alt="" coords="5,771,156,796"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a46efda8c130791ef8a8b1786016ced7f" title="Create par QuantLib::Instruments." alt="" coords="204,763,459,803"/>
<area shape="rect" href="test_2scenarioshiftcalculator_8cpp.html#a652b8805d9b88185e25574d4820660c4" title=" " alt="" coords="922,124,969,149"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a1e7975633804f41e3e0c0202b864e873" title=" " alt="" coords="534,635,765,675"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a335c3820a9ad66b4114eae1b63f57837" title=" " alt="" coords="564,699,735,739"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a6375a86240c568db36437ce89eefa4d1" title=" " alt="" coords="537,763,762,803"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a3f0a4ac32ff5a34576a7a48c4fcd180d" title=" " alt="" coords="528,827,771,867"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a16944a29c21d7c49e20700732025e949" title=" " alt="" coords="537,891,761,931"/>
<area shape="rect" target="_parent" href="../ored/classore_1_1data_1_1_j_s_o_n_message.html#a5e21eca2668ed948bdc409b19a78e5bb" title=" " alt="" coords="553,956,746,981"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a3c701923f421dbf93de51b7a35853b4a" title="Create Cap/Floor QuantLib::Instrument for implying flat vol sensitivity from optionlet vol sensitivit..." alt="" coords="542,315,757,355"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga2d18ab5807f92319c9db2c13f4904738" title=" " alt="" coords="863,220,1028,245"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#ad7bf32be5292bfdfa772c448cde29dd2" title="Create CDS for implying par rate sensitivity from Hazard Rate sensitivity." alt="" coords="554,1006,745,1046"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a41d09a984482c1c77483ec16fe0565d8" title="Create Cross Ccy Basis Swap for implying par rate sensitivity from zero rate sensitivity." alt="" coords="507,443,792,483"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a6badd31344716f089c8e1c78b47ee25c" title="Create Deposit for implying par rate sensitivity from zero rate sensitivity." alt="" coords="546,22,753,62"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a8979bbffb7084ec49c603a625c1a2ee5" title="Create FRA for implying par rate sensitivity from zero rate sensitivity." alt="" coords="555,137,744,177"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#abeb46228c941f996c82c4e8642684909" title="Create FX Forwrad for implying par rate sensitivity from zero rate sensitivity." alt="" coords="537,507,761,547"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a9b8b94d4ebc735ad36140e77cf3aea4c" title="Create OIS Swap for implying par rate sensitivity from zero rate sensitivity." alt="" coords="556,379,743,419"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a0ace77cfb2dcf33fe298a2a0d38b79e5" title="Create Swap for implying par rate sensitivity from zero rate sensitivity." alt="" coords="552,571,747,611"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a3f240cc5bac1dd811fab631eb08108cf" title="Create Basis Swap for implying par rate sensitivity from zero rate sensitivity." alt="" coords="519,201,779,241"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a57d1d6de582f1342999f501101ef5976" title="Create YoY Cap/Floor for implying rate rate sensitivity from yoy optionlet vol sensitivity." alt="" coords="529,1070,769,1110"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#ab73965bb8345ea6aa3d65eda2aba1de7" title="Create YoY Swap for implying par rate sensitivity from yoy rate sensitivity." alt="" coords="518,1198,781,1238"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#aff113fd98b334d7713ddf6a5bf9d9f79" title="Create Zero Swap for implying par rate sensitivity from zero rate sensitivity." alt="" coords="517,1134,781,1174"/>
<area shape="rect" target="_parent" href="../ored/namespaceore_1_1data.html#a777e216dee6069b548bb87da7152699e" title=" " alt="" coords="597,1263,702,1288"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#aa86b68432d54cf2c1fbbe43bd2135998" title=" " alt="" coords="539,1313,759,1353"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a115f76edd6295dc79b4607943aa0928d" title=" " alt="" coords="537,1377,762,1432"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a8867ca117689b4d543c8a863b9135e51" title=" " alt="" coords="547,1456,752,1511"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a5b60bda3c39b2c79c9d036a7852b382b" title=" " alt="" coords="545,1535,754,1589"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_credit_default_swap.html#a13afd8ff6e8e79e157b41c54db8b28f0" title=" " alt="" coords="850,1059,1041,1099"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_credit_default_swap.html#a8786a1690bc26d6512e31f517befea73" title=" " alt="" coords="845,1123,1046,1163"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_credit_default_swap.html#a79a5bf709a83cd99efa83faf7a6f0d6f" title=" " alt="" coords="850,1187,1041,1227"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_credit_default_swap.html#a4f6863a09ad0ad21659f5fcf32b418e5" title=" " alt="" coords="850,867,1041,907"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_credit_default_swap.html#a1156ccc1f63793734fe12a4535c6f68f" title=" " alt="" coords="847,931,1043,971"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_credit_default_swap.html#aef79fd00dc96736bca343d0192c26468" title=" " alt="" coords="850,995,1041,1035"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga6e9e781a58e78200301c76161589fc7b" title=" " alt="" coords="863,319,1028,344"/>
<area shape="rect" target="_parent" href="../ored/namespaceore_1_1data.html#a02864b97f8a5f61c74d6b78ca65d7c30" title=" " alt="" coords="860,269,1031,295"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga2f0695fe62430369b6acca7976d7be97" title=" " alt="" coords="857,55,1033,80"/>
<area shape="rect" target="_parent" href="../ored/namespaceore_1_1data.html#a86651dfeb5c18ee891f7a4734d8cf455" title=" " alt="" coords="909,5,981,31"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga53500116b2cd1c6fd1598065f9ef64b2" title=" " alt="" coords="854,561,1037,587"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_fixed_b_m_a_swap.html#aae4aedf88e432de744f6f0ae703bde15" title=" " alt="" coords="840,611,1051,651"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_sub_periods_swap.html#affc41d722d1120518f9948d788431056" title=" " alt="" coords="851,675,1040,715"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_sub_periods_swap.html#a662efe4525f29a7b64e3e50417016fb6" title=" " alt="" coords="845,739,1046,779"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_sub_periods_swap.html#ac2f3a56b9130195610d7b30c0f087caa" title=" " alt="" coords="848,803,1043,843"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_sub_periods_swap.html#a02282940d3091865100dcff65c695f9b" title=" " alt="" coords="853,369,1037,409"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_sub_periods_swap.html#a12463e6245949bc4477529c791f31279" title=" " alt="" coords="853,433,1037,473"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_sub_periods_swap.html#aa27d877e3cfb8777d52f2ae720d062d3" title=" " alt="" coords="852,497,1039,537"/>
<area shape="rect" target="_parent" href="../qle/namespace_quant_ext.html#a1cab4fb6a720eff245acb9f3a7a9e7c5" title=" " alt="" coords="894,1444,997,1469"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1yoy_inflation_leg.html#a31afff2ccfbd52b6333575ee40c23504" title=" " alt="" coords="860,1251,1031,1291"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1yoy_inflation_leg.html#a7bd51a0a7da6c232fa3bcc70045d501d" title=" " alt="" coords="859,1315,1032,1355"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1yoy_inflation_leg.html#a0617466d18a23a375cc3d45ec9102b33" title=" " alt="" coords="860,1379,1031,1419"/>
<area shape="rect" target="_parent" href="../ored/namespaceore_1_1data.html#a4cabef9f8164c42065e1fabfc11a6d32" title=" " alt="" coords="858,1494,1033,1534"/>
</map>
</div>

</div>
</div>
<a id="ada299256f8f47d1874acd87e24d4ceaf" name="ada299256f8f47d1874acd87e24d4ceaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada299256f8f47d1874acd87e24d4ceaf">&#9670;&#160;</a></span>~ParSensitivityAnalysis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html">ParSensitivityAnalysis</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00069">69</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   69</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abdae52d1591db2caae3d1ceb4f42fba4" name="abdae52d1591db2caae3d1ceb4f42fba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdae52d1591db2caae3d1ceb4f42fba4">&#9670;&#160;</a></span>computeParInstrumentSensitivities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void computeParInstrumentSensitivities </td>
          <td>(</td>
          <td class="paramtype">const QuantLib::ext::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario_sim_market.html">ore::analytics::ScenarioSimMarket</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>simMarket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute par instrument sensitivities. </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8cpp_source.html#l00154">154</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8cpp_source.html">parsensitivityanalysis.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  154</span>                                                                                                                        {</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    <a class="code hl_defineRef" href="../ored/log_8hpp.html#a158e0f085ddedfe5c8ed069986039f50">LOG</a>(<span class="stringliteral">&quot;Cache base scenario par rates and flat vols&quot;</span>);</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>.empty()) {</div>
<div class="line"><span class="lineno">  159</span>        <a class="code hl_defineRef" href="../ored/log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;Relevant risk factors not provided&quot;</span>);</div>
<div class="line"><span class="lineno">  160</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  161</span>        <a class="code hl_defineRef" href="../ored/log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;Relevant risk factors provided:&quot;</span>);</div>
<div class="line"><span class="lineno">  162</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; rf : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>)</div>
<div class="line"><span class="lineno">  163</span>            <a class="code hl_defineRef" href="../ored/log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;Relevant risk factor &quot;</span> &lt;&lt; rf);</div>
<div class="line"><span class="lineno">  164</span>    }</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    <span class="comment">// remove todays fixings from relevant indices for the scope of this method</span></div>
<div class="line"><span class="lineno">  167</span>    <span class="keyword">struct </span>TodaysFixingsRemover {</div>
<div class="line"><span class="lineno">  168</span>        TodaysFixingsRemover(<span class="keyword">const</span> std::set&lt;std::string&gt;&amp; names) : today_(Settings::instance().evaluationDate()) {</div>
<div class="line"><span class="lineno">  169</span>            Date today = Settings::instance().evaluationDate();</div>
<div class="line"><span class="lineno">  170</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; n : names) {</div>
<div class="line"><span class="lineno">  171</span>                TimeSeries&lt;Real&gt; t = IndexManager::instance().getHistory(n);</div>
<div class="line"><span class="lineno">  172</span>                <span class="keywordflow">if</span> (t[today] != Null&lt;Real&gt;()) {</div>
<div class="line"><span class="lineno">  173</span>                    <a class="code hl_defineRef" href="../ored/log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;removing todays fixing (&quot;</span> &lt;&lt; std::setprecision(6) &lt;&lt; t[today] &lt;&lt; <span class="stringliteral">&quot;) from &quot;</span> &lt;&lt; n);</div>
<div class="line"><span class="lineno">  174</span>                    savedFixings_.insert(std::make_pair(n, t[today]));</div>
<div class="line"><span class="lineno">  175</span>                    t[today] = Null&lt;Real&gt;();</div>
<div class="line"><span class="lineno">  176</span>                    IndexManager::instance().setHistory(n, t);</div>
<div class="line"><span class="lineno">  177</span>                }</div>
<div class="line"><span class="lineno">  178</span>            }</div>
<div class="line"><span class="lineno">  179</span>        }</div>
<div class="line"><span class="lineno">  180</span>        ~TodaysFixingsRemover() {</div>
<div class="line"><span class="lineno">  181</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; p : savedFixings_) {</div>
<div class="line"><span class="lineno">  182</span>                TimeSeries&lt;Real&gt; t = IndexManager::instance().getHistory(p.first);</div>
<div class="line"><span class="lineno">  183</span>                t[today_] = p.second;</div>
<div class="line"><span class="lineno">  184</span>                IndexManager::instance().setHistory(p.first, t);</div>
<div class="line"><span class="lineno">  185</span>                <a class="code hl_defineRef" href="../ored/log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;restored todays fixing (&quot;</span> &lt;&lt; std::setprecision(6) &lt;&lt; p.second &lt;&lt; <span class="stringliteral">&quot;) for &quot;</span> &lt;&lt; p.first);</div>
<div class="line"><span class="lineno">  186</span>            }</div>
<div class="line"><span class="lineno">  187</span>        }</div>
<div class="line"><span class="lineno">  188</span>        <span class="keyword">const</span> Date today_;</div>
<div class="line"><span class="lineno">  189</span>        std::set&lt;std::pair&lt;std::string, Real&gt;&gt; savedFixings_;</div>
<div class="line"><span class="lineno">  190</span>    };</div>
<div class="line"><span class="lineno">  191</span>    TodaysFixingsRemover fixingRemover(<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a4c2a54863b06e0f0b96160d82f5f7e26">removeTodaysFixingIndices_</a>);</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>    <span class="comment">// We must have a ShiftScenarioGenerator</span></div>
<div class="line"><span class="lineno">  194</span>    QuantLib::ext::shared_ptr&lt;ScenarioGenerator&gt; simMarketScenGen = simMarket-&gt;scenarioGenerator();</div>
<div class="line"><span class="lineno">  195</span>    QuantLib::ext::shared_ptr&lt;ShiftScenarioGenerator&gt; scenarioGenerator =</div>
<div class="line"><span class="lineno">  196</span>        QuantLib::ext::dynamic_pointer_cast&lt;ShiftScenarioGenerator&gt;(simMarketScenGen);</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>    <span class="keyword">struct </span>SimMarketResetter {</div>
<div class="line"><span class="lineno">  199</span>        SimMarketResetter(QuantLib::ext::shared_ptr&lt;SimMarket&gt; simMarket) : simMarket_(simMarket) {}</div>
<div class="line"><span class="lineno">  200</span>        ~SimMarketResetter() { simMarket_-&gt;reset(); }</div>
<div class="line"><span class="lineno">  201</span>        QuantLib::ext::shared_ptr&lt;SimMarket&gt; simMarket_;</div>
<div class="line"><span class="lineno">  202</span>    } simMarketResetter(simMarket);</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>    simMarket-&gt;reset();</div>
<div class="line"><span class="lineno">  205</span>    scenarioGenerator-&gt;reset();</div>
<div class="line"><span class="lineno">  206</span>    simMarket-&gt;update(<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a6e6cc380f7abdcf2e6796314ea24ea2d">asof_</a>);</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>.empty())</div>
<div class="line"><span class="lineno">  209</span>        <a class="code hl_function" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aaf3b4fed233991ba67fc00a89e8fcd57">augmentRelevantRiskFactors</a>();</div>
<div class="line"><span class="lineno">  210</span>    <a class="code hl_class" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html">ParSensitivityInstrumentBuilder</a>().<a class="code hl_function" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a46efda8c130791ef8a8b1786016ced7f">createParInstruments</a>(<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a6e6cc380f7abdcf2e6796314ea24ea2d">asof_</a>, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a3a40a8b803ad052cd07397bb1f6bd886">simMarketParams_</a>, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a184eac3915c598c873e4d46604638085">sensitivityData_</a>,</div>
<div class="line"><span class="lineno">  211</span>                                                           <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a>, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#ae24b626b9a608b24efb06663b975b1c2">parTypes_</a>, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>,</div>
<div class="line"><span class="lineno">  212</span>                                                           <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#af32b71243dbbe327ebf21fbb3b27c3df">continueOnError_</a>, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a177b5b16249c7f9ff63e839d862d16d7">marketConfiguration_</a>, simMarket);</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>    map&lt;RiskFactorKey, Real&gt; parRatesBase, parCapVols; <span class="comment">// for both ir and yoy caps</span></div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a6a6b3b7db8bb9252d22f3cdef65b020e">parHelpers_</a>) {</div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  218</span>            Real parRate = <a class="code hl_function" href="namespaceore_1_1analytics.html#a9bdda512a58dc6b8d153a0eabe183de2">impliedQuote</a>(p.second);</div>
<div class="line"><span class="lineno">  219</span>            parRatesBase[p.first] = parRate;</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>            <span class="comment">// Populate zero and par shift size for the current risk factor</span></div>
<div class="line"><span class="lineno">  222</span>            <a class="code hl_function" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aeebf3a9a26bb21e6bceb1b6faba0038e">populateShiftSizes</a>(p.first, parRate, simMarket);</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>        } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line"><span class="lineno">  225</span>            QL_FAIL(<span class="stringliteral">&quot;could not imply quote for par helper &quot;</span> &lt;&lt; p.first &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; e.what());</div>
<div class="line"><span class="lineno">  226</span>        }</div>
<div class="line"><span class="lineno">  227</span>    }</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; c : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a845ca69983441db07ea1cd57236fa962">parCaps_</a>) {</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>        QL_REQUIRE(<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a7c1493750b68ca4dd9032186df092e37">parCapsYts_</a>.count(c.first) &gt; 0,</div>
<div class="line"><span class="lineno">  232</span>                   <span class="stringliteral">&quot;computeParInstrumentSensitivities(): no cap yts found for key &quot;</span> &lt;&lt; c.first);</div>
<div class="line"><span class="lineno">  233</span>        QL_REQUIRE(<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#aaf70488ead9db867358f1c70d21d794b">parCapsVts_</a>.count(c.first) &gt; 0,</div>
<div class="line"><span class="lineno">  234</span>                   <span class="stringliteral">&quot;computeParInstrumentSensitivities(): no cap vts found for key &quot;</span> &lt;&lt; c.first);</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>        Real price = c.second-&gt;NPV();</div>
<div class="line"><span class="lineno">  237</span>        <a class="code hl_enumvalueRef" href="../ored/namespaceore_1_1data.html#a1dd3178717c03aef7d6851a3dfd92207ad4192ca9679d38110983141b896eebbf">Volatility</a> parVol = <a class="code hl_function" href="namespaceore_1_1analytics.html#a0ac415c2bd9617fc010993c413536714">impliedVolatility</a>(</div>
<div class="line"><span class="lineno">  238</span>            *c.second, price, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a7c1493750b68ca4dd9032186df092e37">parCapsYts_</a>.at(c.first), 0.01,</div>
<div class="line"><span class="lineno">  239</span>            <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#aaf70488ead9db867358f1c70d21d794b">parCapsVts_</a>.at(c.first)-&gt;volatilityType(), <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#aaf70488ead9db867358f1c70d21d794b">parCapsVts_</a>.at(c.first)-&gt;displacement());</div>
<div class="line"><span class="lineno">  240</span>        parCapVols[c.first] = parVol;</div>
<div class="line"><span class="lineno">  241</span>        <a class="code hl_defineRef" href="../ored/log_8hpp.html#a99aeca53f904c71a68070e1f9d310232">TLOG</a>(<span class="stringliteral">&quot;Fair implied cap volatility for key &quot;</span> &lt;&lt; c.first &lt;&lt; <span class="stringliteral">&quot; is &quot;</span> &lt;&lt; std::fixed &lt;&lt; std::setprecision(12)</div>
<div class="line"><span class="lineno">  242</span>                                                    &lt;&lt; parVol &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>);</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>        <span class="comment">// Populate zero and par shift size for the current risk factor</span></div>
<div class="line"><span class="lineno">  245</span>        <a class="code hl_function" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aeebf3a9a26bb21e6bceb1b6faba0038e">populateShiftSizes</a>(c.first, parVol, simMarket);</div>
<div class="line"><span class="lineno">  246</span>    }</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; c : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#ab9937f83843e016639a9076999d8ecda">parYoYCaps_</a>) {</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>        QL_REQUIRE(<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a515631a710eccb52310b6f2c8535426f">parYoYCapsYts_</a>.count(c.first) &gt; 0,</div>
<div class="line"><span class="lineno">  251</span>                   <span class="stringliteral">&quot;computeParInstrumentSensitivities(): no cap yts found for key &quot;</span> &lt;&lt; c.first);</div>
<div class="line"><span class="lineno">  252</span>        QL_REQUIRE(<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#abcfd66bb7e718ed570ced8e663951a60">parYoYCapsIndex_</a>.count(c.first) &gt; 0,</div>
<div class="line"><span class="lineno">  253</span>                   <span class="stringliteral">&quot;computeParInstrumentSensitivities(): no cap index found for key &quot;</span> &lt;&lt; c.first);</div>
<div class="line"><span class="lineno">  254</span>        QL_REQUIRE(<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a11ce51a1196b547ded9f5903dd82de6a">parYoYCapsVts_</a>.count(c.first) &gt; 0,</div>
<div class="line"><span class="lineno">  255</span>                   <span class="stringliteral">&quot;computeParInstrumentSensitivities(): no cap vts found for key &quot;</span> &lt;&lt; c.first);</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>        Real price = c.second-&gt;NPV();</div>
<div class="line"><span class="lineno">  258</span>        <a class="code hl_enumvalueRef" href="../ored/namespaceore_1_1data.html#a1dd3178717c03aef7d6851a3dfd92207ad4192ca9679d38110983141b896eebbf">Volatility</a> parVol = <a class="code hl_function" href="namespaceore_1_1analytics.html#a0ac415c2bd9617fc010993c413536714">impliedVolatility</a>(</div>
<div class="line"><span class="lineno">  259</span>            *c.second, price, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a515631a710eccb52310b6f2c8535426f">parYoYCapsYts_</a>.at(c.first), 0.01,</div>
<div class="line"><span class="lineno">  260</span>            <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a11ce51a1196b547ded9f5903dd82de6a">parYoYCapsVts_</a>.at(c.first)-&gt;volatilityType(),</div>
<div class="line"><span class="lineno">  261</span>            <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a11ce51a1196b547ded9f5903dd82de6a">parYoYCapsVts_</a>.at(c.first)-&gt;displacement(), <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#abcfd66bb7e718ed570ced8e663951a60">parYoYCapsIndex_</a>.at(c.first));</div>
<div class="line"><span class="lineno">  262</span>        parCapVols[c.first] = parVol;</div>
<div class="line"><span class="lineno">  263</span>        <a class="code hl_defineRef" href="../ored/log_8hpp.html#a99aeca53f904c71a68070e1f9d310232">TLOG</a>(<span class="stringliteral">&quot;Fair implied yoy cap volatility for key &quot;</span> &lt;&lt; c.first &lt;&lt; <span class="stringliteral">&quot; is &quot;</span> &lt;&lt; std::fixed &lt;&lt; std::setprecision(12)</div>
<div class="line"><span class="lineno">  264</span>                                                        &lt;&lt; parVol &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>);</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>        <span class="comment">// Populate zero and par shift size for the current risk factor</span></div>
<div class="line"><span class="lineno">  267</span>        <a class="code hl_function" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aeebf3a9a26bb21e6bceb1b6faba0038e">populateShiftSizes</a>(c.first, parVol, simMarket);</div>
<div class="line"><span class="lineno">  268</span>    }</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>    <a class="code hl_defineRef" href="../ored/log_8hpp.html#a158e0f085ddedfe5c8ed069986039f50">LOG</a>(<span class="stringliteral">&quot;Caching base scenario par rates and float vols done.&quot;</span>);</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span><span class="comment">    /****************************************************************</span></div>
<div class="line"><span class="lineno">  273</span><span class="comment">     * Discount curve instrument fair rate sensitivity to zero shifts</span></div>
<div class="line"><span class="lineno">  274</span><span class="comment">     * Index curve instrument fair rate sensitivity to zero shifts</span></div>
<div class="line"><span class="lineno">  275</span><span class="comment">     * Cap/Floor flat vol sensitivity to optionlet vol shifts</span></div>
<div class="line"><span class="lineno">  276</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">  277</span><span class="comment">     * Step 3:</span></div>
<div class="line"><span class="lineno">  278</span><span class="comment">     * - Apply all single up-shift scenarios,</span></div>
<div class="line"><span class="lineno">  279</span><span class="comment">     * - Compute respective fair par rates and flat vols</span></div>
<div class="line"><span class="lineno">  280</span><span class="comment">     * - Compute par rate / flat vol sensitivities</span></div>
<div class="line"><span class="lineno">  281</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  282</span>    <a class="code hl_defineRef" href="../ored/log_8hpp.html#a158e0f085ddedfe5c8ed069986039f50">LOG</a>(<span class="stringliteral">&quot;Compute par rate and flat vol sensitivities&quot;</span>);</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>    vector&lt;ShiftScenarioGenerator::ScenarioDescription&gt; desc = scenarioGenerator-&gt;scenarioDescriptions();</div>
<div class="line"><span class="lineno">  285</span>    QL_REQUIRE(desc.size() == scenarioGenerator-&gt;samples(),</div>
<div class="line"><span class="lineno">  286</span>               <span class="stringliteral">&quot;descriptions size &quot;</span> &lt;&lt; desc.size() &lt;&lt; <span class="stringliteral">&quot; does not match samples &quot;</span> &lt;&lt; scenarioGenerator-&gt;samples());</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>    std::set&lt;RiskFactorKey&gt; parKeysCheck, parKeysNonZero;</div>
<div class="line"><span class="lineno">  289</span>    std::set&lt;RiskFactorKey&gt; rawKeysCheck, rawKeysNonZero;</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; p : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a6a6b3b7db8bb9252d22f3cdef65b020e">parHelpers_</a>) {</div>
<div class="line"><span class="lineno">  292</span>        parKeysCheck.insert(p.first);</div>
<div class="line"><span class="lineno">  293</span>    }</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; p : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a845ca69983441db07ea1cd57236fa962">parCaps_</a>) {</div>
<div class="line"><span class="lineno">  296</span>        parKeysCheck.insert(p.first);</div>
<div class="line"><span class="lineno">  297</span>    }</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; p : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#ab9937f83843e016639a9076999d8ecda">parYoYCaps_</a>) {</div>
<div class="line"><span class="lineno">  300</span>        parKeysCheck.insert(p.first);</div>
<div class="line"><span class="lineno">  301</span>    }</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>    <span class="keywordflow">for</span> (Size i = 1; i &lt; scenarioGenerator-&gt;samples(); ++i) {</div>
<div class="line"><span class="lineno">  304</span> </div>
<div class="line"><span class="lineno">  305</span>        simMarket-&gt;update(<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a6e6cc380f7abdcf2e6796314ea24ea2d">asof_</a>);</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>        <span class="comment">// use single &quot;UP&quot; shift scenarios only, use only scenarios relevant for par instruments,</span></div>
<div class="line"><span class="lineno">  308</span>        <span class="comment">// use relevant scenarios only, if specified</span></div>
<div class="line"><span class="lineno">  309</span>        <span class="comment">// ignore risk factor types that have been disabled</span></div>
<div class="line"><span class="lineno">  310</span>        <span class="keywordflow">if</span> (desc[i].type() != <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_shift_scenario_generator_1_1_scenario_description.html#a1d1cfd8ffb84e947f82999c682b666a7a258f49887ef8d14ac268c92b02503aaa">ShiftScenarioGenerator::ScenarioDescription::Type::Up</a> ||</div>
<div class="line"><span class="lineno">  311</span>            !<a class="code hl_function" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#adc1ea5d86780f6a6557b3bb6cf84926e">isParType</a>(desc[i].key1().keytype) || <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a>.count(desc[i].key1().keytype) == 1 ||</div>
<div class="line"><span class="lineno">  312</span>            !(<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>.empty() || <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>.find(desc[i].key1()) != <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>.end()))</div>
<div class="line"><span class="lineno">  313</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>        <span class="comment">// Since we are not using ValuationEngine we need to manually perform the trade updates here</span></div>
<div class="line"><span class="lineno">  316</span>        <span class="comment">// TODO - explore means of utilising valuation engine</span></div>
<div class="line"><span class="lineno">  317</span>        <span class="keywordflow">if</span> (ObservationMode::instance().mode() == <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_observation_mode.html#a46c8a310cf4c094f8c80e1cb8dc1f911abcfaccebf745acfd5e75351095a5394a">ObservationMode::Mode::Disable</a>) {</div>
<div class="line"><span class="lineno">  318</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> it : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a6a6b3b7db8bb9252d22f3cdef65b020e">parHelpers_</a>)</div>
<div class="line"><span class="lineno">  319</span>                it.second-&gt;deepUpdate();</div>
<div class="line"><span class="lineno">  320</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> it : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a845ca69983441db07ea1cd57236fa962">parCaps_</a>)</div>
<div class="line"><span class="lineno">  321</span>                it.second-&gt;deepUpdate();</div>
<div class="line"><span class="lineno">  322</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> it : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#ab9937f83843e016639a9076999d8ecda">parYoYCaps_</a>)</div>
<div class="line"><span class="lineno">  323</span>                it.second-&gt;deepUpdate();</div>
<div class="line"><span class="lineno">  324</span>        }</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>        rawKeysCheck.insert(desc[i].key1());</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>        <span class="comment">// Get the absolute shift size and skip if close to zero</span></div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>        Real shiftSize = <a class="code hl_function" href="namespaceore_1_1analytics.html#a308d403cbb100c0043e83f7755b3dd40">getShiftSize</a>(desc[i].key1(), <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a184eac3915c598c873e4d46604638085">sensitivityData_</a>, simMarket);</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>        <span class="keywordflow">if</span> (<a class="code hl_functionRef" href="../qle/namespace_quant_ext.html#a1cab4fb6a720eff245acb9f3a7a9e7c5">close_enough</a>(shiftSize, 0.0)) {</div>
<div class="line"><span class="lineno">  333</span>            <a class="code hl_defineRef" href="../ored/log_8hpp.html#a35cb05f674d9e764ca12cff351b064f2">ALOG</a>(<span class="stringliteral">&quot;Shift size for &quot;</span> &lt;&lt; desc[i].key1() &lt;&lt; <span class="stringliteral">&quot; is zero, skipping&quot;</span>);</div>
<div class="line"><span class="lineno">  334</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  335</span>        }</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>        <span class="comment">// process par helpers</span></div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>        std::set&lt;RiskFactorKey::KeyType&gt; survivalAndRateCurveTypes = {</div>
<div class="line"><span class="lineno">  340</span>            <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238caba2340fc08c36e9473d88fa6d823c1fb">RiskFactorKey::KeyType::SurvivalProbability</a>, <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238cac180e16777ec55d7f8be3f91ab6c0313">RiskFactorKey::KeyType::DiscountCurve</a>,</div>
<div class="line"><span class="lineno">  341</span>            <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238cac8dbbdbb04d984dd976732914ab27738">RiskFactorKey::KeyType::YieldCurve</a>, <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238ca508328efaa028c90d6e0174ed7389614">RiskFactorKey::KeyType::IndexCurve</a>};</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; p : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a6a6b3b7db8bb9252d22f3cdef65b020e">parHelpers_</a>) {</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>            <span class="comment">// skip if par helper has no sensi to zero risk factor (except the special treatment below kicks in)</span></div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>            <span class="keywordflow">if</span> (p.second-&gt;isCalculated() &amp;&amp;</div>
<div class="line"><span class="lineno">  348</span>                (survivalAndRateCurveTypes.find(p.first.keytype) == survivalAndRateCurveTypes.end() ||</div>
<div class="line"><span class="lineno">  349</span>                 p.first != desc[i].key1())) {</div>
<div class="line"><span class="lineno">  350</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  351</span>            }</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>            <span class="comment">// compute fair and base quotes</span></div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>            Real fair = <a class="code hl_function" href="namespaceore_1_1analytics.html#a9bdda512a58dc6b8d153a0eabe183de2">impliedQuote</a>(p.second);</div>
<div class="line"><span class="lineno">  356</span>            <span class="keyword">auto</span> base = parRatesBase.find(p.first);</div>
<div class="line"><span class="lineno">  357</span>            QL_REQUIRE(base != parRatesBase.end(), <span class="stringliteral">&quot;internal error: did not find parRatesBase[&quot;</span> &lt;&lt; p.first &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>            Real tmp = (fair - base-&gt;second) / shiftSize;</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>            <span class="comment">// special treatments for certain risk factors</span></div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>            <span class="comment">// for curves with survival probabilities / discount factors going to zero quickly we might see a</span></div>
<div class="line"><span class="lineno">  364</span>            <span class="comment">// sensitivity that is close to zero, which we sanitise here in order to prevent the Jacobi matrix</span></div>
<div class="line"><span class="lineno">  365</span>            <span class="comment">// getting ill-conditioned or even singular</span></div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>            <span class="keywordflow">if</span> (survivalAndRateCurveTypes.find(p.first.keytype) != survivalAndRateCurveTypes.end() &amp;&amp;</div>
<div class="line"><span class="lineno">  368</span>                p.first == desc[i].key1() &amp;&amp; std::abs(tmp) &lt; 0.01) {</div>
<div class="line"><span class="lineno">  369</span>                <a class="code hl_defineRef" href="../ored/log_8hpp.html#a9622ca943201e814041f051b7a10b3ea">WLOG</a>(<span class="stringliteral">&quot;Setting Diagonal Sensi &quot;</span> &lt;&lt; p.first &lt;&lt; <span class="stringliteral">&quot; w.r.t. &quot;</span> &lt;&lt; desc[i].key1() &lt;&lt; <span class="stringliteral">&quot; to 0.01 (got &quot;</span> &lt;&lt; tmp</div>
<div class="line"><span class="lineno">  370</span>                                               &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  371</span>                tmp = 0.01;</div>
<div class="line"><span class="lineno">  372</span>            }</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>            <span class="comment">// YoY diagnoal entries are 1.0</span></div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>            <span class="keywordflow">if</span> (p.first.keytype == <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238caad7a4415513da5f62869964dbd864401">RiskFactorKey::KeyType::YoYInflationCurve</a> &amp;&amp; p.first == desc[i].key1() &amp;&amp;</div>
<div class="line"><span class="lineno">  377</span>                <a class="code hl_functionRef" href="../qle/namespace_quant_ext.html#a1cab4fb6a720eff245acb9f3a7a9e7c5">close_enough</a>(tmp, 0.0)) {</div>
<div class="line"><span class="lineno">  378</span>                tmp = 1.0;</div>
<div class="line"><span class="lineno">  379</span>            }</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>            <span class="comment">// write sensitivity</span></div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>            writeSensitivity(p.first, desc[i].key1(), tmp, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a2afaeb949d17f1fc1f707c5ff3980648">parSensi_</a>, parKeysNonZero, rawKeysNonZero);</div>
<div class="line"><span class="lineno">  384</span>        }</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>        <span class="comment">// process par caps</span></div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; p : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a845ca69983441db07ea1cd57236fa962">parCaps_</a>) {</div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>            <span class="keywordflow">if</span> (p.second-&gt;isCalculated() &amp;&amp; p.first != desc[i].key1())</div>
<div class="line"><span class="lineno">  391</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  392</span> </div>
<div class="line"><span class="lineno">  393</span>            <span class="keyword">auto</span> fair = <a class="code hl_function" href="namespaceore_1_1analytics.html#a0ac415c2bd9617fc010993c413536714">impliedVolatility</a>(p.first, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>);</div>
<div class="line"><span class="lineno">  394</span>            <span class="keyword">auto</span> base = parCapVols.find(p.first);</div>
<div class="line"><span class="lineno">  395</span>            QL_REQUIRE(base != parCapVols.end(), <span class="stringliteral">&quot;internal error: did not find parCapVols[&quot;</span> &lt;&lt; p.first &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>            Real tmp = (fair - base-&gt;second) / shiftSize;</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>            <span class="comment">// ensure Jacobi matrix is regular and not (too) ill-conditioned, this is necessary because</span></div>
<div class="line"><span class="lineno">  400</span>            <span class="comment">// a) the shift size used to compute dpar / dzero might be close to zero and / or</span></div>
<div class="line"><span class="lineno">  401</span>            <span class="comment">// b) the implied vol calculation has numerical inaccuracies</span></div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span>            <span class="keywordflow">if</span> (p.first == desc[i].key1() &amp;&amp; std::abs(tmp) &lt; 0.01) {</div>
<div class="line"><span class="lineno">  404</span>                <a class="code hl_defineRef" href="../ored/log_8hpp.html#a9622ca943201e814041f051b7a10b3ea">WLOG</a>(<span class="stringliteral">&quot;Setting Diagonal CapFloorVol Sensi &quot;</span> &lt;&lt; p.first &lt;&lt; <span class="stringliteral">&quot; w.r.t. &quot;</span> &lt;&lt; desc[i].key1()</div>
<div class="line"><span class="lineno">  405</span>                                                           &lt;&lt; <span class="stringliteral">&quot; to 0.01 (got &quot;</span> &lt;&lt; tmp &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  406</span>                tmp = 0.01;</div>
<div class="line"><span class="lineno">  407</span>            }</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>            <span class="comment">// write sensitivity</span></div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>            writeSensitivity(p.first, desc[i].key1(), tmp, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a2afaeb949d17f1fc1f707c5ff3980648">parSensi_</a>, parKeysNonZero, rawKeysNonZero);</div>
<div class="line"><span class="lineno">  412</span>        }</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>        <span class="comment">// process par yoy caps</span></div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; p : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#ab9937f83843e016639a9076999d8ecda">parYoYCaps_</a>) {</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>            <span class="keywordflow">if</span> (p.second-&gt;isCalculated() &amp;&amp; p.first != desc[i].key1())</div>
<div class="line"><span class="lineno">  419</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>            <span class="keyword">auto</span> fair = <a class="code hl_function" href="namespaceore_1_1analytics.html#a0ac415c2bd9617fc010993c413536714">impliedVolatility</a>(p.first, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>);</div>
<div class="line"><span class="lineno">  422</span>            <span class="keyword">auto</span> base = parCapVols.find(p.first);</div>
<div class="line"><span class="lineno">  423</span>            QL_REQUIRE(base != parCapVols.end(), <span class="stringliteral">&quot;internal error: did not find parCapVols[&quot;</span> &lt;&lt; p.first &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>            Real tmp = (fair - base-&gt;second) / shiftSize;</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>            <span class="comment">// ensure Jacobi matrix is regular and not (too) ill-conditioned, this is necessary because</span></div>
<div class="line"><span class="lineno">  428</span>            <span class="comment">// a) the shift size used to compute dpar / dzero might be close to zero and / or</span></div>
<div class="line"><span class="lineno">  429</span>            <span class="comment">// b) the implied vol calculation has numerical inaccuracies</span></div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>            <span class="keywordflow">if</span> (p.first == desc[i].key1() &amp;&amp; std::abs(tmp) &lt; 0.01) {</div>
<div class="line"><span class="lineno">  432</span>                <a class="code hl_defineRef" href="../ored/log_8hpp.html#a9622ca943201e814041f051b7a10b3ea">WLOG</a>(<span class="stringliteral">&quot;Setting Diagonal CapFloorVol Sensi &quot;</span> &lt;&lt; p.first &lt;&lt; <span class="stringliteral">&quot; w.r.t. &quot;</span> &lt;&lt; desc[i].key1()</div>
<div class="line"><span class="lineno">  433</span>                                                           &lt;&lt; <span class="stringliteral">&quot; to 0.01 (got &quot;</span> &lt;&lt; tmp &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  434</span>                tmp = 0.01;</div>
<div class="line"><span class="lineno">  435</span>            }</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>            <span class="comment">// write sensitivity</span></div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span>            writeSensitivity(p.first, desc[i].key1(), tmp, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a2afaeb949d17f1fc1f707c5ff3980648">parSensi_</a>, parKeysNonZero, rawKeysNonZero);</div>
<div class="line"><span class="lineno">  440</span>        }</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>    } <span class="comment">// end of loop over samples</span></div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>    <span class="comment">// check for</span></div>
<div class="line"><span class="lineno">  445</span>    <span class="comment">// a) par instruments which have no sensitivity to any of the risk factors</span></div>
<div class="line"><span class="lineno">  446</span>    <span class="comment">// b) risk factors w.r.t. which no par instrument has a sensitivity</span></div>
<div class="line"><span class="lineno">  447</span>    std::set&lt;RiskFactorKey&gt; parKeysZero, rawKeysZero;</div>
<div class="line"><span class="lineno">  448</span>    std::set_difference(parKeysCheck.begin(), parKeysCheck.end(), parKeysNonZero.begin(), parKeysNonZero.end(),</div>
<div class="line"><span class="lineno">  449</span>                        std::inserter(parKeysZero, parKeysZero.begin()));</div>
<div class="line"><span class="lineno">  450</span>    std::set_difference(rawKeysCheck.begin(), rawKeysCheck.end(), rawKeysNonZero.begin(), rawKeysNonZero.end(),</div>
<div class="line"><span class="lineno">  451</span>                        std::inserter(rawKeysZero, rawKeysZero.begin()));</div>
<div class="line"><span class="lineno">  452</span>    std::set&lt;RiskFactorKey&gt; problematicKeys;</div>
<div class="line"><span class="lineno">  453</span>    problematicKeys.insert(parKeysZero.begin(), parKeysZero.end());</div>
<div class="line"><span class="lineno">  454</span>    problematicKeys.insert(rawKeysZero.begin(), rawKeysZero.end());</div>
<div class="line"><span class="lineno">  455</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; k : problematicKeys) {</div>
<div class="line"><span class="lineno">  456</span>        std::string type;</div>
<div class="line"><span class="lineno">  457</span>        <span class="keywordflow">if</span> (parKeysZero.find(k) != parKeysZero.end())</div>
<div class="line"><span class="lineno">  458</span>            type = <span class="stringliteral">&quot;par instrument is insensitive to all zero risk factors&quot;</span>;</div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rawKeysZero.find(k) != rawKeysZero.end())</div>
<div class="line"><span class="lineno">  460</span>            type = <span class="stringliteral">&quot;zero risk factor that does not affect an par instrument&quot;</span>;</div>
<div class="line"><span class="lineno">  461</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  462</span>            type = <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line"><span class="lineno">  463</span>        Real parHelperValue = Null&lt;Real&gt;();</div>
<div class="line"><span class="lineno">  464</span>        <span class="keywordflow">if</span> (<span class="keyword">auto</span> tmp = <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a6a6b3b7db8bb9252d22f3cdef65b020e">parHelpers_</a>.find(k); tmp != <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a6a6b3b7db8bb9252d22f3cdef65b020e">parHelpers_</a>.end())</div>
<div class="line"><span class="lineno">  465</span>            parHelperValue = <a class="code hl_function" href="namespaceore_1_1analytics.html#a9bdda512a58dc6b8d153a0eabe183de2">impliedQuote</a>(tmp-&gt;second);</div>
<div class="line"><span class="lineno">  466</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> tmp = <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a845ca69983441db07ea1cd57236fa962">parCaps_</a>.find(k); tmp != <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a845ca69983441db07ea1cd57236fa962">parCaps_</a>.end())</div>
<div class="line"><span class="lineno">  467</span>            parHelperValue = tmp-&gt;second-&gt;NPV();</div>
<div class="line"><span class="lineno">  468</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> tmp = <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#ab9937f83843e016639a9076999d8ecda">parYoYCaps_</a>.find(k); tmp != <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#ab9937f83843e016639a9076999d8ecda">parYoYCaps_</a>.end())</div>
<div class="line"><span class="lineno">  469</span>            parHelperValue = tmp-&gt;second-&gt;NPV();</div>
<div class="line"><span class="lineno">  470</span>        Real zeroFactorValue = Null&lt;Real&gt;();</div>
<div class="line"><span class="lineno">  471</span>        <span class="keywordflow">if</span> (simMarket-&gt;baseScenarioAbsolute()-&gt;has(k))</div>
<div class="line"><span class="lineno">  472</span>            zeroFactorValue = simMarket-&gt;baseScenarioAbsolute()-&gt;get(k);</div>
<div class="line"><span class="lineno">  473</span>        <a class="code hl_defineRef" href="../ored/log_8hpp.html#a9622ca943201e814041f051b7a10b3ea">WLOG</a>(<span class="stringliteral">&quot;zero/par relation problem for key &#39;&quot;</span></div>
<div class="line"><span class="lineno">  474</span>             &lt;&lt; k &lt;&lt; <span class="stringliteral">&quot;&#39;, type &quot;</span> + type + <span class="stringliteral">&quot;, par value = &quot;</span></div>
<div class="line"><span class="lineno">  475</span>             &lt;&lt; (parHelperValue == Null&lt;Real&gt;() ? <span class="stringliteral">&quot;na&quot;</span> : std::to_string(parHelperValue))</div>
<div class="line"><span class="lineno">  476</span>             &lt;&lt; <span class="stringliteral">&quot;, zero value = &quot;</span> &lt;&lt; (zeroFactorValue == Null&lt;Real&gt;() ? <span class="stringliteral">&quot;na&quot;</span> : std::to_string(zeroFactorValue)));</div>
<div class="line"><span class="lineno">  477</span>    }</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>    <a class="code hl_defineRef" href="../ored/log_8hpp.html#a158e0f085ddedfe5c8ed069986039f50">LOG</a>(<span class="stringliteral">&quot;Computing par rate and flat vol sensitivities done&quot;</span>);</div>
<div class="line"><span class="lineno">  480</span>} <span class="comment">// compute par instrument sensis</span></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_observation_mode_html_a46c8a310cf4c094f8c80e1cb8dc1f911abcfaccebf745acfd5e75351095a5394a"><div class="ttname"><a href="classore_1_1analytics_1_1_observation_mode.html#a46c8a310cf4c094f8c80e1cb8dc1f911abcfaccebf745acfd5e75351095a5394a">ore::analytics::ObservationMode::Mode::Disable</a></div><div class="ttdeci">@ Disable</div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_a2afaeb949d17f1fc1f707c5ff3980648"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a2afaeb949d17f1fc1f707c5ff3980648">ore::analytics::ParSensitivityAnalysis::parSensi_</a></div><div class="ttdeci">ParContainer parSensi_</div><div class="ttdoc">sensitivity of par rates w.r.t. raw rate shifts (including optionlet/cap volatility)</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00117">parsensitivityanalysis.hpp:117</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_aaf3b4fed233991ba67fc00a89e8fcd57"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aaf3b4fed233991ba67fc00a89e8fcd57">ore::analytics::ParSensitivityAnalysis::augmentRelevantRiskFactors</a></div><div class="ttdeci">void augmentRelevantRiskFactors()</div><div class="ttdoc">Augment relevant risk factors.</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8cpp_source.html#l00103">parsensitivityanalysis.cpp:103</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_adc1ea5d86780f6a6557b3bb6cf84926e"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#adc1ea5d86780f6a6557b3bb6cf84926e">ore::analytics::ParSensitivityAnalysis::isParType</a></div><div class="ttdeci">static bool isParType(ore::analytics::RiskFactorKey::KeyType type)</div><div class="ttdoc">Returns true if risk factor type is applicable for par conversion.</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8cpp_source.html#l00538">parsensitivityanalysis.cpp:538</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_aeebf3a9a26bb21e6bceb1b6faba0038e"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aeebf3a9a26bb21e6bceb1b6faba0038e">ore::analytics::ParSensitivityAnalysis::populateShiftSizes</a></div><div class="ttdeci">void populateShiftSizes(const ore::analytics::RiskFactorKey &amp;key, QuantLib::Real parRate, const QuantLib::ext::shared_ptr&lt; ore::analytics::ScenarioSimMarket &gt; &amp;simMarket)</div><div class="ttdoc">Populate shiftSizes_ for key given the implied fair par rate parRate.</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8cpp_source.html#l00549">parsensitivityanalysis.cpp:549</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_risk_factor_key_html_aab0feaba617470cb4aa830dc5935238ca508328efaa028c90d6e0174ed7389614"><div class="ttname"><a href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238ca508328efaa028c90d6e0174ed7389614">ore::analytics::RiskFactorKey::KeyType::IndexCurve</a></div><div class="ttdeci">@ IndexCurve</div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_risk_factor_key_html_aab0feaba617470cb4aa830dc5935238caad7a4415513da5f62869964dbd864401"><div class="ttname"><a href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238caad7a4415513da5f62869964dbd864401">ore::analytics::RiskFactorKey::KeyType::YoYInflationCurve</a></div><div class="ttdeci">@ YoYInflationCurve</div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_risk_factor_key_html_aab0feaba617470cb4aa830dc5935238caba2340fc08c36e9473d88fa6d823c1fb"><div class="ttname"><a href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238caba2340fc08c36e9473d88fa6d823c1fb">ore::analytics::RiskFactorKey::KeyType::SurvivalProbability</a></div><div class="ttdeci">@ SurvivalProbability</div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_risk_factor_key_html_aab0feaba617470cb4aa830dc5935238cac180e16777ec55d7f8be3f91ab6c0313"><div class="ttname"><a href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238cac180e16777ec55d7f8be3f91ab6c0313">ore::analytics::RiskFactorKey::KeyType::DiscountCurve</a></div><div class="ttdeci">@ DiscountCurve</div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_risk_factor_key_html_aab0feaba617470cb4aa830dc5935238cac8dbbdbb04d984dd976732914ab27738"><div class="ttname"><a href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238cac8dbbdbb04d984dd976732914ab27738">ore::analytics::RiskFactorKey::KeyType::YieldCurve</a></div><div class="ttdeci">@ YieldCurve</div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_shift_scenario_generator_1_1_scenario_description_html_a1d1cfd8ffb84e947f82999c682b666a7a258f49887ef8d14ac268c92b02503aaa"><div class="ttname"><a href="classore_1_1analytics_1_1_shift_scenario_generator_1_1_scenario_description.html#a1d1cfd8ffb84e947f82999c682b666a7a258f49887ef8d14ac268c92b02503aaa">ore::analytics::ShiftScenarioGenerator::ScenarioDescription::Type::Up</a></div><div class="ttdeci">@ Up</div></div>
<div class="ttc" id="alog_8hpp_html_a158e0f085ddedfe5c8ed069986039f50"><div class="ttname"><a href="../ored/log_8hpp.html#a158e0f085ddedfe5c8ed069986039f50">LOG</a></div><div class="ttdeci">#define LOG(text)</div></div>
<div class="ttc" id="alog_8hpp_html_a34c7c8cde9b91d2eee82d7b9a0b66fd5"><div class="ttname"><a href="../ored/log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a></div><div class="ttdeci">#define DLOG(text)</div></div>
<div class="ttc" id="alog_8hpp_html_a35cb05f674d9e764ca12cff351b064f2"><div class="ttname"><a href="../ored/log_8hpp.html#a35cb05f674d9e764ca12cff351b064f2">ALOG</a></div><div class="ttdeci">#define ALOG(text)</div></div>
<div class="ttc" id="alog_8hpp_html_a9622ca943201e814041f051b7a10b3ea"><div class="ttname"><a href="../ored/log_8hpp.html#a9622ca943201e814041f051b7a10b3ea">WLOG</a></div><div class="ttdeci">#define WLOG(text)</div></div>
<div class="ttc" id="alog_8hpp_html_a99aeca53f904c71a68070e1f9d310232"><div class="ttname"><a href="../ored/log_8hpp.html#a99aeca53f904c71a68070e1f9d310232">TLOG</a></div><div class="ttdeci">#define TLOG(text)</div></div>
<div class="ttc" id="anamespace_quant_ext_html_a1cab4fb6a720eff245acb9f3a7a9e7c5"><div class="ttname"><a href="../qle/namespace_quant_ext.html#a1cab4fb6a720eff245acb9f3a7a9e7c5">close_enough</a></div><div class="ttdeci">Filter close_enough(const RandomVariable &amp;x, const RandomVariable &amp;y)</div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_a0ac415c2bd9617fc010993c413536714"><div class="ttname"><a href="namespaceore_1_1analytics.html#a0ac415c2bd9617fc010993c413536714">ore::analytics::impliedVolatility</a></div><div class="ttdeci">Volatility impliedVolatility(const QuantLib::CapFloor &amp;cap, Real targetValue, const Handle&lt; YieldTermStructure &gt; &amp;d, Volatility guess, VolatilityType type, Real displacement)</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityutilities_8cpp_source.html#l00275">parsensitivityutilities.cpp:275</a></div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_a308d403cbb100c0043e83f7755b3dd40"><div class="ttname"><a href="namespaceore_1_1analytics.html#a308d403cbb100c0043e83f7755b3dd40">ore::analytics::getShiftSize</a></div><div class="ttdeci">Real getShiftSize(const RiskFactorKey &amp;key, const SensitivityScenarioData &amp;sensiParams, const QuantLib::ext::shared_ptr&lt; ScenarioSimMarket &gt; &amp;simMarket, const string &amp;marketConfiguration)</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2sensitivityanalysis_8cpp_source.html#l00278">sensitivityanalysis.cpp:278</a></div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_a9bdda512a58dc6b8d153a0eabe183de2"><div class="ttname"><a href="namespaceore_1_1analytics.html#a9bdda512a58dc6b8d153a0eabe183de2">ore::analytics::impliedQuote</a></div><div class="ttdeci">Real impliedQuote(const QuantLib::ext::shared_ptr&lt; Instrument &gt; &amp;i)</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityutilities_8cpp_source.html#l00240">parsensitivityutilities.cpp:240</a></div></div>
<div class="ttc" id="anamespaceore_1_1data_html_a1dd3178717c03aef7d6851a3dfd92207ad4192ca9679d38110983141b896eebbf"><div class="ttname"><a href="../ored/namespaceore_1_1data.html#a1dd3178717c03aef7d6851a3dfd92207ad4192ca9679d38110983141b896eebbf">MomentType::Volatility</a></div><div class="ttdeci">@ Volatility</div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_a11ce51a1196b547ded9f5903dd82de6a"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a11ce51a1196b547ded9f5903dd82de6a">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::parYoYCapsVts_</a></div><div class="ttdeci">std::map&lt; ore::analytics::RiskFactorKey, QuantLib::Handle&lt; QuantExt::YoYOptionletVolatilitySurface &gt; &gt; parYoYCapsVts_</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00050">parsensitivityinstrumentbuilder.hpp:50</a></div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_a4c2a54863b06e0f0b96160d82f5f7e26"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a4c2a54863b06e0f0b96160d82f5f7e26">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::removeTodaysFixingIndices_</a></div><div class="ttdeci">std::set&lt; std::string &gt; removeTodaysFixingIndices_</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00057">parsensitivityinstrumentbuilder.hpp:57</a></div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_a515631a710eccb52310b6f2c8535426f"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a515631a710eccb52310b6f2c8535426f">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::parYoYCapsYts_</a></div><div class="ttdeci">std::map&lt; ore::analytics::RiskFactorKey, QuantLib::Handle&lt; QuantLib::YieldTermStructure &gt; &gt; parYoYCapsYts_</div><div class="ttdoc">par helpers: YoY cap / floors</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00047">parsensitivityinstrumentbuilder.hpp:47</a></div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_a6a6b3b7db8bb9252d22f3cdef65b020e"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a6a6b3b7db8bb9252d22f3cdef65b020e">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::parHelpers_</a></div><div class="ttdeci">std::map&lt; ore::analytics::RiskFactorKey, QuantLib::ext::shared_ptr&lt; QuantLib::Instrument &gt; &gt; parHelpers_</div><div class="ttdoc">par helpers (all except cap/floors)</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00041">parsensitivityinstrumentbuilder.hpp:41</a></div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_a7c1493750b68ca4dd9032186df092e37"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a7c1493750b68ca4dd9032186df092e37">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::parCapsYts_</a></div><div class="ttdeci">std::map&lt; ore::analytics::RiskFactorKey, QuantLib::Handle&lt; QuantLib::YieldTermStructure &gt; &gt; parCapsYts_</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00044">parsensitivityinstrumentbuilder.hpp:44</a></div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_a845ca69983441db07ea1cd57236fa962"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a845ca69983441db07ea1cd57236fa962">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::parCaps_</a></div><div class="ttdeci">std::map&lt; ore::analytics::RiskFactorKey, QuantLib::ext::shared_ptr&lt; QuantLib::CapFloor &gt; &gt; parCaps_</div><div class="ttdoc">par helpers: IR cap / floors</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00043">parsensitivityinstrumentbuilder.hpp:43</a></div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_aaf70488ead9db867358f1c70d21d794b"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#aaf70488ead9db867358f1c70d21d794b">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::parCapsVts_</a></div><div class="ttdeci">std::map&lt; ore::analytics::RiskFactorKey, QuantLib::Handle&lt; QuantLib::OptionletVolatilityStructure &gt; &gt; parCapsVts_</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00045">parsensitivityinstrumentbuilder.hpp:45</a></div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_ab9937f83843e016639a9076999d8ecda"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#ab9937f83843e016639a9076999d8ecda">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::parYoYCaps_</a></div><div class="ttdeci">std::map&lt; ore::analytics::RiskFactorKey, QuantLib::ext::shared_ptr&lt; QuantLib::YoYInflationCapFloor &gt; &gt; parYoYCaps_</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00049">parsensitivityinstrumentbuilder.hpp:49</a></div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_abcfd66bb7e718ed570ced8e663951a60"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#abcfd66bb7e718ed570ced8e663951a60">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::parYoYCapsIndex_</a></div><div class="ttdeci">std::map&lt; ore::analytics::RiskFactorKey, QuantLib::Handle&lt; QuantLib::YoYInflationIndex &gt; &gt; parYoYCapsIndex_</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00048">parsensitivityinstrumentbuilder.hpp:48</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_par_sensitivity_analysis_abdae52d1591db2caae3d1ceb4f42fba4_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_par_sensitivity_analysis_abdae52d1591db2caae3d1ceb4f42fba4_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_par_sensitivity_analysis_abdae52d1591db2caae3d1ceb4f42fba4_cgraph" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_abdae52d1591db2caae3d1ceb4f42fba4_cgraph">
<area shape="rect" title="Compute par instrument sensitivities." alt="" coords="5,2179,228,2205"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aaf3b4fed233991ba67fc00a89e8fcd57" title="Augment relevant risk factors." alt="" coords="280,763,471,789"/>
<area shape="rect" target="_parent" href="../qle/namespace_quant_ext.html#a1cab4fb6a720eff245acb9f3a7a9e7c5" title=" " alt="" coords="1213,962,1315,987"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a46efda8c130791ef8a8b1786016ced7f" title="Create par QuantLib::Instruments." alt="" coords="523,1489,777,1529"/>
<area shape="rect" href="namespaceore_1_1analytics.html#a308d403cbb100c0043e83f7755b3dd40" title=" " alt="" coords="561,2379,739,2405"/>
<area shape="rect" href="namespaceore_1_1analytics.html#a9bdda512a58dc6b8d153a0eabe183de2" title=" " alt="" coords="283,2278,467,2303"/>
<area shape="rect" href="namespaceore_1_1analytics.html#a0ac415c2bd9617fc010993c413536714" title=" " alt="" coords="276,2351,475,2377"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#adc1ea5d86780f6a6557b3bb6cf84926e" title="Returns true if risk factor type is applicable for par conversion." alt="" coords="335,2401,415,2426"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aeebf3a9a26bb21e6bceb1b6faba0038e" title="Populate shiftSizes_ for key given the implied fair par rate parRate." alt="" coords="310,2205,441,2230"/>
<area shape="rect" href="namespaceore_1_1analytics.html#a5d1321dd9dc33737ef28e6e71571b476" title="true if key type and name are equal, do not care about the index though" alt="" coords="567,753,733,793"/>
<area shape="rect" href="test_2scenarioshiftcalculator_8cpp.html#a652b8805d9b88185e25574d4820660c4" title=" " alt="" coords="1241,1647,1287,1673"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a1e7975633804f41e3e0c0202b864e873" title=" " alt="" coords="853,1841,1083,1881"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a335c3820a9ad66b4114eae1b63f57837" title=" " alt="" coords="883,932,1053,972"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a6375a86240c568db36437ce89eefa4d1" title=" " alt="" coords="855,1905,1081,1945"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a3f0a4ac32ff5a34576a7a48c4fcd180d" title=" " alt="" coords="847,1969,1089,2009"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a16944a29c21d7c49e20700732025e949" title=" " alt="" coords="856,2164,1080,2204"/>
<area shape="rect" target="_parent" href="../ored/classore_1_1data_1_1_j_s_o_n_message.html#a5e21eca2668ed948bdc409b19a78e5bb" title=" " alt="" coords="871,997,1065,1022"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a3c701923f421dbf93de51b7a35853b4a" title="Create Cap/Floor QuantLib::Instrument for implying flat vol sensitivity from optionlet vol sensitivit..." alt="" coords="861,1340,1075,1380"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga2d18ab5807f92319c9db2c13f4904738" title=" " alt="" coords="1181,1439,1347,1465"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#ad7bf32be5292bfdfa772c448cde29dd2" title="Create CDS for implying par rate sensitivity from Hazard Rate sensitivity." alt="" coords="873,689,1063,729"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a41d09a984482c1c77483ec16fe0565d8" title="Create Cross Ccy Basis Swap for implying par rate sensitivity from zero rate sensitivity." alt="" coords="825,1276,1111,1316"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a6badd31344716f089c8e1c78b47ee25c" title="Create Deposit for implying par rate sensitivity from zero rate sensitivity." alt="" coords="865,1697,1071,1737"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a8979bbffb7084ec49c603a625c1a2ee5" title="Create FRA for implying par rate sensitivity from zero rate sensitivity." alt="" coords="873,1519,1063,1559"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#abeb46228c941f996c82c4e8642684909" title="Create FX Forwrad for implying par rate sensitivity from zero rate sensitivity." alt="" coords="856,1212,1080,1252"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a9b8b94d4ebc735ad36140e77cf3aea4c" title="Create OIS Swap for implying par rate sensitivity from zero rate sensitivity." alt="" coords="875,1404,1061,1444"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a0ace77cfb2dcf33fe298a2a0d38b79e5" title="Create Swap for implying par rate sensitivity from zero rate sensitivity." alt="" coords="871,280,1065,320"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a3f240cc5bac1dd811fab631eb08108cf" title="Create Basis Swap for implying par rate sensitivity from zero rate sensitivity." alt="" coords="838,1583,1098,1623"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#a57d1d6de582f1342999f501101ef5976" title="Create YoY Cap/Floor for implying rate rate sensitivity from yoy optionlet vol sensitivity." alt="" coords="848,1047,1088,1087"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#ab73965bb8345ea6aa3d65eda2aba1de7" title="Create YoY Swap for implying par rate sensitivity from yoy rate sensitivity." alt="" coords="837,753,1099,793"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_instrument_builder.html#aff113fd98b334d7713ddf6a5bf9d9f79" title="Create Zero Swap for implying par rate sensitivity from zero rate sensitivity." alt="" coords="836,868,1100,908"/>
<area shape="rect" target="_parent" href="../ored/namespaceore_1_1data.html#a777e216dee6069b548bb87da7152699e" title=" " alt="" coords="915,1111,1021,1137"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#aa86b68432d54cf2c1fbbe43bd2135998" title=" " alt="" coords="858,2228,1078,2268"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a115f76edd6295dc79b4607943aa0928d" title=" " alt="" coords="855,2293,1081,2347"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a8867ca117689b4d543c8a863b9135e51" title=" " alt="" coords="865,1762,1071,1817"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a5b60bda3c39b2c79c9d036a7852b382b" title=" " alt="" coords="863,2085,1073,2139"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_credit_default_swap.html#a13afd8ff6e8e79e157b41c54db8b28f0" title=" " alt="" coords="1169,568,1359,608"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_credit_default_swap.html#a8786a1690bc26d6512e31f517befea73" title=" " alt="" coords="1163,632,1365,672"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_credit_default_swap.html#a79a5bf709a83cd99efa83faf7a6f0d6f" title=" " alt="" coords="1169,696,1359,736"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_credit_default_swap.html#a4f6863a09ad0ad21659f5fcf32b418e5" title=" " alt="" coords="1169,760,1359,800"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_credit_default_swap.html#a1156ccc1f63793734fe12a4535c6f68f" title=" " alt="" coords="1166,824,1362,864"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_credit_default_swap.html#aef79fd00dc96736bca343d0192c26468" title=" " alt="" coords="1169,504,1359,544"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga6e9e781a58e78200301c76161589fc7b" title=" " alt="" coords="1181,1279,1347,1305"/>
<area shape="rect" target="_parent" href="../ored/namespaceore_1_1data.html#a02864b97f8a5f61c74d6b78ca65d7c30" title=" " alt="" coords="1179,1223,1349,1249"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga2f0695fe62430369b6acca7976d7be97" title=" " alt="" coords="1176,1701,1352,1726"/>
<area shape="rect" target="_parent" href="../ored/namespaceore_1_1data.html#a86651dfeb5c18ee891f7a4734d8cf455" title=" " alt="" coords="1228,1750,1300,1775"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga53500116b2cd1c6fd1598065f9ef64b2" title=" " alt="" coords="1173,70,1355,95"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_fixed_b_m_a_swap.html#aae4aedf88e432de744f6f0ae703bde15" title=" " alt="" coords="1159,120,1369,160"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_sub_periods_swap.html#affc41d722d1120518f9948d788431056" title=" " alt="" coords="1169,184,1359,224"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_sub_periods_swap.html#a662efe4525f29a7b64e3e50417016fb6" title=" " alt="" coords="1163,248,1365,288"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_sub_periods_swap.html#ac2f3a56b9130195610d7b30c0f087caa" title=" " alt="" coords="1167,312,1361,352"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_sub_periods_swap.html#a02282940d3091865100dcff65c695f9b" title=" " alt="" coords="1172,376,1356,416"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_sub_periods_swap.html#a12463e6245949bc4477529c791f31279" title=" " alt="" coords="1172,440,1356,480"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1_make_sub_periods_swap.html#aa27d877e3cfb8777d52f2ae720d062d3" title=" " alt="" coords="1171,5,1357,45"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1yoy_inflation_leg.html#a31afff2ccfbd52b6333575ee40c23504" title=" " alt="" coords="1179,1140,1349,1180"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1yoy_inflation_leg.html#a7bd51a0a7da6c232fa3bcc70045d501d" title=" " alt="" coords="1177,1012,1351,1052"/>
<area shape="rect" target="_parent" href="../qle/class_quant_ext_1_1yoy_inflation_leg.html#a0617466d18a23a375cc3d45ec9102b33" title=" " alt="" coords="1179,1076,1349,1116"/>
<area shape="rect" target="_parent" href="../ored/namespaceore_1_1data.html#a4cabef9f8164c42065e1fabfc11a6d32" title=" " alt="" coords="1177,888,1351,928"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#aa20846f76afb42a5e0a7e907b727e345" title=" " alt="" coords="843,2900,1093,2940"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#aefc1dde6ea364f5790dc4dc75d339dba" title=" " alt="" coords="867,2964,1069,3004"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#aac49358ce89823f7587c0ddbd3a74972" title=" " alt="" coords="839,3028,1097,3068"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#aea45faada7a1e96039510c0eb5e9a51f" title=" " alt="" coords="846,3092,1090,3132"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a4b19d484e8c790e4fd6c40922a567509" title=" " alt="" coords="850,3156,1086,3196"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#af073371655145388cd67182906ad5694" title=" " alt="" coords="870,2372,1066,2412"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a344f4a67200865bd29b118ab0836c168" title=" " alt="" coords="861,2436,1075,2476"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a7ab8bd40826ffcadec9a28c9b47deee0" title=" " alt="" coords="883,2500,1053,2540"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a5781bba7cccea873352ae96390ae06a7" title=" " alt="" coords="873,2564,1063,2604"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a221481186bf38cc73b261331cda6bcec" title=" " alt="" coords="865,2628,1071,2668"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a878f236e46973bef31d49a6ba7170aad" title=" " alt="" coords="853,2692,1083,2732"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a595f1fc52e87fae0e9d1f1c92d940e2a" title=" " alt="" coords="865,2756,1071,2796"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a9606aee3c5d7b1b81f84bd8994f53408" title=" " alt="" coords="853,2821,1083,2875"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a2d1e0fb4f255552e89bb7fad306cd48b" title="Give back the shift data for the given risk factor type, keyType, with the given name." alt="" coords="567,2500,733,2540"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a5b2ac7fa73674b88cd3c2cc68477b111" title=" " alt="" coords="857,3220,1079,3260"/>
</map>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_par_sensitivity_analysis_abdae52d1591db2caae3d1ceb4f42fba4_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_par_sensitivity_analysis_abdae52d1591db2caae3d1ceb4f42fba4_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_par_sensitivity_analysis_abdae52d1591db2caae3d1ceb4f42fba4_icgraph" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_abdae52d1591db2caae3d1ceb4f42fba4_icgraph">
<area shape="rect" title="Compute par instrument sensitivities." alt="" coords="748,231,971,256"/>
<area shape="rect" href="namespacetestsuite.html#afd8c3742b8100d705ce7977043bc2f62" title=" " alt="" coords="497,177,682,203"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_manual_test.html#a42cf0fd677773cdd75e7c048ed01eeb1" title="Benchmark par conversion against brute&#45;force bump on the par instruments (&quot;None&quot; observation mode)" alt="" coords="479,269,700,324"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#ae6c4cbff53ed815adea99a735769ed32" title="Test par conversion of sensitivities (&quot;Defer&quot; observation mode)" alt="" coords="220,5,431,60"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#ac9671fa0765492681d63b4c0ba572876" title="Test par conversion of sensitivities (&quot;Disable&quot; observation mode)" alt="" coords="220,84,431,139"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#afb4f997765ff8daa8c928526916f562c" title="Test par conversion of sensitivities (&quot;None&quot; observation mode)" alt="" coords="220,163,431,217"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#aef5f6a65f244c1c1924f166eb00e8cb1" title="Test par conversion of sensitivities (&quot;Unregister&quot; observation mode)" alt="" coords="220,241,431,296"/>
<area shape="rect" href="namespacetestsuite.html#a7336c6c42586f182d70ce191a6ff915a" title=" " alt="" coords="5,13,172,53"/>
<area shape="rect" href="namespacetestsuite.html#ab24424d8bcc882ec1aa2c15a824bbcb3" title=" " alt="" coords="5,91,172,131"/>
<area shape="rect" href="namespacetestsuite.html#a2040e405cafa5225fa84f452ca4be05a" title=" " alt="" coords="5,170,172,210"/>
<area shape="rect" href="namespacetestsuite.html#aefa2c91d3447262a7f241b3f635ae75a" title=" " alt="" coords="5,249,172,289"/>
<area shape="rect" href="namespacetestsuite.html#a227848f4347cd5ecd5cb75afd62bc23d" title=" " alt="" coords="242,321,409,361"/>
</map>
</div>

</div>
</div>
<a id="a8092eccb5ce3a742bec7c90e7599fe71" name="a8092eccb5ce3a742bec7c90e7599fe71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8092eccb5ce3a742bec7c90e7599fe71">&#9670;&#160;</a></span>parSensitivities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#abe637de864ef34aa2842b582cf4680b4">ParContainer</a> &amp; parSensitivities </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return computed par sensitivities. Empty if they have not been computed yet. </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00075">75</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   75</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a2afaeb949d17f1fc1f707c5ff3980648">parSensi_</a>; }</div>
</div><!-- fragment --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_par_sensitivity_analysis_a8092eccb5ce3a742bec7c90e7599fe71_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_par_sensitivity_analysis_a8092eccb5ce3a742bec7c90e7599fe71_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_par_sensitivity_analysis_a8092eccb5ce3a742bec7c90e7599fe71_icgraph" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_a8092eccb5ce3a742bec7c90e7599fe71_icgraph">
<area shape="rect" title="Return computed par sensitivities. Empty if they have not been computed yet." alt="" coords="748,231,857,256"/>
<area shape="rect" href="namespacetestsuite.html#afd8c3742b8100d705ce7977043bc2f62" title=" " alt="" coords="497,177,682,203"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_manual_test.html#a42cf0fd677773cdd75e7c048ed01eeb1" title="Benchmark par conversion against brute&#45;force bump on the par instruments (&quot;None&quot; observation mode)" alt="" coords="479,269,700,324"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#ae6c4cbff53ed815adea99a735769ed32" title="Test par conversion of sensitivities (&quot;Defer&quot; observation mode)" alt="" coords="220,5,431,60"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#ac9671fa0765492681d63b4c0ba572876" title="Test par conversion of sensitivities (&quot;Disable&quot; observation mode)" alt="" coords="220,84,431,139"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#afb4f997765ff8daa8c928526916f562c" title="Test par conversion of sensitivities (&quot;None&quot; observation mode)" alt="" coords="220,163,431,217"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#aef5f6a65f244c1c1924f166eb00e8cb1" title="Test par conversion of sensitivities (&quot;Unregister&quot; observation mode)" alt="" coords="220,241,431,296"/>
<area shape="rect" href="namespacetestsuite.html#a7336c6c42586f182d70ce191a6ff915a" title=" " alt="" coords="5,13,172,53"/>
<area shape="rect" href="namespacetestsuite.html#ab24424d8bcc882ec1aa2c15a824bbcb3" title=" " alt="" coords="5,91,172,131"/>
<area shape="rect" href="namespacetestsuite.html#a2040e405cafa5225fa84f452ca4be05a" title=" " alt="" coords="5,170,172,210"/>
<area shape="rect" href="namespacetestsuite.html#aefa2c91d3447262a7f241b3f635ae75a" title=" " alt="" coords="5,249,172,289"/>
<area shape="rect" href="namespacetestsuite.html#a227848f4347cd5ecd5cb75afd62bc23d" title=" " alt="" coords="242,321,409,361"/>
</map>
</div>

</div>
</div>
<a id="a28915bb1dca6668799c336ea3a953e45" name="a28915bb1dca6668799c336ea3a953e45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28915bb1dca6668799c336ea3a953e45">&#9670;&#160;</a></span>alignPillars()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void alignPillars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>align pillars in scenario simulation market parameters with those of the par instruments </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8cpp_source.html#l00482">482</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8cpp_source.html">parsensitivityanalysis.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  482</span>                                          {</div>
<div class="line"><span class="lineno">  483</span>    <a class="code hl_defineRef" href="../ored/log_8hpp.html#a158e0f085ddedfe5c8ed069986039f50">LOG</a>(<span class="stringliteral">&quot;Align simulation market pillars to actual latest relevant dates of par instruments&quot;</span>);</div>
<div class="line"><span class="lineno">  484</span>    <span class="comment">// If any of the yield curve types are still active, align the pillars.</span></div>
<div class="line"><span class="lineno">  485</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a>.count(<a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238cac180e16777ec55d7f8be3f91ab6c0313">RiskFactorKey::KeyType::DiscountCurve</a>) == 0 ||</div>
<div class="line"><span class="lineno">  486</span>        <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a>.count(<a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238cac8dbbdbb04d984dd976732914ab27738">RiskFactorKey::KeyType::YieldCurve</a>) == 0 ||</div>
<div class="line"><span class="lineno">  487</span>        <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a>.count(<a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238ca508328efaa028c90d6e0174ed7389614">RiskFactorKey::KeyType::IndexCurve</a>) == 0) {</div>
<div class="line"><span class="lineno">  488</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; p : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a6f59c4d79b7b682b8dcbbbf7379f443e">yieldCurvePillars_</a>) {</div>
<div class="line"><span class="lineno">  489</span>            <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a3a40a8b803ad052cd07397bb1f6bd886">simMarketParams_</a>-&gt;setYieldCurveTenors(p.first, p.second);</div>
<div class="line"><span class="lineno">  490</span>            <a class="code hl_defineRef" href="../ored/log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;yield curve tenors for &quot;</span> &lt;&lt; p.first &lt;&lt; <span class="stringliteral">&quot; set (&quot;</span> &lt;&lt; p.second.size() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  491</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; t : p.second)</div>
<div class="line"><span class="lineno">  492</span>                <a class="code hl_defineRef" href="../ored/log_8hpp.html#a99aeca53f904c71a68070e1f9d310232">TLOG</a>(<span class="stringliteral">&quot;set tenor &quot;</span> &lt;&lt; t.length() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; t.units())</div>
<div class="line"><span class="lineno">  493</span>        }</div>
<div class="line"><span class="lineno">  494</span>    }</div>
<div class="line"><span class="lineno">  495</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a>.count(<a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238ca1b5732971f0b2e238e09996b0e4137ab">RiskFactorKey::KeyType::OptionletVolatility</a>) == 0) {</div>
<div class="line"><span class="lineno">  496</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; p : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#acb376e279b07604b2914ef39001882bf">capFloorPillars_</a>) {</div>
<div class="line"><span class="lineno">  497</span>            <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a3a40a8b803ad052cd07397bb1f6bd886">simMarketParams_</a>-&gt;setCapFloorVolExpiries(p.first, p.second);</div>
<div class="line"><span class="lineno">  498</span>            <a class="code hl_defineRef" href="../ored/log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;cap floor expiries for &quot;</span> &lt;&lt; p.first &lt;&lt; <span class="stringliteral">&quot; set (&quot;</span> &lt;&lt; p.second.size() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  499</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; t : p.second)</div>
<div class="line"><span class="lineno">  500</span>                <a class="code hl_defineRef" href="../ored/log_8hpp.html#a99aeca53f904c71a68070e1f9d310232">TLOG</a>(<span class="stringliteral">&quot;set tenor &quot;</span> &lt;&lt; t.length() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; t.units())</div>
<div class="line"><span class="lineno">  501</span>        }</div>
<div class="line"><span class="lineno">  502</span>    }</div>
<div class="line"><span class="lineno">  503</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a>.count(<a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238ca07cf31a470614797e8fde5ef0ec16d00">RiskFactorKey::KeyType::YoYInflationCapFloorVolatility</a>) == 0) {</div>
<div class="line"><span class="lineno">  504</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; p : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#ac55b0237959d994f17388f4f29eb9500">yoyCapFloorPillars_</a>) {</div>
<div class="line"><span class="lineno">  505</span>            <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a3a40a8b803ad052cd07397bb1f6bd886">simMarketParams_</a>-&gt;setYoYInflationCapFloorVolExpiries(p.first, p.second);</div>
<div class="line"><span class="lineno">  506</span>            <a class="code hl_defineRef" href="../ored/log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;yoy cap floor expiries for &quot;</span> &lt;&lt; p.first &lt;&lt; <span class="stringliteral">&quot; set (&quot;</span> &lt;&lt; p.second.size() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  507</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; t : p.second)</div>
<div class="line"><span class="lineno">  508</span>                <a class="code hl_defineRef" href="../ored/log_8hpp.html#a99aeca53f904c71a68070e1f9d310232">TLOG</a>(<span class="stringliteral">&quot;set tenor &quot;</span> &lt;&lt; t.length() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; t.units())</div>
<div class="line"><span class="lineno">  509</span>        }</div>
<div class="line"><span class="lineno">  510</span>    }</div>
<div class="line"><span class="lineno">  511</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a>.count(<a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238caba2340fc08c36e9473d88fa6d823c1fb">RiskFactorKey::KeyType::SurvivalProbability</a>) == 0) {</div>
<div class="line"><span class="lineno">  512</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; p : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#acdecb03fc1891c2c30f058e51d3db7c8">cdsPillars_</a>) {</div>
<div class="line"><span class="lineno">  513</span>            <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a3a40a8b803ad052cd07397bb1f6bd886">simMarketParams_</a>-&gt;setDefaultTenors(p.first, p.second);</div>
<div class="line"><span class="lineno">  514</span>            <a class="code hl_defineRef" href="../ored/log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;default expiries for &quot;</span> &lt;&lt; p.first &lt;&lt; <span class="stringliteral">&quot; set (&quot;</span> &lt;&lt; p.second.size() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  515</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; t : p.second)</div>
<div class="line"><span class="lineno">  516</span>                <a class="code hl_defineRef" href="../ored/log_8hpp.html#a99aeca53f904c71a68070e1f9d310232">TLOG</a>(<span class="stringliteral">&quot;set tenor &quot;</span> &lt;&lt; t.length() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; t.units())</div>
<div class="line"><span class="lineno">  517</span>        }</div>
<div class="line"><span class="lineno">  518</span>    }</div>
<div class="line"><span class="lineno">  519</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a>.count(<a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238ca1b9077b75e9e77e2b989363fd63a5023">RiskFactorKey::KeyType::ZeroInflationCurve</a>) == 0) {</div>
<div class="line"><span class="lineno">  520</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; p : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a2519f5f2c3fa5301e9c79870c0860e5b">zeroInflationPillars_</a>) {</div>
<div class="line"><span class="lineno">  521</span>            <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a3a40a8b803ad052cd07397bb1f6bd886">simMarketParams_</a>-&gt;setZeroInflationTenors(p.first, p.second);</div>
<div class="line"><span class="lineno">  522</span>            <a class="code hl_defineRef" href="../ored/log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;zero inflation expiries for &quot;</span> &lt;&lt; p.first &lt;&lt; <span class="stringliteral">&quot; set (&quot;</span> &lt;&lt; p.second.size() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  523</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; t : p.second)</div>
<div class="line"><span class="lineno">  524</span>                <a class="code hl_defineRef" href="../ored/log_8hpp.html#a99aeca53f904c71a68070e1f9d310232">TLOG</a>(<span class="stringliteral">&quot;set tenor &quot;</span> &lt;&lt; t.length() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; t.units())</div>
<div class="line"><span class="lineno">  525</span>        }</div>
<div class="line"><span class="lineno">  526</span>    }</div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a>.count(<a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238caad7a4415513da5f62869964dbd864401">RiskFactorKey::KeyType::YoYInflationCurve</a>) == 0) {</div>
<div class="line"><span class="lineno">  528</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; p : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#ad024f87a8ea51a265aba235133284eb0">yoyInflationPillars_</a>) {</div>
<div class="line"><span class="lineno">  529</span>            <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a3a40a8b803ad052cd07397bb1f6bd886">simMarketParams_</a>-&gt;setYoyInflationTenors(p.first, p.second);</div>
<div class="line"><span class="lineno">  530</span>            <a class="code hl_defineRef" href="../ored/log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;yoy inflation expiries for &quot;</span> &lt;&lt; p.first &lt;&lt; <span class="stringliteral">&quot; set (&quot;</span> &lt;&lt; p.second.size() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  531</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; t : p.second)</div>
<div class="line"><span class="lineno">  532</span>                <a class="code hl_defineRef" href="../ored/log_8hpp.html#a99aeca53f904c71a68070e1f9d310232">TLOG</a>(<span class="stringliteral">&quot;set tenor &quot;</span> &lt;&lt; t.length() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; t.units())</div>
<div class="line"><span class="lineno">  533</span>        }</div>
<div class="line"><span class="lineno">  534</span>    }</div>
<div class="line"><span class="lineno">  535</span>    <a class="code hl_defineRef" href="../ored/log_8hpp.html#a158e0f085ddedfe5c8ed069986039f50">LOG</a>(<span class="stringliteral">&quot;Alignment of pillars done.&quot;</span>);</div>
<div class="line"><span class="lineno">  536</span>}</div>
<div class="ttc" id="aclassore_1_1analytics_1_1_risk_factor_key_html_aab0feaba617470cb4aa830dc5935238ca07cf31a470614797e8fde5ef0ec16d00"><div class="ttname"><a href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238ca07cf31a470614797e8fde5ef0ec16d00">ore::analytics::RiskFactorKey::KeyType::YoYInflationCapFloorVolatility</a></div><div class="ttdeci">@ YoYInflationCapFloorVolatility</div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_risk_factor_key_html_aab0feaba617470cb4aa830dc5935238ca1b5732971f0b2e238e09996b0e4137ab"><div class="ttname"><a href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238ca1b5732971f0b2e238e09996b0e4137ab">ore::analytics::RiskFactorKey::KeyType::OptionletVolatility</a></div><div class="ttdeci">@ OptionletVolatility</div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_risk_factor_key_html_aab0feaba617470cb4aa830dc5935238ca1b9077b75e9e77e2b989363fd63a5023"><div class="ttname"><a href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238ca1b9077b75e9e77e2b989363fd63a5023">ore::analytics::RiskFactorKey::KeyType::ZeroInflationCurve</a></div><div class="ttdeci">@ ZeroInflationCurve</div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_a2519f5f2c3fa5301e9c79870c0860e5b"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a2519f5f2c3fa5301e9c79870c0860e5b">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::zeroInflationPillars_</a></div><div class="ttdeci">std::map&lt; std::string, std::vector&lt; QuantLib::Period &gt; &gt; zeroInflationPillars_</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00053">parsensitivityinstrumentbuilder.hpp:53</a></div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_a6f59c4d79b7b682b8dcbbbf7379f443e"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a6f59c4d79b7b682b8dcbbbf7379f443e">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::yieldCurvePillars_</a></div><div class="ttdeci">std::map&lt; std::string, std::vector&lt; QuantLib::Period &gt; &gt; yieldCurvePillars_</div><div class="ttdoc">par QuantLib::Instrument pillars</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00052">parsensitivityinstrumentbuilder.hpp:52</a></div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_ac55b0237959d994f17388f4f29eb9500"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#ac55b0237959d994f17388f4f29eb9500">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::yoyCapFloorPillars_</a></div><div class="ttdeci">std::map&lt; std::string, std::vector&lt; QuantLib::Period &gt; &gt; yoyCapFloorPillars_</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00053">parsensitivityinstrumentbuilder.hpp:53</a></div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_acb376e279b07604b2914ef39001882bf"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#acb376e279b07604b2914ef39001882bf">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::capFloorPillars_</a></div><div class="ttdeci">std::map&lt; std::string, std::vector&lt; QuantLib::Period &gt; &gt; capFloorPillars_</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00052">parsensitivityinstrumentbuilder.hpp:52</a></div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_acdecb03fc1891c2c30f058e51d3db7c8"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#acdecb03fc1891c2c30f058e51d3db7c8">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::cdsPillars_</a></div><div class="ttdeci">std::map&lt; std::string, std::vector&lt; QuantLib::Period &gt; &gt; cdsPillars_</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00052">parsensitivityinstrumentbuilder.hpp:52</a></div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_ad024f87a8ea51a265aba235133284eb0"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#ad024f87a8ea51a265aba235133284eb0">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::yoyInflationPillars_</a></div><div class="ttdeci">std::map&lt; std::string, std::vector&lt; QuantLib::Period &gt; &gt; yoyInflationPillars_</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00053">parsensitivityinstrumentbuilder.hpp:53</a></div></div>
</div><!-- fragment --><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_par_sensitivity_analysis_a28915bb1dca6668799c336ea3a953e45_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_par_sensitivity_analysis_a28915bb1dca6668799c336ea3a953e45_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_par_sensitivity_analysis_a28915bb1dca6668799c336ea3a953e45_icgraph" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_a28915bb1dca6668799c336ea3a953e45_icgraph">
<area shape="rect" title="align pillars in scenario simulation market parameters with those of the par instruments" alt="" coords="748,231,833,256"/>
<area shape="rect" href="namespacetestsuite.html#afd8c3742b8100d705ce7977043bc2f62" title=" " alt="" coords="497,177,682,203"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_manual_test.html#a42cf0fd677773cdd75e7c048ed01eeb1" title="Benchmark par conversion against brute&#45;force bump on the par instruments (&quot;None&quot; observation mode)" alt="" coords="479,269,700,324"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#ae6c4cbff53ed815adea99a735769ed32" title="Test par conversion of sensitivities (&quot;Defer&quot; observation mode)" alt="" coords="220,5,431,60"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#ac9671fa0765492681d63b4c0ba572876" title="Test par conversion of sensitivities (&quot;Disable&quot; observation mode)" alt="" coords="220,84,431,139"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#afb4f997765ff8daa8c928526916f562c" title="Test par conversion of sensitivities (&quot;None&quot; observation mode)" alt="" coords="220,163,431,217"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#aef5f6a65f244c1c1924f166eb00e8cb1" title="Test par conversion of sensitivities (&quot;Unregister&quot; observation mode)" alt="" coords="220,241,431,296"/>
<area shape="rect" href="namespacetestsuite.html#a7336c6c42586f182d70ce191a6ff915a" title=" " alt="" coords="5,13,172,53"/>
<area shape="rect" href="namespacetestsuite.html#ab24424d8bcc882ec1aa2c15a824bbcb3" title=" " alt="" coords="5,91,172,131"/>
<area shape="rect" href="namespacetestsuite.html#a2040e405cafa5225fa84f452ca4be05a" title=" " alt="" coords="5,170,172,210"/>
<area shape="rect" href="namespacetestsuite.html#aefa2c91d3447262a7f241b3f635ae75a" title=" " alt="" coords="5,249,172,289"/>
<area shape="rect" href="namespacetestsuite.html#a227848f4347cd5ecd5cb75afd62bc23d" title=" " alt="" coords="242,321,409,361"/>
</map>
</div>

</div>
</div>
<a id="adc1ea5d86780f6a6557b3bb6cf84926e" name="adc1ea5d86780f6a6557b3bb6cf84926e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc1ea5d86780f6a6557b3bb6cf84926e">&#9670;&#160;</a></span>isParType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> isParType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238c">ore::analytics::RiskFactorKey::KeyType</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if risk factor type is applicable for par conversion. </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8cpp_source.html#l00538">538</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8cpp_source.html">parsensitivityanalysis.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  538</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#ae24b626b9a608b24efb06663b975b1c2">parTypes_</a>.find(type) != <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#ae24b626b9a608b24efb06663b975b1c2">parTypes_</a>.end(); }</div>
</div><!-- fragment --><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_par_sensitivity_analysis_adc1ea5d86780f6a6557b3bb6cf84926e_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_par_sensitivity_analysis_adc1ea5d86780f6a6557b3bb6cf84926e_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_par_sensitivity_analysis_adc1ea5d86780f6a6557b3bb6cf84926e_icgraph" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_adc1ea5d86780f6a6557b3bb6cf84926e_icgraph">
<area shape="rect" title="Returns true if risk factor type is applicable for par conversion." alt="" coords="1019,277,1099,303"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#abdae52d1591db2caae3d1ceb4f42fba4" title="Compute par instrument sensitivities." alt="" coords="748,228,971,253"/>
<area shape="rect" href="namespacetestsuite.html#afd8c3742b8100d705ce7977043bc2f62" title=" " alt="" coords="497,177,682,203"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a201ef82fb3cbbcfea680dd06dcde5fb3" title=" " alt="" coords="828,277,891,303"/>
<area shape="rect" href="classore_1_1analytics_1_1_zero_to_par_cube.html#ad887dd53eceffaef0aa910620ad1e607" title="Return the non&#45;zero par deltas for the given cube and trade index." alt="" coords="776,327,943,367"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_conversion_analytic_impl.html#a2c08d3a006532bcfdea559772c9b7a51" title=" " alt="" coords="764,391,955,431"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_manual_test.html#a42cf0fd677773cdd75e7c048ed01eeb1" title="Benchmark par conversion against brute&#45;force bump on the par instruments (&quot;None&quot; observation mode)" alt="" coords="479,269,700,324"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#ae6c4cbff53ed815adea99a735769ed32" title="Test par conversion of sensitivities (&quot;Defer&quot; observation mode)" alt="" coords="220,5,431,60"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#ac9671fa0765492681d63b4c0ba572876" title="Test par conversion of sensitivities (&quot;Disable&quot; observation mode)" alt="" coords="220,84,431,139"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#afb4f997765ff8daa8c928526916f562c" title="Test par conversion of sensitivities (&quot;None&quot; observation mode)" alt="" coords="220,163,431,217"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#aef5f6a65f244c1c1924f166eb00e8cb1" title="Test par conversion of sensitivities (&quot;Unregister&quot; observation mode)" alt="" coords="220,241,431,296"/>
<area shape="rect" href="namespacetestsuite.html#a7336c6c42586f182d70ce191a6ff915a" title=" " alt="" coords="5,13,172,53"/>
<area shape="rect" href="namespacetestsuite.html#ab24424d8bcc882ec1aa2c15a824bbcb3" title=" " alt="" coords="5,91,172,131"/>
<area shape="rect" href="namespacetestsuite.html#a2040e405cafa5225fa84f452ca4be05a" title=" " alt="" coords="5,170,172,210"/>
<area shape="rect" href="namespacetestsuite.html#aefa2c91d3447262a7f241b3f635ae75a" title=" " alt="" coords="5,249,172,289"/>
<area shape="rect" href="namespacetestsuite.html#a227848f4347cd5ecd5cb75afd62bc23d" title=" " alt="" coords="242,321,409,361"/>
</map>
</div>

</div>
</div>
<a id="a9bc5a644a73ad885cb0dcf9ff06495ab" name="a9bc5a644a73ad885cb0dcf9ff06495ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bc5a644a73ad885cb0dcf9ff06495ab">&#9670;&#160;</a></span>relevantRiskFactors() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::set&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a> &gt; &amp; relevantRiskFactors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get / set the relevant scenarios (if empty, these are ignored) </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00084">84</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   84</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a45e6d7030b16a8f4ccff9de74ddd3bc9" name="a45e6d7030b16a8f4ccff9de74ddd3bc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45e6d7030b16a8f4ccff9de74ddd3bc9">&#9670;&#160;</a></span>relevantRiskFactors() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a> &gt; &amp; relevantRiskFactors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00085">85</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   85</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab397fee73d59f20038b686d3eeff9af3" name="ab397fee73d59f20038b686d3eeff9af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab397fee73d59f20038b686d3eeff9af3">&#9670;&#160;</a></span>shiftSizes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a>, std::pair&lt; QuantLib::Real, QuantLib::Real &gt; &gt; shiftSizes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the zero rate and par rate absolute shift size for each risk factor key. </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00088">88</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   88</span>                                                                                              {</div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a74eddecd72acf99e557b7682740f3b53">shiftSizes_</a>;</div>
<div class="line"><span class="lineno">   90</span>    }</div>
<div class="ttc" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_html_a74eddecd72acf99e557b7682740f3b53"><div class="ttname"><a href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a74eddecd72acf99e557b7682740f3b53">ore::analytics::ParSensitivityAnalysis::shiftSizes_</a></div><div class="ttdeci">std::map&lt; ore::analytics::RiskFactorKey, std::pair&lt; QuantLib::Real, QuantLib::Real &gt; &gt; shiftSizes_</div><div class="ttdef"><b>Definition:</b> <a href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00139">parsensitivityanalysis.hpp:139</a></div></div>
</div><!-- fragment --><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_par_sensitivity_analysis_ab397fee73d59f20038b686d3eeff9af3_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_par_sensitivity_analysis_ab397fee73d59f20038b686d3eeff9af3_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_par_sensitivity_analysis_ab397fee73d59f20038b686d3eeff9af3_icgraph" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_ab397fee73d59f20038b686d3eeff9af3_icgraph">
<area shape="rect" title="Return the zero rate and par rate absolute shift size for each risk factor key." alt="" coords="748,231,827,256"/>
<area shape="rect" href="namespacetestsuite.html#afd8c3742b8100d705ce7977043bc2f62" title=" " alt="" coords="497,177,682,203"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_manual_test.html#a42cf0fd677773cdd75e7c048ed01eeb1" title="Benchmark par conversion against brute&#45;force bump on the par instruments (&quot;None&quot; observation mode)" alt="" coords="479,269,700,324"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#ae6c4cbff53ed815adea99a735769ed32" title="Test par conversion of sensitivities (&quot;Defer&quot; observation mode)" alt="" coords="220,5,431,60"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#ac9671fa0765492681d63b4c0ba572876" title="Test par conversion of sensitivities (&quot;Disable&quot; observation mode)" alt="" coords="220,84,431,139"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#afb4f997765ff8daa8c928526916f562c" title="Test par conversion of sensitivities (&quot;None&quot; observation mode)" alt="" coords="220,163,431,217"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#aef5f6a65f244c1c1924f166eb00e8cb1" title="Test par conversion of sensitivities (&quot;Unregister&quot; observation mode)" alt="" coords="220,241,431,296"/>
<area shape="rect" href="namespacetestsuite.html#a7336c6c42586f182d70ce191a6ff915a" title=" " alt="" coords="5,13,172,53"/>
<area shape="rect" href="namespacetestsuite.html#ab24424d8bcc882ec1aa2c15a824bbcb3" title=" " alt="" coords="5,91,172,131"/>
<area shape="rect" href="namespacetestsuite.html#a2040e405cafa5225fa84f452ca4be05a" title=" " alt="" coords="5,170,172,210"/>
<area shape="rect" href="namespacetestsuite.html#aefa2c91d3447262a7f241b3f635ae75a" title=" " alt="" coords="5,249,172,289"/>
<area shape="rect" href="namespacetestsuite.html#a227848f4347cd5ecd5cb75afd62bc23d" title=" " alt="" coords="242,321,409,361"/>
</map>
</div>

</div>
</div>
<a id="a201ef82fb3cbbcfea680dd06dcde5fb3" name="a201ef82fb3cbbcfea680dd06dcde5fb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a201ef82fb3cbbcfea680dd06dcde5fb3">&#9670;&#160;</a></span>disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disable </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238c">ore::analytics::RiskFactorKey::KeyType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>types</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Disable par conversion for the given set of risk factor key types. May be called multiple times in order to add key types that should not be considered for par conversion. </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8cpp_source.html#l00540">540</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8cpp_source.html">parsensitivityanalysis.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  540</span>                                                                           {</div>
<div class="line"><span class="lineno">  541</span>    <span class="comment">// Insert only types that are available for par sensitivity analysis in to the set of disabled types.</span></div>
<div class="line"><span class="lineno">  542</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; type : <a class="code hl_variableRef" href="../ored/namespaceore_1_1data.html#a8889e35af3fc04877d0070383d8ee48c">types</a>) {</div>
<div class="line"><span class="lineno">  543</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#adc1ea5d86780f6a6557b3bb6cf84926e">isParType</a>(type)) {</div>
<div class="line"><span class="lineno">  544</span>            <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a>.insert(type);</div>
<div class="line"><span class="lineno">  545</span>        }</div>
<div class="line"><span class="lineno">  546</span>    }</div>
<div class="line"><span class="lineno">  547</span>}</div>
<div class="ttc" id="anamespaceore_1_1data_html_a8889e35af3fc04877d0070383d8ee48c"><div class="ttname"><a href="../ored/namespaceore_1_1data.html#a8889e35af3fc04877d0070383d8ee48c">ore::data::types</a></div><div class="ttdeci">boost::bimap&lt; std::string, TRS::FundingData::NotionalType &gt; types</div></div>
</div><!-- fragment --><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_par_sensitivity_analysis_a201ef82fb3cbbcfea680dd06dcde5fb3_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_par_sensitivity_analysis_a201ef82fb3cbbcfea680dd06dcde5fb3_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_par_sensitivity_analysis_a201ef82fb3cbbcfea680dd06dcde5fb3_cgraph" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_a201ef82fb3cbbcfea680dd06dcde5fb3_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,68,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#adc1ea5d86780f6a6557b3bb6cf84926e" title="Returns true if risk factor type is applicable for par conversion." alt="" coords="116,5,196,31"/>
</map>
</div>

</div>
</div>
<a id="afbc2e170697d8df9e2e11aaa9c200816" name="afbc2e170697d8df9e2e11aaa9c200816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbc2e170697d8df9e2e11aaa9c200816">&#9670;&#160;</a></span>typesDisabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::set&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238c">ore::analytics::RiskFactorKey::KeyType</a> &gt; &amp; typesDisabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the set of key types disabled for this instance of <a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html" title="Par Sensitivity Analysis.">ParSensitivityAnalysis</a>. </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00098">98</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   98</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a21cafd2d3db8b559b5ffef225471cd41">typesDisabled_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a37571888deb5747f96b785fa9d53a51c" name="a37571888deb5747f96b785fa9d53a51c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37571888deb5747f96b785fa9d53a51c">&#9670;&#160;</a></span>parInstruments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html">ParSensitivityInstrumentBuilder::Instruments</a> &amp; parInstruments </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00100">100</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  100</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aaf3b4fed233991ba67fc00a89e8fcd57" name="aaf3b4fed233991ba67fc00a89e8fcd57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf3b4fed233991ba67fc00a89e8fcd57">&#9670;&#160;</a></span>augmentRelevantRiskFactors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void augmentRelevantRiskFactors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Augment relevant risk factors. </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8cpp_source.html#l00103">103</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8cpp_source.html">parsensitivityanalysis.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  103</span>                                                        {</div>
<div class="line"><span class="lineno">  104</span>    <a class="code hl_defineRef" href="../ored/log_8hpp.html#a158e0f085ddedfe5c8ed069986039f50">LOG</a>(<span class="stringliteral">&quot;Augment relevant risk factors, starting with &quot;</span> &lt;&lt; <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>.size() &lt;&lt; <span class="stringliteral">&quot; risk factors.&quot;</span>);</div>
<div class="line"><span class="lineno">  105</span>    std::set&lt;ore::analytics::RiskFactorKey&gt; addFactors1 = <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>, addFactors2, tmp;</div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  107</span>        <span class="comment">// DLOG(&quot;new pass with &quot; &lt;&lt; addFactors1.size() &lt;&lt; &quot; risk factors.&quot;);</span></div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; r : addFactors1) {</div>
<div class="line"><span class="lineno">  109</span>            <span class="comment">// DLOG(&quot;candidate risk factor &quot; &lt;&lt; r);</span></div>
<div class="line"><span class="lineno">  110</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; s : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a6a6b3b7db8bb9252d22f3cdef65b020e">parHelpers_</a>) {</div>
<div class="line"><span class="lineno">  111</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceore_1_1analytics.html#a5d1321dd9dc33737ef28e6e71571b476">riskFactorKeysAreSimilar</a>(s.first, r)) {</div>
<div class="line"><span class="lineno">  112</span>                    tmp.insert(s.first);</div>
<div class="line"><span class="lineno">  113</span>                    <span class="comment">// DLOG(&quot;factor &quot; &lt;&lt; r &lt;&lt; &quot;: found similar risk factor &quot; &lt;&lt; s.first);</span></div>
<div class="line"><span class="lineno">  114</span>                    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; d : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a6dc4986cd0f498445c0a67abf01e9eb7">parHelperDependencies_</a>[s.first]) {</div>
<div class="line"><span class="lineno">  115</span>                        <span class="keywordflow">if</span> (std::find(<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>.begin(), <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>.end(), d) ==</div>
<div class="line"><span class="lineno">  116</span>                            <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>.end())</div>
<div class="line"><span class="lineno">  117</span>                            addFactors2.insert(d);</div>
<div class="line"><span class="lineno">  118</span>                    }</div>
<div class="line"><span class="lineno">  119</span>                }</div>
<div class="line"><span class="lineno">  120</span>            }</div>
<div class="line"><span class="lineno">  121</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; s : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a845ca69983441db07ea1cd57236fa962">parCaps_</a>) {</div>
<div class="line"><span class="lineno">  122</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceore_1_1analytics.html#a5d1321dd9dc33737ef28e6e71571b476">riskFactorKeysAreSimilar</a>(s.first, r)) {</div>
<div class="line"><span class="lineno">  123</span>                    tmp.insert(s.first);</div>
<div class="line"><span class="lineno">  124</span>                    <span class="comment">// DLOG(&quot;factor &quot; &lt;&lt; r &lt;&lt; &quot;: found similar risk factor &quot; &lt;&lt; s.first);</span></div>
<div class="line"><span class="lineno">  125</span>                    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; d : <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aad58f3a41fe1a0ad98acd56689070dc3">instruments_</a>.<a class="code hl_variable" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a6dc4986cd0f498445c0a67abf01e9eb7">parHelperDependencies_</a>[s.first]) {</div>
<div class="line"><span class="lineno">  126</span>                        <span class="keywordflow">if</span> (std::find(<a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>.begin(), <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>.end(), d) ==</div>
<div class="line"><span class="lineno">  127</span>                            <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>.end())</div>
<div class="line"><span class="lineno">  128</span>                            addFactors2.insert(d);</div>
<div class="line"><span class="lineno">  129</span>                    }</div>
<div class="line"><span class="lineno">  130</span>                }</div>
<div class="line"><span class="lineno">  131</span>            }</div>
<div class="line"><span class="lineno">  132</span>        }</div>
<div class="line"><span class="lineno">  133</span>        addFactors1.swap(addFactors2);</div>
<div class="line"><span class="lineno">  134</span>        addFactors2.clear();</div>
<div class="line"><span class="lineno">  135</span>        <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>.insert(tmp.begin(), tmp.end());</div>
<div class="line"><span class="lineno">  136</span>        tmp.clear();</div>
<div class="line"><span class="lineno">  137</span>    } <span class="keywordflow">while</span> (addFactors1.size() &gt; 0);</div>
<div class="line"><span class="lineno">  138</span>    <a class="code hl_defineRef" href="../ored/log_8hpp.html#a158e0f085ddedfe5c8ed069986039f50">LOG</a>(<span class="stringliteral">&quot;Done, relevant risk factor size now &quot;</span> &lt;&lt; <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#aa1da903fae63cef2935f81b313314f17">relevantRiskFactors_</a>.size());</div>
<div class="line"><span class="lineno">  139</span>}</div>
<div class="ttc" id="anamespaceore_1_1analytics_html_a5d1321dd9dc33737ef28e6e71571b476"><div class="ttname"><a href="namespaceore_1_1analytics.html#a5d1321dd9dc33737ef28e6e71571b476">ore::analytics::riskFactorKeysAreSimilar</a></div><div class="ttdeci">bool riskFactorKeysAreSimilar(const ore::analytics::RiskFactorKey &amp;x, const ore::analytics::RiskFactorKey &amp;y)</div><div class="ttdoc">true if key type and name are equal, do not care about the index though</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityutilities_8cpp_source.html#l00286">parsensitivityutilities.cpp:286</a></div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments_html_a6dc4986cd0f498445c0a67abf01e9eb7"><div class="ttname"><a href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html#a6dc4986cd0f498445c0a67abf01e9eb7">ore::analytics::ParSensitivityInstrumentBuilder::Instruments::parHelperDependencies_</a></div><div class="ttdeci">std::map&lt; ore::analytics::RiskFactorKey, std::set&lt; ore::analytics::RiskFactorKey &gt; &gt; parHelperDependencies_</div><div class="ttdoc">list of (raw) risk factors on which a par helper depends</div><div class="ttdef"><b>Definition:</b> <a href="parsensitivityinstrumentbuilder_8hpp_source.html#l00055">parsensitivityinstrumentbuilder.hpp:55</a></div></div>
</div><!-- fragment --><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_par_sensitivity_analysis_aaf3b4fed233991ba67fc00a89e8fcd57_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_par_sensitivity_analysis_aaf3b4fed233991ba67fc00a89e8fcd57_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_par_sensitivity_analysis_aaf3b4fed233991ba67fc00a89e8fcd57_cgraph" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_aaf3b4fed233991ba67fc00a89e8fcd57_cgraph">
<area shape="rect" title="Augment relevant risk factors." alt="" coords="5,37,196,62"/>
<area shape="rect" href="namespaceore_1_1analytics.html#a5d1321dd9dc33737ef28e6e71571b476" title="true if key type and name are equal, do not care about the index though" alt="" coords="244,29,411,69"/>
</map>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_par_sensitivity_analysis_aaf3b4fed233991ba67fc00a89e8fcd57_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_par_sensitivity_analysis_aaf3b4fed233991ba67fc00a89e8fcd57_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_par_sensitivity_analysis_aaf3b4fed233991ba67fc00a89e8fcd57_icgraph" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_aaf3b4fed233991ba67fc00a89e8fcd57_icgraph">
<area shape="rect" title="Augment relevant risk factors." alt="" coords="1019,231,1209,256"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#abdae52d1591db2caae3d1ceb4f42fba4" title="Compute par instrument sensitivities." alt="" coords="748,231,971,256"/>
<area shape="rect" href="namespacetestsuite.html#afd8c3742b8100d705ce7977043bc2f62" title=" " alt="" coords="497,177,682,203"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_manual_test.html#a42cf0fd677773cdd75e7c048ed01eeb1" title="Benchmark par conversion against brute&#45;force bump on the par instruments (&quot;None&quot; observation mode)" alt="" coords="479,269,700,324"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#ae6c4cbff53ed815adea99a735769ed32" title="Test par conversion of sensitivities (&quot;Defer&quot; observation mode)" alt="" coords="220,5,431,60"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#ac9671fa0765492681d63b4c0ba572876" title="Test par conversion of sensitivities (&quot;Disable&quot; observation mode)" alt="" coords="220,84,431,139"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#afb4f997765ff8daa8c928526916f562c" title="Test par conversion of sensitivities (&quot;None&quot; observation mode)" alt="" coords="220,163,431,217"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#aef5f6a65f244c1c1924f166eb00e8cb1" title="Test par conversion of sensitivities (&quot;Unregister&quot; observation mode)" alt="" coords="220,241,431,296"/>
<area shape="rect" href="namespacetestsuite.html#a7336c6c42586f182d70ce191a6ff915a" title=" " alt="" coords="5,13,172,53"/>
<area shape="rect" href="namespacetestsuite.html#ab24424d8bcc882ec1aa2c15a824bbcb3" title=" " alt="" coords="5,91,172,131"/>
<area shape="rect" href="namespacetestsuite.html#a2040e405cafa5225fa84f452ca4be05a" title=" " alt="" coords="5,170,172,210"/>
<area shape="rect" href="namespacetestsuite.html#aefa2c91d3447262a7f241b3f635ae75a" title=" " alt="" coords="5,249,172,289"/>
<area shape="rect" href="namespacetestsuite.html#a227848f4347cd5ecd5cb75afd62bc23d" title=" " alt="" coords="242,321,409,361"/>
</map>
</div>

</div>
</div>
<a id="aeebf3a9a26bb21e6bceb1b6faba0038e" name="aeebf3a9a26bb21e6bceb1b6faba0038e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeebf3a9a26bb21e6bceb1b6faba0038e">&#9670;&#160;</a></span>populateShiftSizes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void populateShiftSizes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Real&#160;</td>
          <td class="paramname"><em>parRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::ext::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario_sim_market.html">ore::analytics::ScenarioSimMarket</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>simMarket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Populate <code>shiftSizes_</code> for <code>key</code> given the implied fair par rate <code>parRate</code>. </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8cpp_source.html#l00549">549</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8cpp_source.html">parsensitivityanalysis.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  550</span>                                                                                                           {</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>    <span class="comment">// Get zero and par shift size for the key</span></div>
<div class="line"><span class="lineno">  553</span>    Real zeroShiftSize = <a class="code hl_function" href="namespaceore_1_1analytics.html#a308d403cbb100c0043e83f7755b3dd40">getShiftSize</a>(key, <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a184eac3915c598c873e4d46604638085">sensitivityData_</a>, simMarket);</div>
<div class="line"><span class="lineno">  554</span>    <span class="keyword">auto</span> shiftData = <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a184eac3915c598c873e4d46604638085">sensitivityData_</a>.<a class="code hl_function" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a2d1e0fb4f255552e89bb7fad306cd48b">shiftData</a>(key.<a class="code hl_variable" href="classore_1_1analytics_1_1_risk_factor_key.html#a70e08fbfbadb90d7a1f2ea5f6a3a9aa1">keytype</a>, key.<a class="code hl_variable" href="classore_1_1analytics_1_1_risk_factor_key.html#a9b45b3e13bd9167aab02e17e08916231">name</a>);</div>
<div class="line"><span class="lineno">  555</span>    Real parShiftSize = shiftData.<a class="code hl_variable" href="structore_1_1analytics_1_1_sensitivity_scenario_data_1_1_shift_data.html#aed4f84ea1e624c7b7c5689eb35e941a6">shiftSize</a>;</div>
<div class="line"><span class="lineno">  556</span>    <span class="keywordflow">if</span> (shiftData.shiftType == <a class="code hl_enumvalue" href="namespaceore_1_1analytics.html#ae6645effb55b498ae924e935d438a900a2ca9469819fb0fb61ff98e914a7ccca0">ShiftType::Relative</a>)</div>
<div class="line"><span class="lineno">  557</span>        parShiftSize *= parRate;</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span>    <span class="comment">// Update the map</span></div>
<div class="line"><span class="lineno">  560</span>    <a class="code hl_variable" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#a74eddecd72acf99e557b7682740f3b53">shiftSizes_</a>[key] = make_pair(zeroShiftSize, parShiftSize);</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>    <a class="code hl_defineRef" href="../ored/log_8hpp.html#a99aeca53f904c71a68070e1f9d310232">TLOG</a>(<span class="stringliteral">&quot;Zero and par shift size for risk factor &#39;&quot;</span> &lt;&lt; key &lt;&lt; <span class="stringliteral">&quot;&#39; is (&quot;</span> &lt;&lt; std::fixed &lt;&lt; std::setprecision(12)</div>
<div class="line"><span class="lineno">  563</span>                                                     &lt;&lt; zeroShiftSize &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; parShiftSize &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  564</span>}</div>
<div class="ttc" id="aclassore_1_1analytics_1_1_risk_factor_key_html_a70e08fbfbadb90d7a1f2ea5f6a3a9aa1"><div class="ttname"><a href="classore_1_1analytics_1_1_risk_factor_key.html#a70e08fbfbadb90d7a1f2ea5f6a3a9aa1">ore::analytics::RiskFactorKey::keytype</a></div><div class="ttdeci">KeyType keytype</div><div class="ttdoc">Key type.</div><div class="ttdef"><b>Definition:</b> <a href="scenario_8hpp_source.html#l00089">scenario.hpp:89</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_risk_factor_key_html_a9b45b3e13bd9167aab02e17e08916231"><div class="ttname"><a href="classore_1_1analytics_1_1_risk_factor_key.html#a9b45b3e13bd9167aab02e17e08916231">ore::analytics::RiskFactorKey::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">Key name.</div><div class="ttdef"><b>Definition:</b> <a href="scenario_8hpp_source.html#l00094">scenario.hpp:94</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_sensitivity_scenario_data_html_a2d1e0fb4f255552e89bb7fad306cd48b"><div class="ttname"><a href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a2d1e0fb4f255552e89bb7fad306cd48b">ore::analytics::SensitivityScenarioData::shiftData</a></div><div class="ttdeci">const ShiftData &amp; shiftData(const ore::analytics::RiskFactorKey::KeyType &amp;keyType, const std::string &amp;name) const</div><div class="ttdoc">Give back the shift data for the given risk factor type, keyType, with the given name.</div><div class="ttdef"><b>Definition:</b> <a href="sensitivityscenariodata_8cpp_source.html#l00149">sensitivityscenariodata.cpp:149</a></div></div>
<div class="ttc" id="anamespaceore_1_1analytics_html_ae6645effb55b498ae924e935d438a900a2ca9469819fb0fb61ff98e914a7ccca0"><div class="ttname"><a href="namespaceore_1_1analytics.html#ae6645effb55b498ae924e935d438a900a2ca9469819fb0fb61ff98e914a7ccca0">ore::analytics::ShiftType::Relative</a></div><div class="ttdeci">@ Relative</div></div>
<div class="ttc" id="astructore_1_1analytics_1_1_sensitivity_scenario_data_1_1_shift_data_html_aed4f84ea1e624c7b7c5689eb35e941a6"><div class="ttname"><a href="structore_1_1analytics_1_1_sensitivity_scenario_data_1_1_shift_data.html#aed4f84ea1e624c7b7c5689eb35e941a6">ore::analytics::SensitivityScenarioData::ShiftData::shiftSize</a></div><div class="ttdeci">Real shiftSize</div><div class="ttdef"><b>Definition:</b> <a href="sensitivityscenariodata_8hpp_source.html#l00053">sensitivityscenariodata.hpp:53</a></div></div>
</div><!-- fragment --><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_par_sensitivity_analysis_aeebf3a9a26bb21e6bceb1b6faba0038e_cgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_par_sensitivity_analysis_aeebf3a9a26bb21e6bceb1b6faba0038e_cgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_par_sensitivity_analysis_aeebf3a9a26bb21e6bceb1b6faba0038e_cgraph" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_aeebf3a9a26bb21e6bceb1b6faba0038e_cgraph">
<area shape="rect" title="Populate shiftSizes_ for key given the implied fair par rate parRate." alt="" coords="5,723,136,748"/>
<area shape="rect" href="namespaceore_1_1analytics.html#a308d403cbb100c0043e83f7755b3dd40" title=" " alt="" coords="184,692,363,717"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a2d1e0fb4f255552e89bb7fad306cd48b" title="Give back the shift data for the given risk factor type, keyType, with the given name." alt="" coords="190,745,357,785"/>
<area shape="rect" href="test_2scenarioshiftcalculator_8cpp.html#a652b8805d9b88185e25574d4820660c4" title=" " alt="" coords="516,5,563,31"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#aa20846f76afb42a5e0a7e907b727e345" title=" " alt="" coords="414,1125,665,1165"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a1e7975633804f41e3e0c0202b864e873" title=" " alt="" coords="424,1189,655,1229"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#aefc1dde6ea364f5790dc4dc75d339dba" title=" " alt="" coords="439,1253,640,1293"/>
<area shape="rect" target="_parent" href="../qle/namespace_quant_ext.html#a1cab4fb6a720eff245acb9f3a7a9e7c5" title=" " alt="" coords="488,55,591,80"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#aac49358ce89823f7587c0ddbd3a74972" title=" " alt="" coords="411,1317,668,1357"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#aea45faada7a1e96039510c0eb5e9a51f" title=" " alt="" coords="417,1381,661,1421"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a6375a86240c568db36437ce89eefa4d1" title=" " alt="" coords="427,1445,652,1485"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a3f0a4ac32ff5a34576a7a48c4fcd180d" title=" " alt="" coords="418,105,661,145"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a4b19d484e8c790e4fd6c40922a567509" title=" " alt="" coords="421,169,657,209"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#af073371655145388cd67182906ad5694" title=" " alt="" coords="441,233,637,273"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a344f4a67200865bd29b118ab0836c168" title=" " alt="" coords="432,297,647,337"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a7ab8bd40826ffcadec9a28c9b47deee0" title=" " alt="" coords="454,361,625,401"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a5781bba7cccea873352ae96390ae06a7" title=" " alt="" coords="444,425,635,465"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a16944a29c21d7c49e20700732025e949" title=" " alt="" coords="427,489,651,529"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a221481186bf38cc73b261331cda6bcec" title=" " alt="" coords="436,553,643,593"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a878f236e46973bef31d49a6ba7170aad" title=" " alt="" coords="424,617,655,657"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#aa86b68432d54cf2c1fbbe43bd2135998" title=" " alt="" coords="429,681,649,721"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a595f1fc52e87fae0e9d1f1c92d940e2a" title=" " alt="" coords="436,745,643,785"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a115f76edd6295dc79b4607943aa0928d" title=" " alt="" coords="427,809,652,864"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a8867ca117689b4d543c8a863b9135e51" title=" " alt="" coords="437,888,642,943"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a9606aee3c5d7b1b81f84bd8994f53408" title=" " alt="" coords="425,967,654,1021"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a5b60bda3c39b2c79c9d036a7852b382b" title=" " alt="" coords="435,1045,644,1100"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html#a5b2ac7fa73674b88cd3c2cc68477b111" title=" " alt="" coords="429,1509,650,1549"/>
</map>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_par_sensitivity_analysis_aeebf3a9a26bb21e6bceb1b6faba0038e_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_par_sensitivity_analysis_aeebf3a9a26bb21e6bceb1b6faba0038e_icgraph" alt=""/></div>
<map name="aclassore_1_1analytics_1_1_par_sensitivity_analysis_aeebf3a9a26bb21e6bceb1b6faba0038e_icgraph" id="aclassore_1_1analytics_1_1_par_sensitivity_analysis_aeebf3a9a26bb21e6bceb1b6faba0038e_icgraph">
<area shape="rect" title="Populate shiftSizes_ for key given the implied fair par rate parRate." alt="" coords="1019,231,1149,256"/>
<area shape="rect" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#abdae52d1591db2caae3d1ceb4f42fba4" title="Compute par instrument sensitivities." alt="" coords="748,231,971,256"/>
<area shape="rect" href="namespacetestsuite.html#afd8c3742b8100d705ce7977043bc2f62" title=" " alt="" coords="497,177,682,203"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_manual_test.html#a42cf0fd677773cdd75e7c048ed01eeb1" title="Benchmark par conversion against brute&#45;force bump on the par instruments (&quot;None&quot; observation mode)" alt="" coords="479,269,700,324"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#ae6c4cbff53ed815adea99a735769ed32" title="Test par conversion of sensitivities (&quot;Defer&quot; observation mode)" alt="" coords="220,5,431,60"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#ac9671fa0765492681d63b4c0ba572876" title="Test par conversion of sensitivities (&quot;Disable&quot; observation mode)" alt="" coords="220,84,431,139"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#afb4f997765ff8daa8c928526916f562c" title="Test par conversion of sensitivities (&quot;None&quot; observation mode)" alt="" coords="220,163,431,217"/>
<area shape="rect" href="classtestsuite_1_1_par_sensitivity_analysis_test.html#aef5f6a65f244c1c1924f166eb00e8cb1" title="Test par conversion of sensitivities (&quot;Unregister&quot; observation mode)" alt="" coords="220,241,431,296"/>
<area shape="rect" href="namespacetestsuite.html#a7336c6c42586f182d70ce191a6ff915a" title=" " alt="" coords="5,13,172,53"/>
<area shape="rect" href="namespacetestsuite.html#ab24424d8bcc882ec1aa2c15a824bbcb3" title=" " alt="" coords="5,91,172,131"/>
<area shape="rect" href="namespacetestsuite.html#a2040e405cafa5225fa84f452ca4be05a" title=" " alt="" coords="5,170,172,210"/>
<area shape="rect" href="namespacetestsuite.html#aefa2c91d3447262a7f241b3f635ae75a" title=" " alt="" coords="5,249,172,289"/>
<area shape="rect" href="namespacetestsuite.html#a227848f4347cd5ecd5cb75afd62bc23d" title=" " alt="" coords="242,321,409,361"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6e6cc380f7abdcf2e6796314ea24ea2d" name="a6e6cc380f7abdcf2e6796314ea24ea2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e6cc380f7abdcf2e6796314ea24ea2d">&#9670;&#160;</a></span>asof_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Date asof_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>As of date for the calculation of the par sensitivities. </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00111">111</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>

</div>
</div>
<a id="a3a40a8b803ad052cd07397bb1f6bd886" name="a3a40a8b803ad052cd07397bb1f6bd886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a40a8b803ad052cd07397bb1f6bd886">&#9670;&#160;</a></span>simMarketParams_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::ext::shared_ptr&lt;<a class="el" href="classore_1_1analytics_1_1_scenario_sim_market_parameters.html">ore::analytics::ScenarioSimMarketParameters</a>&gt; simMarketParams_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Simulation market parameters. </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00113">113</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>

</div>
</div>
<a id="a184eac3915c598c873e4d46604638085" name="a184eac3915c598c873e4d46604638085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a184eac3915c598c873e4d46604638085">&#9670;&#160;</a></span>sensitivityData_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classore_1_1analytics_1_1_sensitivity_scenario_data.html">ore::analytics::SensitivityScenarioData</a> sensitivityData_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sensitivity data. </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00115">115</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>

</div>
</div>
<a id="a2afaeb949d17f1fc1f707c5ff3980648" name="a2afaeb949d17f1fc1f707c5ff3980648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2afaeb949d17f1fc1f707c5ff3980648">&#9670;&#160;</a></span>parSensi_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html#abe637de864ef34aa2842b582cf4680b4">ParContainer</a> parSensi_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>sensitivity of par rates w.r.t. raw rate shifts (including optionlet/cap volatility) </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00117">117</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>

</div>
</div>
<a id="aad58f3a41fe1a0ad98acd56689070dc3" name="aad58f3a41fe1a0ad98acd56689070dc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad58f3a41fe1a0ad98acd56689070dc3">&#9670;&#160;</a></span>instruments_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structore_1_1analytics_1_1_par_sensitivity_instrument_builder_1_1_instruments.html">ParSensitivityInstrumentBuilder::Instruments</a> instruments_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00118">118</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>

</div>
</div>
<a id="a177b5b16249c7f9ff63e839d862d16d7" name="a177b5b16249c7f9ff63e839d862d16d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a177b5b16249c7f9ff63e839d862d16d7">&#9670;&#160;</a></span>marketConfiguration_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string marketConfiguration_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00120">120</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>

</div>
</div>
<a id="af32b71243dbbe327ebf21fbb3b27c3df" name="af32b71243dbbe327ebf21fbb3b27c3df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af32b71243dbbe327ebf21fbb3b27c3df">&#9670;&#160;</a></span>continueOnError_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> continueOnError_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00121">121</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>

</div>
</div>
<a id="aa1da903fae63cef2935f81b313314f17" name="aa1da903fae63cef2935f81b313314f17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1da903fae63cef2935f81b313314f17">&#9670;&#160;</a></span>relevantRiskFactors_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a>&gt; relevantRiskFactors_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00122">122</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>

</div>
</div>
<a id="ae24b626b9a608b24efb06663b975b1c2" name="ae24b626b9a608b24efb06663b975b1c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae24b626b9a608b24efb06663b975b1c2">&#9670;&#160;</a></span>parTypes_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">set&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238c">RiskFactorKey::KeyType</a> &gt; parTypes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238cac180e16777ec55d7f8be3f91ab6c0313">RiskFactorKey::KeyType::DiscountCurve</a>,       <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238cac8dbbdbb04d984dd976732914ab27738">RiskFactorKey::KeyType::YieldCurve</a>,</div>
<div class="line">    <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238ca508328efaa028c90d6e0174ed7389614">RiskFactorKey::KeyType::IndexCurve</a>,          <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238ca1b5732971f0b2e238e09996b0e4137ab">RiskFactorKey::KeyType::OptionletVolatility</a>,</div>
<div class="line">    <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238caba2340fc08c36e9473d88fa6d823c1fb">RiskFactorKey::KeyType::SurvivalProbability</a>, <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238ca1b9077b75e9e77e2b989363fd63a5023">RiskFactorKey::KeyType::ZeroInflationCurve</a>,</div>
<div class="line">    <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238caad7a4415513da5f62869964dbd864401">RiskFactorKey::KeyType::YoYInflationCurve</a>,   <a class="code hl_enumvalue" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238ca07cf31a470614797e8fde5ef0ec16d00">RiskFactorKey::KeyType::YoYInflationCapFloorVolatility</a>}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00124">124</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>

</div>
</div>
<a id="a21cafd2d3db8b559b5ffef225471cd41" name="a21cafd2d3db8b559b5ffef225471cd41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21cafd2d3db8b559b5ffef225471cd41">&#9670;&#160;</a></span>typesDisabled_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html#aab0feaba617470cb4aa830dc5935238c">ore::analytics::RiskFactorKey::KeyType</a>&gt; typesDisabled_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set of risk factor types disabled for this instance of <a class="el" href="classore_1_1analytics_1_1_par_sensitivity_analysis.html" title="Par Sensitivity Analysis.">ParSensitivityAnalysis</a>. </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00127">127</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>

</div>
</div>
<a id="a74eddecd72acf99e557b7682740f3b53" name="a74eddecd72acf99e557b7682740f3b53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74eddecd72acf99e557b7682740f3b53">&#9670;&#160;</a></span>shiftSizes_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">ore::analytics::RiskFactorKey</a>, std::pair&lt;QuantLib::Real, QuantLib::Real&gt; &gt; shiftSizes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Store the zero rate and par rate absolute shift size for each risk factor key</p>
<p >The first element in the pair is the zero or raw rate absolute shift size. The second element in the pair is the corresponding par rate absolute shift size.</p>
<p >In the case of the zero rate shift being configured as <code>Absolute</code> in <code>sensitivityData_</code>, then the par rate absolute shift size is just equal to the configured zero rate shift size. In the case of the zero rate shift being configured as <code>Relative</code> in <code>sensitivityData_</code>, we take the fair implied par rate and multiply it by the configured relative zero rate shift size to give the par rate absolute shift size. </p>

<p class="definition">Definition at line <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html#l00139">139</a> of file <a class="el" href="orea_2engine_2parsensitivityanalysis_8hpp_source.html">parsensitivityanalysis.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.9.5
</small></address>
</body>
</html>
