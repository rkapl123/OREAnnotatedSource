<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>OREAnalytics: testsuite Namespace Reference</title>
<link href="https://fonts.googleapis.com/css?family=Merriweather+Sans|Open+Sans" rel="stylesheet">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="favicon.png">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="oreaextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname"><a href="https://rkapl123.github.io/OREAnnotatedSource/">
       <img src="logo-analytics@2x.png" alt="Logo" width="150" height="68" style="float: left; padding: 15px;"/></a>
   <div id="projectbrief">Fully annotated reference manual - version 1.7</div>
   </div>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">testsuite Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtestsuite_1_1_test_configuration_objects.html">TestConfigurationObjects</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static class to allow for easy construction of configuration objects for use within tests.  <a href="classtestsuite_1_1_test_configuration_objects.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtestsuite_1_1_test_market.html">TestMarket</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple flat market setup to be used in the test suite.  <a href="classtestsuite_1_1_test_market.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0cf55200a1ba13d942044fce914bfbf6"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a0cf55200a1ba13d942044fce914bfbf6">buildSwap</a> (string id, string ccy, bool isPayer, Real notional, int start, Size term, Real rate, Real spread, string fixedFreq, string fixedDC, string floatFreq, string floatDC, string index)</td></tr>
<tr class="separator:a0cf55200a1ba13d942044fce914bfbf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ace8fd4987982d98b9f2a4c441d9f9e"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a2ace8fd4987982d98b9f2a4c441d9f9e">buildEuropeanSwaption</a> (string id, string longShort, string ccy, bool isPayer, Real notional, int start, Size term, Real rate, Real spread, string fixedFreq, string fixedDC, string floatFreq, string floatDC, string index, string cashPhysical, Real premium, string premiumCcy, string premiumDate)</td></tr>
<tr class="separator:a2ace8fd4987982d98b9f2a4c441d9f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a1ea26e001a57a761bcef3901100d97"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a1a1ea26e001a57a761bcef3901100d97">buildBermudanSwaption</a> (string id, string longShort, string ccy, bool isPayer, Real notional, Size exercises, int start, Size term, Real rate, Real spread, string fixedFreq, string fixedDC, string floatFreq, string floatDC, string index, string cashPhysical, Real premium, string premiumCcy, string premiumDate)</td></tr>
<tr class="separator:a1a1ea26e001a57a761bcef3901100d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a065f2919a7ee7254653afd562b975a14"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a065f2919a7ee7254653afd562b975a14">buildFxOption</a> (string id, string longShort, string putCall, Size expiry, string boughtCcy, Real boughtAmount, string soldCcy, Real soldAmount, Real premium, string premiumCcy, string premiumDate)</td></tr>
<tr class="separator:a065f2919a7ee7254653afd562b975a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c54e055257b56f61fc96e8f4993aacb"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a3c54e055257b56f61fc96e8f4993aacb">buildEquityOption</a> (string id, string longShort, string putCall, Size expiry, string equityName, string currency, Real strike, Real quantity, Real premium, string premiumCcy, string premiumDate)</td></tr>
<tr class="separator:a3c54e055257b56f61fc96e8f4993aacb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c24ecc347eaaa7f418010544a5c3e18"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a0c24ecc347eaaa7f418010544a5c3e18">buildEquityForward</a> (string id, string longShort, Size expiry, string equityName, string currency, Real strike, Real quantity)</td></tr>
<tr class="separator:a0c24ecc347eaaa7f418010544a5c3e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f8ce589c50a9c62fc458cb91de7edf5"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a1f8ce589c50a9c62fc458cb91de7edf5">buildCap</a> (string id, string ccy, string longShort, Real capRate, Real notional, int start, Size term, string floatFreq, string floatDC, string index)</td></tr>
<tr class="separator:a1f8ce589c50a9c62fc458cb91de7edf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da40f9d57dcfec350bdd68c50ea3b5e"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a7da40f9d57dcfec350bdd68c50ea3b5e">buildFloor</a> (string id, string ccy, string longShort, Real floorRate, Real notional, int start, Size term, string floatFreq, string floatDC, string index)</td></tr>
<tr class="separator:a7da40f9d57dcfec350bdd68c50ea3b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24eab2f2a5d308989ebc37614f4c4096"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a24eab2f2a5d308989ebc37614f4c4096">buildCapFloor</a> (string id, string ccy, string longShort, vector&lt; Real &gt; capRates, vector&lt; Real &gt; floorRates, Real notional, int start, Size term, string floatFreq, string floatDC, string index)</td></tr>
<tr class="separator:a24eab2f2a5d308989ebc37614f4c4096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3866ad77705e8f36e209f1a88125b3ce"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a3866ad77705e8f36e209f1a88125b3ce">buildZeroBond</a> (string id, string ccy, Real notional, Size term)</td></tr>
<tr class="separator:a3866ad77705e8f36e209f1a88125b3ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab30f7b9c44095d806d2192ff584a9172"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#ab30f7b9c44095d806d2192ff584a9172">buildCPIInflationSwap</a> (string id, string ccy, bool isPayer, Real notional, int start, Size term, Real spread, string floatFreq, string floatDC, string index, string cpiFreq, string cpiDC, string cpiIndex, Real baseRate, string observationLag, bool interpolated, Real cpiRate)</td></tr>
<tr class="separator:ab30f7b9c44095d806d2192ff584a9172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a306f6ee775460a838c33bcd361cf4cd9"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a306f6ee775460a838c33bcd361cf4cd9">buildYYInflationSwap</a> (string id, string ccy, bool isPayer, Real notional, int start, Size term, Real spread, string floatFreq, string floatDC, string index, string yyFreq, string yyDC, string yyIndex, string observationLag, Size fixDays)</td></tr>
<tr class="separator:a306f6ee775460a838c33bcd361cf4cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d9dd0dc4dd4bf05cbdfa0693f65c805"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a4d9dd0dc4dd4bf05cbdfa0693f65c805">buildCommodityForward</a> (const std::string &amp;id, const std::string &amp;position, Size term, const std::string &amp;commodityName, const std::string &amp;currency, Real strike, Real quantity)</td></tr>
<tr class="separator:a4d9dd0dc4dd4bf05cbdfa0693f65c805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2edd2a67018b3dd93c7ac8610c3aeee0"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a2edd2a67018b3dd93c7ac8610c3aeee0">buildCommodityOption</a> (const string &amp;id, const string &amp;longShort, const string &amp;putCall, Size term, const string &amp;commodityName, const string &amp;currency, Real strike, Real quantity, Real premium, const string &amp;premiumCcy, const string &amp;premiumDate)</td></tr>
<tr class="separator:a2edd2a67018b3dd93c7ac8610c3aeee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93467a2fcd6c6ceaf21fa4543573f573"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a93467a2fcd6c6ceaf21fa4543573f573">toString</a> (Date d)</td></tr>
<tr class="memdesc:a93467a2fcd6c6ceaf21fa4543573f573"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utilities to set up simple test trades.  <a href="namespacetestsuite.html#a93467a2fcd6c6ceaf21fa4543573f573">More...</a><br /></td></tr>
<tr class="separator:a93467a2fcd6c6ceaf21fa4543573f573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b5476b56b467d6e93d8f043657df264"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetestsuite.html#a5b5476b56b467d6e93d8f043657df264">buildCommodityOption</a> (const std::string &amp;id, const std::string &amp;longShort, const std::string &amp;putCall, QuantLib::Size term, const std::string &amp;commodityName, const std::string &amp;currency, QuantLib::Real strike, QuantLib::Real quantity, QuantLib::Real premium=0.0, const std::string &amp;premiumCcy=&quot;&quot;, const std::string &amp;premiumDate=&quot;&quot;)</td></tr>
<tr class="separator:a5b5476b56b467d6e93d8f043657df264"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0cf55200a1ba13d942044fce914bfbf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cf55200a1ba13d942044fce914bfbf6">&#9670;&nbsp;</a></span>buildSwap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt; buildSwap </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>ccy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isPayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>notional</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>spread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fixedFreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fixedDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatFreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="testportfolio_8cpp_source.html#l00041">41</a> of file <a class="el" href="testportfolio_8cpp_source.html">testportfolio.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                                 {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    Date today = Settings::instance().evaluationDate();</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    Calendar <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a> = TARGET();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordtype">int</span> days = 2;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordtype">string</span> cal = <span class="stringliteral">&quot;TARGET&quot;</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordtype">string</span> conv = <span class="stringliteral">&quot;MF&quot;</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordtype">string</span> rule = <span class="stringliteral">&quot;Forward&quot;</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    vector&lt;Real&gt; notionals(1, notional);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    vector&lt;Real&gt; rates(1, rate);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    vector&lt;Real&gt; spreads(1, spread);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    Date qlStartDate = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(today + start * Years);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    Date qlEndDate = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(qlStartDate + term * Years);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">string</span> startDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlStartDate);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordtype">string</span> endDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlEndDate);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// envelope</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_envelope.html">Envelope</a> env(<span class="stringliteral">&quot;CP&quot;</span>);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// schedules</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_data.html">ScheduleData</a> floatSchedule(<a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_rules.html">ScheduleRules</a>(startDate, endDate, floatFreq, cal, conv, conv, rule));</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_data.html">ScheduleData</a> fixedSchedule(<a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_rules.html">ScheduleRules</a>(startDate, endDate, fixedFreq, cal, conv, conv, rule));</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// fixed leg</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_leg_data.html">LegData</a> fixedLeg(boost::make_shared&lt;FixedLegData&gt;(rates), isPayer, ccy, fixedSchedule, fixedDC, notionals);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// float leg</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_leg_data.html">LegData</a> floatingLeg(boost::make_shared&lt;FloatingLegData&gt;(index, days, <span class="keyword">false</span>, spreads), !isPayer, ccy, floatSchedule,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                        floatDC, notionals);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// trade</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    boost::shared_ptr&lt;Trade&gt; trade(<span class="keyword">new</span> <a class="codeRef" href="../ored/classore_1_1data_1_1_swap.html">ore::data::Swap</a>(env, floatingLeg, fixedLeg));</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    trade-&gt;id() = id;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> trade;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a0cf55200a1ba13d942044fce914bfbf6_cgraph.png" border="0" usemap="#anamespacetestsuite_a0cf55200a1ba13d942044fce914bfbf6_cgraph" alt=""/></div>
<map name="namespacetestsuite_a0cf55200a1ba13d942044fce914bfbf6_cgraph" id="anamespacetestsuite_a0cf55200a1ba13d942044fce914bfbf6_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,87,32"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190" title=" " alt="" coords="135,5,265,32"/>
</map>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a0cf55200a1ba13d942044fce914bfbf6_icgraph.png" border="0" usemap="#anamespacetestsuite_a0cf55200a1ba13d942044fce914bfbf6_icgraph" alt=""/></div>
<map name="namespacetestsuite_a0cf55200a1ba13d942044fce914bfbf6_icgraph" id="anamespacetestsuite_a0cf55200a1ba13d942044fce914bfbf6_icgraph">
<area shape="rect" title=" " alt="" coords="483,31,564,57"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#af2d8c7eb58e1524ca11fc67a9f53bcc2" title=" " alt="" coords="244,5,435,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#adc7a5ac10f6151560d3d7cefb068f0b0" title=" " alt="" coords="264,56,415,83"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#a884986f587f4e96e9d36c8231440c4bd" title=" " alt="" coords="5,56,196,83"/>
</map>
</div>

</div>
</div>
<a id="a2ace8fd4987982d98b9f2a4c441d9f9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ace8fd4987982d98b9f2a4c441d9f9e">&#9670;&nbsp;</a></span>buildEuropeanSwaption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt; buildEuropeanSwaption </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>longShort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>ccy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isPayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>notional</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>spread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fixedFreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fixedDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatFreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>cashPhysical</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>premium</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>premiumCcy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>premiumDate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="testportfolio_8cpp_source.html#l00077">77</a> of file <a class="el" href="testportfolio_8cpp_source.html">testportfolio.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                                                   {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    Date today = Settings::instance().evaluationDate();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    Calendar <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a> = TARGET();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">int</span> days = 2;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">string</span> cal = <span class="stringliteral">&quot;TARGET&quot;</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordtype">string</span> conv = <span class="stringliteral">&quot;MF&quot;</span>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordtype">string</span> rule = <span class="stringliteral">&quot;Forward&quot;</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    vector&lt;Real&gt; notionals(1, notional);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    vector&lt;Real&gt; rates(1, rate);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    vector&lt;Real&gt; spreads(1, spread);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    Date qlStartDate = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(today + start * Years);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    Date qlEndDate = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(qlStartDate + term * Years);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordtype">string</span> startDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlStartDate);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordtype">string</span> endDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlEndDate);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// envelope</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_envelope.html">Envelope</a> env(<span class="stringliteral">&quot;CP&quot;</span>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">// schedules</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_data.html">ScheduleData</a> floatSchedule(<a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_rules.html">ScheduleRules</a>(startDate, endDate, floatFreq, cal, conv, conv, rule));</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_data.html">ScheduleData</a> fixedSchedule(<a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_rules.html">ScheduleRules</a>(startDate, endDate, fixedFreq, cal, conv, conv, rule));</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// fixed leg</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_leg_data.html">LegData</a> fixedLeg(boost::make_shared&lt;FixedLegData&gt;(rates), isPayer, ccy, fixedSchedule, fixedDC, notionals);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">// float leg</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_leg_data.html">LegData</a> floatingLeg(boost::make_shared&lt;FloatingLegData&gt;(index, days, <span class="keyword">false</span>, spreads), !isPayer, ccy, floatSchedule,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                        floatDC, notionals);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// leg vector</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    vector&lt;LegData&gt; legs;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    legs.push_back(fixedLeg);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    legs.push_back(floatingLeg);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// option data</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_option_data.html">OptionData</a> option(longShort, <span class="stringliteral">&quot;Call&quot;</span>, <span class="stringliteral">&quot;European&quot;</span>, <span class="keyword">false</span>, vector&lt;string&gt;(1, startDate), cashPhysical, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                      premiumDate.empty() ? <a class="codeRef" href="../ored/classore_1_1data_1_1_premium_data.html">PremiumData</a>() : <a class="codeRef" href="../ored/classore_1_1data_1_1_premium_data.html">PremiumData</a>(premium, premiumCcy, <a class="codeRef" href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d">parseDate</a>(premiumDate)));</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// trade</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    boost::shared_ptr&lt;Trade&gt; trade(<span class="keyword">new</span> <a class="codeRef" href="../ored/classore_1_1data_1_1_swaption.html">ore::data::Swaption</a>(env, option, legs));</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    trade-&gt;id() = id;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> trade;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a2ace8fd4987982d98b9f2a4c441d9f9e_cgraph.png" border="0" usemap="#anamespacetestsuite_a2ace8fd4987982d98b9f2a4c441d9f9e_cgraph" alt=""/></div>
<map name="namespacetestsuite_a2ace8fd4987982d98b9f2a4c441d9f9e_cgraph" id="anamespacetestsuite_a2ace8fd4987982d98b9f2a4c441d9f9e_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,163,57"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d" title=" " alt="" coords="235,5,317,32"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190" title=" " alt="" coords="211,56,341,83"/>
</map>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a2ace8fd4987982d98b9f2a4c441d9f9e_icgraph.png" border="0" usemap="#anamespacetestsuite_a2ace8fd4987982d98b9f2a4c441d9f9e_icgraph" alt=""/></div>
<map name="namespacetestsuite_a2ace8fd4987982d98b9f2a4c441d9f9e_icgraph" id="anamespacetestsuite_a2ace8fd4987982d98b9f2a4c441d9f9e_icgraph">
<area shape="rect" title=" " alt="" coords="483,31,640,57"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#af2d8c7eb58e1524ca11fc67a9f53bcc2" title=" " alt="" coords="244,5,435,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#adc7a5ac10f6151560d3d7cefb068f0b0" title=" " alt="" coords="264,56,415,83"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#a884986f587f4e96e9d36c8231440c4bd" title=" " alt="" coords="5,56,196,83"/>
</map>
</div>

</div>
</div>
<a id="a1a1ea26e001a57a761bcef3901100d97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a1ea26e001a57a761bcef3901100d97">&#9670;&nbsp;</a></span>buildBermudanSwaption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt; buildBermudanSwaption </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>longShort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>ccy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isPayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>notional</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>exercises</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>spread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fixedFreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fixedDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatFreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>cashPhysical</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>premium</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>premiumCcy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>premiumDate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="testportfolio_8cpp_source.html#l00123">123</a> of file <a class="el" href="testportfolio_8cpp_source.html">testportfolio.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                                                                   {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    Date today = Settings::instance().evaluationDate();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    Calendar <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a> = TARGET();</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordtype">int</span> days = 2;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordtype">string</span> cal = <span class="stringliteral">&quot;TARGET&quot;</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordtype">string</span> conv = <span class="stringliteral">&quot;MF&quot;</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordtype">string</span> rule = <span class="stringliteral">&quot;Forward&quot;</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    vector&lt;Real&gt; notionals(1, notional);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    vector&lt;Real&gt; rates(1, rate);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    vector&lt;Real&gt; spreads(1, spread);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    Date qlStartDate = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(today + start * Years);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    Date qlEndDate = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(qlStartDate + term * Years);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordtype">string</span> startDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlStartDate);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">string</span> endDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlEndDate);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    vector&lt;string&gt; exerciseDates;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">for</span> (Size i = 0; i &lt; exercises; ++i) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        Date exerciseDate = qlStartDate + i * Years;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        exerciseDates.push_back(<a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(exerciseDate));</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// envelope</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_envelope.html">Envelope</a> env(<span class="stringliteral">&quot;CP&quot;</span>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// schedules</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_data.html">ScheduleData</a> floatSchedule(<a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_rules.html">ScheduleRules</a>(startDate, endDate, floatFreq, cal, conv, conv, rule));</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_data.html">ScheduleData</a> fixedSchedule(<a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_rules.html">ScheduleRules</a>(startDate, endDate, fixedFreq, cal, conv, conv, rule));</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// fixed leg</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_leg_data.html">LegData</a> fixedLeg(boost::make_shared&lt;FixedLegData&gt;(rates), isPayer, ccy, fixedSchedule, fixedDC, notionals);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">// float leg</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_leg_data.html">LegData</a> floatingLeg(boost::make_shared&lt;FloatingLegData&gt;(index, days, <span class="keyword">false</span>, spreads), !isPayer, ccy, floatSchedule,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                        floatDC, notionals);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// leg vector</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    vector&lt;LegData&gt; legs;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    legs.push_back(fixedLeg);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    legs.push_back(floatingLeg);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// option data</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_option_data.html">OptionData</a> option(longShort, <span class="stringliteral">&quot;Call&quot;</span>, <span class="stringliteral">&quot;Bermudan&quot;</span>, <span class="keyword">false</span>, exerciseDates, cashPhysical, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                      premiumDate.empty() ? <a class="codeRef" href="../ored/classore_1_1data_1_1_premium_data.html">PremiumData</a>() : <a class="codeRef" href="../ored/classore_1_1data_1_1_premium_data.html">PremiumData</a>(premium, premiumCcy, <a class="codeRef" href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d">parseDate</a>(premiumDate)));</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// trade</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    boost::shared_ptr&lt;Trade&gt; trade(<span class="keyword">new</span> <a class="codeRef" href="../ored/classore_1_1data_1_1_swaption.html">ore::data::Swaption</a>(env, option, legs));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    trade-&gt;id() = id;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">return</span> trade;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a1a1ea26e001a57a761bcef3901100d97_cgraph.png" border="0" usemap="#anamespacetestsuite_a1a1ea26e001a57a761bcef3901100d97_cgraph" alt=""/></div>
<map name="namespacetestsuite_a1a1ea26e001a57a761bcef3901100d97_cgraph" id="anamespacetestsuite_a1a1ea26e001a57a761bcef3901100d97_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,167,57"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d" title=" " alt="" coords="239,5,321,32"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190" title=" " alt="" coords="215,56,345,83"/>
</map>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a1a1ea26e001a57a761bcef3901100d97_icgraph.png" border="0" usemap="#anamespacetestsuite_a1a1ea26e001a57a761bcef3901100d97_icgraph" alt=""/></div>
<map name="namespacetestsuite_a1a1ea26e001a57a761bcef3901100d97_icgraph" id="anamespacetestsuite_a1a1ea26e001a57a761bcef3901100d97_icgraph">
<area shape="rect" title=" " alt="" coords="443,5,604,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#adc7a5ac10f6151560d3d7cefb068f0b0" title=" " alt="" coords="244,5,395,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#a884986f587f4e96e9d36c8231440c4bd" title=" " alt="" coords="5,5,196,32"/>
</map>
</div>

</div>
</div>
<a id="a065f2919a7ee7254653afd562b975a14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a065f2919a7ee7254653afd562b975a14">&#9670;&nbsp;</a></span>buildFxOption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt; buildFxOption </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>longShort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>putCall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>expiry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>boughtCcy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>boughtAmount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>soldCcy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>soldAmount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>premium</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>premiumCcy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>premiumDate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="testportfolio_8cpp_source.html#l00175">175</a> of file <a class="el" href="testportfolio_8cpp_source.html">testportfolio.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                                                                              {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    Date today = Settings::instance().evaluationDate();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    Calendar <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a> = TARGET();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordtype">string</span> cal = <span class="stringliteral">&quot;TARGET&quot;</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordtype">string</span> conv = <span class="stringliteral">&quot;MF&quot;</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordtype">string</span> rule = <span class="stringliteral">&quot;Forward&quot;</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    Date qlExpiry = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(today + expiry * Years);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordtype">string</span> expiryDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlExpiry);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// envelope</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_envelope.html">Envelope</a> env(<span class="stringliteral">&quot;CP&quot;</span>);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// option data</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_option_data.html">OptionData</a> option(longShort, putCall, <span class="stringliteral">&quot;European&quot;</span>, <span class="keyword">false</span>, vector&lt;string&gt;(1, expiryDate), <span class="stringliteral">&quot;Cash&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                      premiumDate.empty() ? <a class="codeRef" href="../ored/classore_1_1data_1_1_premium_data.html">PremiumData</a>() : <a class="codeRef" href="../ored/classore_1_1data_1_1_premium_data.html">PremiumData</a>(premium, premiumCcy, <a class="codeRef" href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d">parseDate</a>(premiumDate)));</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">// trade</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    boost::shared_ptr&lt;Trade&gt; trade(<span class="keyword">new</span> <a class="codeRef" href="../ored/classore_1_1data_1_1_fx_option.html">ore::data::FxOption</a>(env, option, boughtCcy, boughtAmount, soldCcy, soldAmount));</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    trade-&gt;id() = id;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">return</span> trade;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a065f2919a7ee7254653afd562b975a14_cgraph.png" border="0" usemap="#anamespacetestsuite_a065f2919a7ee7254653afd562b975a14_cgraph" alt=""/></div>
<map name="namespacetestsuite_a065f2919a7ee7254653afd562b975a14_cgraph" id="anamespacetestsuite_a065f2919a7ee7254653afd562b975a14_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,108,57"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d" title=" " alt="" coords="181,5,262,32"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190" title=" " alt="" coords="156,56,287,83"/>
</map>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a065f2919a7ee7254653afd562b975a14_icgraph.png" border="0" usemap="#anamespacetestsuite_a065f2919a7ee7254653afd562b975a14_icgraph" alt=""/></div>
<map name="namespacetestsuite_a065f2919a7ee7254653afd562b975a14_icgraph" id="anamespacetestsuite_a065f2919a7ee7254653afd562b975a14_icgraph">
<area shape="rect" title=" " alt="" coords="483,31,585,57"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#abee8f85053423e807bac09167c46064b" title=" " alt="" coords="244,5,435,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#adc7a5ac10f6151560d3d7cefb068f0b0" title=" " alt="" coords="264,56,415,83"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#a884986f587f4e96e9d36c8231440c4bd" title=" " alt="" coords="5,56,196,83"/>
</map>
</div>

</div>
</div>
<a id="a3c54e055257b56f61fc96e8f4993aacb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c54e055257b56f61fc96e8f4993aacb">&#9670;&nbsp;</a></span>buildEquityOption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt; buildEquityOption </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>longShort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>putCall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>expiry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>equityName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>currency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>strike</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>premium</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>premiumCcy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>premiumDate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="testportfolio_8cpp_source.html#l00199">199</a> of file <a class="el" href="testportfolio_8cpp_source.html">testportfolio.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                                                               {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    Date today = Settings::instance().evaluationDate();</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    Calendar <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a> = TARGET();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordtype">string</span> cal = <span class="stringliteral">&quot;TARGET&quot;</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordtype">string</span> conv = <span class="stringliteral">&quot;MF&quot;</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordtype">string</span> rule = <span class="stringliteral">&quot;Forward&quot;</span>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    Date qlExpiry = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(today + expiry * Years);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordtype">string</span> expiryDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlExpiry);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_trade_strike.html">TradeStrike</a> tradeStrike(strike, currency);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// envelope</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_envelope.html">Envelope</a> env(<span class="stringliteral">&quot;CP&quot;</span>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">// option data</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_option_data.html">OptionData</a> option(longShort, putCall, <span class="stringliteral">&quot;European&quot;</span>, <span class="keyword">false</span>, vector&lt;string&gt;(1, expiryDate), <span class="stringliteral">&quot;Cash&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                      premiumDate.empty() ? <a class="codeRef" href="../ored/classore_1_1data_1_1_premium_data.html">PremiumData</a>() : <a class="codeRef" href="../ored/classore_1_1data_1_1_premium_data.html">PremiumData</a>(premium, premiumCcy, <a class="codeRef" href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d">parseDate</a>(premiumDate)));</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">// trade</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    boost::shared_ptr&lt;Trade&gt; trade(</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keyword">new</span> <a class="codeRef" href="../ored/classore_1_1data_1_1_equity_option.html">ore::data::EquityOption</a>(env, option, <a class="codeRef" href="../ored/classore_1_1data_1_1_equity_underlying.html">EquityUnderlying</a>(equityName), currency, quantity, tradeStrike));</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    trade-&gt;id() = id;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">return</span> trade;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a3c54e055257b56f61fc96e8f4993aacb_cgraph.png" border="0" usemap="#anamespacetestsuite_a3c54e055257b56f61fc96e8f4993aacb_cgraph" alt=""/></div>
<map name="namespacetestsuite_a3c54e055257b56f61fc96e8f4993aacb_cgraph" id="anamespacetestsuite_a3c54e055257b56f61fc96e8f4993aacb_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,129,57"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d" title=" " alt="" coords="202,5,283,32"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190" title=" " alt="" coords="177,56,308,83"/>
</map>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a3c54e055257b56f61fc96e8f4993aacb_icgraph.png" border="0" usemap="#anamespacetestsuite_a3c54e055257b56f61fc96e8f4993aacb_icgraph" alt=""/></div>
<map name="namespacetestsuite_a3c54e055257b56f61fc96e8f4993aacb_icgraph" id="anamespacetestsuite_a3c54e055257b56f61fc96e8f4993aacb_icgraph">
<area shape="rect" title=" " alt="" coords="483,31,607,57"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#afb30903d6b6db666206a6c48eaca38e3" title=" " alt="" coords="244,5,435,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#adc7a5ac10f6151560d3d7cefb068f0b0" title=" " alt="" coords="264,56,415,83"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#a884986f587f4e96e9d36c8231440c4bd" title=" " alt="" coords="5,56,196,83"/>
</map>
</div>

</div>
</div>
<a id="a0c24ecc347eaaa7f418010544a5c3e18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c24ecc347eaaa7f418010544a5c3e18">&#9670;&nbsp;</a></span>buildEquityForward()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt; buildEquityForward </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>longShort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>expiry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>equityName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>currency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>strike</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>quantity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="testportfolio_8cpp_source.html#l00226">226</a> of file <a class="el" href="testportfolio_8cpp_source.html">testportfolio.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                                                                         {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    Date today = Settings::instance().evaluationDate();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    Calendar <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a> = TARGET();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    Date qlExpiry = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(today + expiry * Years);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordtype">string</span> expiryDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlExpiry);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// envelope</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_envelope.html">Envelope</a> env(<span class="stringliteral">&quot;CP&quot;</span>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">// trade</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    boost::shared_ptr&lt;Trade&gt; trade(<span class="keyword">new</span> <a class="codeRef" href="../ored/classore_1_1data_1_1_equity_forward.html">ore::data::EquityForward</a>(env, longShort, <a class="codeRef" href="../ored/classore_1_1data_1_1_equity_underlying.html">EquityUnderlying</a>(equityName), currency,</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                                                                quantity, expiryDate, strike));</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    trade-&gt;id() = id;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">return</span> trade;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a0c24ecc347eaaa7f418010544a5c3e18_cgraph.png" border="0" usemap="#anamespacetestsuite_a0c24ecc347eaaa7f418010544a5c3e18_cgraph" alt=""/></div>
<map name="namespacetestsuite_a0c24ecc347eaaa7f418010544a5c3e18_cgraph" id="anamespacetestsuite_a0c24ecc347eaaa7f418010544a5c3e18_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,137,32"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190" title=" " alt="" coords="185,5,316,32"/>
</map>
</div>

</div>
</div>
<a id="a1f8ce589c50a9c62fc458cb91de7edf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8ce589c50a9c62fc458cb91de7edf5">&#9670;&nbsp;</a></span>buildCap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt; buildCap </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>ccy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>longShort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>capRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>notional</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatFreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="testportfolio_8cpp_source.html#l00244">244</a> of file <a class="el" href="testportfolio_8cpp_source.html">testportfolio.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                                                                             {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacetestsuite.html#a24eab2f2a5d308989ebc37614f4c4096">buildCapFloor</a>(<span class="keywordtype">id</span>, ccy, longShort, vector&lt;Real&gt;(1, capRate), vector&lt;Real&gt;(), notional, start, term, floatFreq,</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                         floatDC, index);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a1f8ce589c50a9c62fc458cb91de7edf5_cgraph.png" border="0" usemap="#anamespacetestsuite_a1f8ce589c50a9c62fc458cb91de7edf5_cgraph" alt=""/></div>
<map name="namespacetestsuite_a1f8ce589c50a9c62fc458cb91de7edf5_cgraph" id="anamespacetestsuite_a1f8ce589c50a9c62fc458cb91de7edf5_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,77,32"/>
<area shape="rect" href="namespacetestsuite.html#a24eab2f2a5d308989ebc37614f4c4096" title=" " alt="" coords="125,5,227,32"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190" title=" " alt="" coords="275,5,405,32"/>
</map>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a1f8ce589c50a9c62fc458cb91de7edf5_icgraph.png" border="0" usemap="#anamespacetestsuite_a1f8ce589c50a9c62fc458cb91de7edf5_icgraph" alt=""/></div>
<map name="namespacetestsuite_a1f8ce589c50a9c62fc458cb91de7edf5_icgraph" id="anamespacetestsuite_a1f8ce589c50a9c62fc458cb91de7edf5_icgraph">
<area shape="rect" title=" " alt="" coords="483,31,555,57"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#af2d8c7eb58e1524ca11fc67a9f53bcc2" title=" " alt="" coords="244,5,435,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#adc7a5ac10f6151560d3d7cefb068f0b0" title=" " alt="" coords="264,56,415,83"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#a884986f587f4e96e9d36c8231440c4bd" title=" " alt="" coords="5,56,196,83"/>
</map>
</div>

</div>
</div>
<a id="a7da40f9d57dcfec350bdd68c50ea3b5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7da40f9d57dcfec350bdd68c50ea3b5e">&#9670;&nbsp;</a></span>buildFloor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt; buildFloor </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>ccy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>longShort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>floorRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>notional</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatFreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="testportfolio_8cpp_source.html#l00250">250</a> of file <a class="el" href="testportfolio_8cpp_source.html">testportfolio.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                                                                               {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacetestsuite.html#a24eab2f2a5d308989ebc37614f4c4096">buildCapFloor</a>(<span class="keywordtype">id</span>, ccy, longShort, vector&lt;Real&gt;(), vector&lt;Real&gt;(1, floorRate), notional, start, term,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                         floatFreq, floatDC, index);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a7da40f9d57dcfec350bdd68c50ea3b5e_cgraph.png" border="0" usemap="#anamespacetestsuite_a7da40f9d57dcfec350bdd68c50ea3b5e_cgraph" alt=""/></div>
<map name="namespacetestsuite_a7da40f9d57dcfec350bdd68c50ea3b5e_cgraph" id="anamespacetestsuite_a7da40f9d57dcfec350bdd68c50ea3b5e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,84,32"/>
<area shape="rect" href="namespacetestsuite.html#a24eab2f2a5d308989ebc37614f4c4096" title=" " alt="" coords="132,5,233,32"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190" title=" " alt="" coords="281,5,412,32"/>
</map>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a7da40f9d57dcfec350bdd68c50ea3b5e_icgraph.png" border="0" usemap="#anamespacetestsuite_a7da40f9d57dcfec350bdd68c50ea3b5e_icgraph" alt=""/></div>
<map name="namespacetestsuite_a7da40f9d57dcfec350bdd68c50ea3b5e_icgraph" id="anamespacetestsuite_a7da40f9d57dcfec350bdd68c50ea3b5e_icgraph">
<area shape="rect" title=" " alt="" coords="483,31,561,57"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#af2d8c7eb58e1524ca11fc67a9f53bcc2" title=" " alt="" coords="244,5,435,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#adc7a5ac10f6151560d3d7cefb068f0b0" title=" " alt="" coords="264,56,415,83"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#a884986f587f4e96e9d36c8231440c4bd" title=" " alt="" coords="5,56,196,83"/>
</map>
</div>

</div>
</div>
<a id="a24eab2f2a5d308989ebc37614f4c4096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24eab2f2a5d308989ebc37614f4c4096">&#9670;&nbsp;</a></span>buildCapFloor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt; buildCapFloor </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>ccy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>longShort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; Real &gt;&#160;</td>
          <td class="paramname"><em>capRates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; Real &gt;&#160;</td>
          <td class="paramname"><em>floorRates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>notional</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatFreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="testportfolio_8cpp_source.html#l00256">256</a> of file <a class="el" href="testportfolio_8cpp_source.html">testportfolio.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                                                                     {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    Date today = Settings::instance().evaluationDate();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    Calendar <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a> = TARGET();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordtype">int</span> days = 2;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordtype">string</span> cal = <span class="stringliteral">&quot;TARGET&quot;</span>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordtype">string</span> conv = <span class="stringliteral">&quot;MF&quot;</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordtype">string</span> rule = <span class="stringliteral">&quot;Forward&quot;</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    vector&lt;Real&gt; notionals(1, notional);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    vector&lt;Real&gt; spreads(1, 0.0);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    Date qlStartDate = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(today + start * Years);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    Date qlEndDate = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(qlStartDate + term * Years);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordtype">string</span> startDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlStartDate);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordtype">string</span> endDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlEndDate);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">// envelope</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_envelope.html">Envelope</a> env(<span class="stringliteral">&quot;CP&quot;</span>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">// schedules</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_data.html">ScheduleData</a> floatSchedule(<a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_rules.html">ScheduleRules</a>(startDate, endDate, floatFreq, cal, conv, conv, rule));</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="comment">// float leg</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_floating_leg_data.html">FloatingLegData</a> floatingLegData;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_leg_data.html">LegData</a> floatingLeg(boost::make_shared&lt;FloatingLegData&gt;(index, days, <span class="keyword">false</span>, spreads), <span class="keyword">false</span>, ccy, floatSchedule,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                        floatDC, notionals);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">// trade</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    boost::shared_ptr&lt;Trade&gt; trade(<span class="keyword">new</span> <a class="codeRef" href="../ored/classore_1_1data_1_1_cap_floor.html">ore::data::CapFloor</a>(env, longShort, floatingLeg, capRates, floorRates));</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    trade-&gt;id() = id;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">return</span> trade;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a24eab2f2a5d308989ebc37614f4c4096_cgraph.png" border="0" usemap="#anamespacetestsuite_a24eab2f2a5d308989ebc37614f4c4096_cgraph" alt=""/></div>
<map name="namespacetestsuite_a24eab2f2a5d308989ebc37614f4c4096_cgraph" id="anamespacetestsuite_a24eab2f2a5d308989ebc37614f4c4096_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,107,32"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190" title=" " alt="" coords="155,5,285,32"/>
</map>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a24eab2f2a5d308989ebc37614f4c4096_icgraph.png" border="0" usemap="#anamespacetestsuite_a24eab2f2a5d308989ebc37614f4c4096_icgraph" alt=""/></div>
<map name="namespacetestsuite_a24eab2f2a5d308989ebc37614f4c4096_icgraph" id="anamespacetestsuite_a24eab2f2a5d308989ebc37614f4c4096_icgraph">
<area shape="rect" title=" " alt="" coords="609,31,711,57"/>
<area shape="rect" href="namespacetestsuite.html#a1f8ce589c50a9c62fc458cb91de7edf5" title=" " alt="" coords="486,5,558,32"/>
<area shape="rect" href="namespacetestsuite.html#a7da40f9d57dcfec350bdd68c50ea3b5e" title=" " alt="" coords="483,56,561,83"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#af2d8c7eb58e1524ca11fc67a9f53bcc2" title=" " alt="" coords="244,5,435,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#adc7a5ac10f6151560d3d7cefb068f0b0" title=" " alt="" coords="264,56,415,83"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#a884986f587f4e96e9d36c8231440c4bd" title=" " alt="" coords="5,56,196,83"/>
</map>
</div>

</div>
</div>
<a id="a3866ad77705e8f36e209f1a88125b3ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3866ad77705e8f36e209f1a88125b3ce">&#9670;&nbsp;</a></span>buildZeroBond()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt; buildZeroBond </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>ccy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>notional</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>term</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="testportfolio_8cpp_source.html#l00289">289</a> of file <a class="el" href="testportfolio_8cpp_source.html">testportfolio.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                                                                                      {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    Date today = Settings::instance().evaluationDate();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    Date qlEndDate = today + term * Years;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordtype">string</span> maturityDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlEndDate);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordtype">string</span> issueDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(today);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">string</span> settlementDays = <span class="stringliteral">&quot;2&quot;</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordtype">string</span> <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a> = <span class="stringliteral">&quot;TARGET&quot;</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordtype">string</span> issuerId = <span class="stringliteral">&quot;BondIssuer1&quot;</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordtype">string</span> creditCurveId = <span class="stringliteral">&quot;BondIssuer1&quot;</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordtype">string</span> securityId = <span class="stringliteral">&quot;Bond1&quot;</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">string</span> referenceCurveId = <span class="stringliteral">&quot;BondCurve1&quot;</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// envelope</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_envelope.html">Envelope</a> env(<span class="stringliteral">&quot;CP&quot;</span>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    boost::shared_ptr&lt;Trade&gt; trade(</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keyword">new</span> <a class="codeRef" href="../ored/classore_1_1data_1_1_bond.html">ore::data::Bond</a>(env, <a class="codeRef" href="../ored/classore_1_1data_1_1_bond_data.html">BondData</a>(issuerId, creditCurveId, securityId, referenceCurveId, settlementDays,</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                          calendar, notional, maturityDate, ccy, issueDate)));</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    trade-&gt;id() = id;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">return</span> trade;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a3866ad77705e8f36e209f1a88125b3ce_cgraph.png" border="0" usemap="#anamespacetestsuite_a3866ad77705e8f36e209f1a88125b3ce_cgraph" alt=""/></div>
<map name="namespacetestsuite_a3866ad77705e8f36e209f1a88125b3ce_cgraph" id="anamespacetestsuite_a3866ad77705e8f36e209f1a88125b3ce_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,109,32"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190" title=" " alt="" coords="157,5,288,32"/>
</map>
</div>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a3866ad77705e8f36e209f1a88125b3ce_icgraph.png" border="0" usemap="#anamespacetestsuite_a3866ad77705e8f36e209f1a88125b3ce_icgraph" alt=""/></div>
<map name="namespacetestsuite_a3866ad77705e8f36e209f1a88125b3ce_icgraph" id="anamespacetestsuite_a3866ad77705e8f36e209f1a88125b3ce_icgraph">
<area shape="rect" title=" " alt="" coords="443,5,547,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#adc7a5ac10f6151560d3d7cefb068f0b0" title=" " alt="" coords="244,5,395,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#a884986f587f4e96e9d36c8231440c4bd" title=" " alt="" coords="5,5,196,32"/>
</map>
</div>

</div>
</div>
<a id="ab30f7b9c44095d806d2192ff584a9172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab30f7b9c44095d806d2192ff584a9172">&#9670;&nbsp;</a></span>buildCPIInflationSwap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt; buildCPIInflationSwap </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>ccy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isPayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>notional</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>spread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatFreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>cpiFreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>cpiDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>cpiIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>baseRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>observationLag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>interpolated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>cpiRate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="testportfolio_8cpp_source.html#l00311">311</a> of file <a class="el" href="testportfolio_8cpp_source.html">testportfolio.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                                                                                       {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    Date today = Settings::instance().evaluationDate();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    Calendar <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a> = TARGET();</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordtype">int</span> days = 2;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordtype">string</span> cal = <span class="stringliteral">&quot;TARGET&quot;</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordtype">string</span> conv = <span class="stringliteral">&quot;MF&quot;</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordtype">string</span> rule = <span class="stringliteral">&quot;Forward&quot;</span>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    vector&lt;Real&gt; notionals(1, notional);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    vector&lt;Real&gt; cpiRates(1, cpiRate);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    vector&lt;Real&gt; spreads(1, spread);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    Date qlStartDate = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(today + start * Years);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    Date qlEndDate = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(qlStartDate + term * Years);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordtype">string</span> startDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlStartDate);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordtype">string</span> endDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlEndDate);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">// envelope</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_envelope.html">Envelope</a> env(<span class="stringliteral">&quot;CP&quot;</span>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">// schedules</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_data.html">ScheduleData</a> floatSchedule(<a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_rules.html">ScheduleRules</a>(startDate, endDate, floatFreq, cal, conv, conv, rule));</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_data.html">ScheduleData</a> cpiSchedule(<a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_rules.html">ScheduleRules</a>(startDate, endDate, cpiFreq, cal, conv, conv, rule));</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">// float leg</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_leg_data.html">LegData</a> floatingLeg(boost::make_shared&lt;FloatingLegData&gt;(index, days, <span class="keyword">false</span>, spreads), !isPayer, ccy, floatSchedule,</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        floatDC, notionals);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment">// fixed leg</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_leg_data.html">LegData</a> cpiLeg(boost::make_shared&lt;CPILegData&gt;(cpiIndex, startDate, baseRate, observationLag,</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                                                  (interpolated ? <span class="stringliteral">&quot;Linear&quot;</span> : <span class="stringliteral">&quot;Flat&quot;</span>), cpiRates),</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                   isPayer, ccy, cpiSchedule, cpiDC, notionals, vector&lt;string&gt;(), <span class="stringliteral">&quot;F&quot;</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">// trade</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    boost::shared_ptr&lt;Trade&gt; trade(<span class="keyword">new</span> <a class="codeRef" href="../ored/classore_1_1data_1_1_swap.html">ore::data::Swap</a>(env, floatingLeg, cpiLeg));</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    trade-&gt;id() = id;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">return</span> trade;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_ab30f7b9c44095d806d2192ff584a9172_cgraph.png" border="0" usemap="#anamespacetestsuite_ab30f7b9c44095d806d2192ff584a9172_cgraph" alt=""/></div>
<map name="namespacetestsuite_ab30f7b9c44095d806d2192ff584a9172_cgraph" id="anamespacetestsuite_ab30f7b9c44095d806d2192ff584a9172_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,152,32"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190" title=" " alt="" coords="200,5,331,32"/>
</map>
</div>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_ab30f7b9c44095d806d2192ff584a9172_icgraph.png" border="0" usemap="#anamespacetestsuite_ab30f7b9c44095d806d2192ff584a9172_icgraph" alt=""/></div>
<map name="namespacetestsuite_ab30f7b9c44095d806d2192ff584a9172_icgraph" id="anamespacetestsuite_ab30f7b9c44095d806d2192ff584a9172_icgraph">
<area shape="rect" title=" " alt="" coords="443,5,589,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#adc7a5ac10f6151560d3d7cefb068f0b0" title=" " alt="" coords="244,5,395,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#a884986f587f4e96e9d36c8231440c4bd" title=" " alt="" coords="5,5,196,32"/>
</map>
</div>

</div>
</div>
<a id="a306f6ee775460a838c33bcd361cf4cd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a306f6ee775460a838c33bcd361cf4cd9">&#9670;&nbsp;</a></span>buildYYInflationSwap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt; buildYYInflationSwap </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>ccy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isPayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>notional</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>spread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatFreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>floatDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>yyFreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>yyDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>yyIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>observationLag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>fixDays</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="testportfolio_8cpp_source.html#l00352">352</a> of file <a class="el" href="testportfolio_8cpp_source.html">testportfolio.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                                                            {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    Date today = Settings::instance().evaluationDate();</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    Calendar <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a> = TARGET();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordtype">int</span> days = 2;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordtype">string</span> cal = <span class="stringliteral">&quot;TARGET&quot;</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordtype">string</span> conv = <span class="stringliteral">&quot;MF&quot;</span>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordtype">string</span> rule = <span class="stringliteral">&quot;Forward&quot;</span>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    vector&lt;Real&gt; notionals(1, notional);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    vector&lt;Real&gt; spreads(1, spread);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    Date qlStartDate = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(today + start * Years);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    Date qlEndDate = <a class="codeRef" href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a>.adjust(qlStartDate + term * Years);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordtype">string</span> startDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlStartDate);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordtype">string</span> endDate = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(qlEndDate);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">// envelope</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_envelope.html">Envelope</a> env(<span class="stringliteral">&quot;CP&quot;</span>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// schedules</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_data.html">ScheduleData</a> floatSchedule(<a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_rules.html">ScheduleRules</a>(startDate, endDate, floatFreq, cal, conv, conv, rule));</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_data.html">ScheduleData</a> yySchedule(<a class="codeRef" href="../ored/classore_1_1data_1_1_schedule_rules.html">ScheduleRules</a>(startDate, endDate, yyFreq, cal, conv, conv, rule));</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">// float leg</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_leg_data.html">LegData</a> floatingLeg(boost::make_shared&lt;FloatingLegData&gt;(index, days, <span class="keyword">false</span>, spreads), !isPayer, ccy, floatSchedule,</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                        floatDC, notionals);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="comment">// fixed leg</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_leg_data.html">LegData</a> yyLeg(boost::make_shared&lt;YoYLegData&gt;(yyIndex, observationLag, fixDays), isPayer, ccy, yySchedule, yyDC,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                  notionals);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// trade</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    boost::shared_ptr&lt;Trade&gt; trade(<span class="keyword">new</span> <a class="codeRef" href="../ored/classore_1_1data_1_1_swap.html">ore::data::Swap</a>(env, floatingLeg, yyLeg));</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    trade-&gt;id() = id;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">return</span> trade;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a306f6ee775460a838c33bcd361cf4cd9_cgraph.png" border="0" usemap="#anamespacetestsuite_a306f6ee775460a838c33bcd361cf4cd9_cgraph" alt=""/></div>
<map name="namespacetestsuite_a306f6ee775460a838c33bcd361cf4cd9_cgraph" id="anamespacetestsuite_a306f6ee775460a838c33bcd361cf4cd9_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,148,32"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190" title=" " alt="" coords="196,5,327,32"/>
</map>
</div>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a306f6ee775460a838c33bcd361cf4cd9_icgraph.png" border="0" usemap="#anamespacetestsuite_a306f6ee775460a838c33bcd361cf4cd9_icgraph" alt=""/></div>
<map name="namespacetestsuite_a306f6ee775460a838c33bcd361cf4cd9_icgraph" id="anamespacetestsuite_a306f6ee775460a838c33bcd361cf4cd9_icgraph">
<area shape="rect" title=" " alt="" coords="443,5,585,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#adc7a5ac10f6151560d3d7cefb068f0b0" title=" " alt="" coords="244,5,395,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#a884986f587f4e96e9d36c8231440c4bd" title=" " alt="" coords="5,5,196,32"/>
</map>
</div>

</div>
</div>
<a id="a4d9dd0dc4dd4bf05cbdfa0693f65c805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d9dd0dc4dd4bf05cbdfa0693f65c805">&#9670;&nbsp;</a></span>buildCommodityForward()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a> &gt; buildCommodityForward </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>commodityName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>currency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>strike</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>quantity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="testportfolio_8cpp_source.html#l00391">391</a> of file <a class="el" href="testportfolio_8cpp_source.html">testportfolio.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                                                           {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    Date today = Settings::instance().evaluationDate();</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordtype">string</span> <a class="codeRef" href="../ored/utilities_8cpp.html#a13d7d92e74b3e8c94c52ca7a1262c55e">maturity</a> = <a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(today + term * Years);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_envelope.html">Envelope</a> env(<span class="stringliteral">&quot;CP&quot;</span>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    boost::shared_ptr&lt;Trade&gt; trade = boost::make_shared&lt;ore::data::CommodityForward&gt;(</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        env, position, commodityName, currency, quantity, maturity, strike);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    trade-&gt;id() = id;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">return</span> trade;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a4d9dd0dc4dd4bf05cbdfa0693f65c805_cgraph.png" border="0" usemap="#anamespacetestsuite_a4d9dd0dc4dd4bf05cbdfa0693f65c805_cgraph" alt=""/></div>
<map name="namespacetestsuite_a4d9dd0dc4dd4bf05cbdfa0693f65c805_cgraph" id="anamespacetestsuite_a4d9dd0dc4dd4bf05cbdfa0693f65c805_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,167,32"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190" title=" " alt="" coords="215,5,345,32"/>
</map>
</div>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a4d9dd0dc4dd4bf05cbdfa0693f65c805_icgraph.png" border="0" usemap="#anamespacetestsuite_a4d9dd0dc4dd4bf05cbdfa0693f65c805_icgraph" alt=""/></div>
<map name="namespacetestsuite_a4d9dd0dc4dd4bf05cbdfa0693f65c805_icgraph" id="anamespacetestsuite_a4d9dd0dc4dd4bf05cbdfa0693f65c805_icgraph">
<area shape="rect" title=" " alt="" coords="443,5,604,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#adc7a5ac10f6151560d3d7cefb068f0b0" title=" " alt="" coords="244,5,395,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#a884986f587f4e96e9d36c8231440c4bd" title=" " alt="" coords="5,5,196,32"/>
</map>
</div>

</div>
</div>
<a id="a2edd2a67018b3dd93c7ac8610c3aeee0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2edd2a67018b3dd93c7ac8610c3aeee0">&#9670;&nbsp;</a></span>buildCommodityOption() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a>&gt; testsuite::buildCommodityOption </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>longShort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>putCall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>commodityName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>currency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>strike</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>premium</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>premiumCcy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>premiumDate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="testportfolio_8cpp_source.html#l00406">406</a> of file <a class="el" href="testportfolio_8cpp_source.html">testportfolio.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                                                                         {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    Date today = Settings::instance().evaluationDate();</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    vector&lt;string&gt; expiryDate{<a class="codeRef" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a>(today + term * Years)};</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_envelope.html">Envelope</a> env(<span class="stringliteral">&quot;CP&quot;</span>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_option_data.html">OptionData</a> option(longShort, putCall, <span class="stringliteral">&quot;European&quot;</span>, <span class="keyword">false</span>, expiryDate, <span class="stringliteral">&quot;Cash&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                      premiumDate.empty() ? <a class="codeRef" href="../ored/classore_1_1data_1_1_premium_data.html">PremiumData</a>() : <a class="codeRef" href="../ored/classore_1_1data_1_1_premium_data.html">PremiumData</a>(premium, premiumCcy, <a class="codeRef" href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d">parseDate</a>(premiumDate)));</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="codeRef" href="../ored/classore_1_1data_1_1_trade_strike.html">TradeStrike</a> trStrike(TradeStrike::Type::Price, strike);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    boost::shared_ptr&lt;Trade&gt; trade =</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        boost::make_shared&lt;ore::data::CommodityOption&gt;(env, option, commodityName, currency, quantity, trStrike);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    trade-&gt;id() = id;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">return</span> trade;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a2edd2a67018b3dd93c7ac8610c3aeee0_cgraph.png" border="0" usemap="#anamespacetestsuite_a2edd2a67018b3dd93c7ac8610c3aeee0_cgraph" alt=""/></div>
<map name="namespacetestsuite_a2edd2a67018b3dd93c7ac8610c3aeee0_cgraph" id="anamespacetestsuite_a2edd2a67018b3dd93c7ac8610c3aeee0_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,159,57"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d" title=" " alt="" coords="231,5,313,32"/>
<area shape="rect" target="_parent" href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190" title=" " alt="" coords="207,56,337,83"/>
</map>
</div>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespacetestsuite_a2edd2a67018b3dd93c7ac8610c3aeee0_icgraph.png" border="0" usemap="#anamespacetestsuite_a2edd2a67018b3dd93c7ac8610c3aeee0_icgraph" alt=""/></div>
<map name="namespacetestsuite_a2edd2a67018b3dd93c7ac8610c3aeee0_icgraph" id="anamespacetestsuite_a2edd2a67018b3dd93c7ac8610c3aeee0_icgraph">
<area shape="rect" title=" " alt="" coords="443,5,596,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#adc7a5ac10f6151560d3d7cefb068f0b0" title=" " alt="" coords="244,5,395,32"/>
<area shape="rect" href="test_2sensitivityanalysis_8cpp.html#a884986f587f4e96e9d36c8231440c4bd" title=" " alt="" coords="5,5,196,32"/>
</map>
</div>

</div>
</div>
<a id="a93467a2fcd6c6ceaf21fa4543573f573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93467a2fcd6c6ceaf21fa4543573f573">&#9670;&nbsp;</a></span>toString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string testsuite::toString </td>
          <td>(</td>
          <td class="paramtype">Date&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utilities to set up simple test trades. </p>

</div>
</div>
<a id="a5b5476b56b467d6e93d8f043657df264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b5476b56b467d6e93d8f043657df264">&#9670;&nbsp;</a></span>buildCommodityOption() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="elRef" href="../ored/classore_1_1data_1_1_trade.html">Trade</a>&gt; testsuite::buildCommodityOption </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>longShort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>putCall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Size&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>commodityName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>currency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Real&#160;</td>
          <td class="paramname"><em>strike</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Real&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Real&#160;</td>
          <td class="paramname"><em>premium</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>premiumCcy</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>premiumDate</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="aclassore_1_1data_1_1_equity_forward_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_equity_forward.html">ore::data::EquityForward</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_envelope_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_envelope.html">ore::data::Envelope</a></div></div>
<div class="ttc" id="anamespacetestsuite_html_a24eab2f2a5d308989ebc37614f4c4096"><div class="ttname"><a href="namespacetestsuite.html#a24eab2f2a5d308989ebc37614f4c4096">testsuite::buildCapFloor</a></div><div class="ttdeci">boost::shared_ptr&lt; Trade &gt; buildCapFloor(string id, string ccy, string longShort, vector&lt; Real &gt; capRates, vector&lt; Real &gt; floorRates, Real notional, int start, Size term, string floatFreq, string floatDC, string index)</div><div class="ttdef"><b>Definition:</b> <a href="testportfolio_8cpp_source.html#l00256">testportfolio.cpp:256</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fx_option_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_fx_option.html">ore::data::FxOption</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_bond_data_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_bond_data.html">ore::data::BondData</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_swaption_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_swaption.html">ore::data::Swaption</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_bond_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_bond.html">ore::data::Bond</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_equity_option_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_equity_option.html">ore::data::EquityOption</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_schedule_rules_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_schedule_rules.html">ore::data::ScheduleRules</a></div></div>
<div class="ttc" id="agroup__utilities_html_ga59b5fdda574d90facae95dec2d13040d"><div class="ttname"><a href="../ored/group__utilities.html#ga59b5fdda574d90facae95dec2d13040d">parseDate</a></div><div class="ttdeci">Date parseDate(const string &amp;s)</div></div>
<div class="ttc" id="aclassore_1_1data_1_1_equity_underlying_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_equity_underlying.html">ore::data::EquityUnderlying</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_option_data_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_option_data.html">ore::data::OptionData</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_swap_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_swap.html">ore::data::Swap</a></div></div>
<div class="ttc" id="agroup__utilities_html_ga1b8cd9a976247da6df232ad48d4af190"><div class="ttname"><a href="../ored/group__utilities.html#ga1b8cd9a976247da6df232ad48d4af190">ore::data::to_string</a></div><div class="ttdeci">std::string to_string(const QuantLib::Date &amp;date)</div></div>
<div class="ttc" id="aclassore_1_1data_1_1_premium_data_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_premium_data.html">ore::data::PremiumData</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_cap_floor_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_cap_floor.html">ore::data::CapFloor</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_schedule_data_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_schedule_data.html">ore::data::ScheduleData</a></div></div>
<div class="ttc" id="autilities_8cpp_html_a78752433f4fe4a459158fefc086335e5"><div class="ttname"><a href="../ored/utilities_8cpp.html#a78752433f4fe4a459158fefc086335e5">calendar</a></div><div class="ttdeci">Calendar calendar</div></div>
<div class="ttc" id="aclassore_1_1data_1_1_leg_data_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_leg_data.html">ore::data::LegData</a></div></div>
<div class="ttc" id="autilities_8cpp_html_a13d7d92e74b3e8c94c52ca7a1262c55e"><div class="ttname"><a href="../ored/utilities_8cpp.html#a13d7d92e74b3e8c94c52ca7a1262c55e">maturity</a></div><div class="ttdeci">Time maturity</div></div>
<div class="ttc" id="aclassore_1_1data_1_1_floating_leg_data_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_floating_leg_data.html">ore::data::FloatingLegData</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_trade_strike_html"><div class="ttname"><a href="../ored/classore_1_1data_1_1_trade_strike.html">ore::data::TradeStrike</a></div></div>
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.8.20
</small></address>
</body>
</html>
