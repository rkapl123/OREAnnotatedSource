<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>OREAnalytics: ShiftScenarioGenerator Class Reference</title>
<link href="https://fonts.googleapis.com/css?family=Merriweather+Sans|Open+Sans" rel="stylesheet">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="favicon.png">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="oreaextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname"><a href="http://opensourcerisk.org">
       <img src="logo-analytics@2x.png" alt="Logo" width="150" height="68" style="float: left; padding: 15px;"/></a>
   <div id="projectbrief">Reference manual - version 1.6</div>
   </div>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceore.html">ore</a></li><li class="navelem"><a class="el" href="namespaceore_1_1analytics.html">analytics</a></li><li class="navelem"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html">ShiftScenarioGenerator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classore_1_1analytics_1_1_shift_scenario_generator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ShiftScenarioGenerator Class Reference<div class="ingroups"><a class="el" href="group__scenario.html">Scenario</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Shift <a class="el" href="classore_1_1analytics_1_1_scenario.html" title="Scenario Base Class.">Scenario</a> Generator.  
 <a href="classore_1_1analytics_1_1_shift_scenario_generator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="shiftscenariogenerator_8hpp_source.html">orea/scenario/shiftscenariogenerator.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for ShiftScenarioGenerator:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_shift_scenario_generator__inherit__graph.png" border="0" usemap="#a_shift_scenario_generator_inherit__map" alt="Inheritance graph"/></div>
<map name="_shift_scenario_generator_inherit__map" id="a_shift_scenario_generator_inherit__map">
<area shape="rect" title="Shift Scenario Generator." alt="" coords="153,160,337,501"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html" title="Sensitivity Scenario Generator." alt="" coords="5,549,244,1067"/>
<area shape="rect" href="classore_1_1analytics_1_1_stress_scenario_generator.html" title="Stress Scenario Generator." alt="" coords="268,674,464,942"/>
<area shape="rect" href="classore_1_1analytics_1_1_scenario_generator.html" title="Scenario generator base class." alt="" coords="165,5,324,112"/>
</map>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for ShiftScenarioGenerator:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_shift_scenario_generator__coll__graph.png" border="0" usemap="#a_shift_scenario_generator_coll__map" alt="Collaboration graph"/></div>
<map name="_shift_scenario_generator_coll__map" id="a_shift_scenario_generator_coll__map">
<area shape="rect" title="Shift Scenario Generator." alt="" coords="513,1000,697,1253"/>
<area shape="rect" href="classore_1_1analytics_1_1_scenario_generator.html" title="Scenario generator base class." alt="" coords="5,831,164,937"/>
<area shape="rect" title=" " alt="" coords="126,559,299,651"/>
<area shape="rect" title=" " alt="" coords="334,831,481,937"/>
<area shape="rect" title="STL class." alt="" coords="324,566,411,643"/>
<area shape="rect" title=" " alt="" coords="661,831,825,937"/>
<area shape="rect" title=" " alt="" coords="273,132,312,209"/>
<area shape="rect" title="STL class." alt="" coords="360,287,455,364"/>
<area shape="rect" title=" " alt="" coords="1051,132,1099,209"/>
<area shape="rect" href="classore_1_1analytics_1_1_risk_factor_key.html" title="Data types stored in the scenario class." alt="" coords="726,272,854,379"/>
<area shape="rect" title=" " alt="" coords="1244,838,1467,930"/>
<area shape="rect" title=" " alt="" coords="455,551,597,658"/>
<area shape="rect" title=" " alt="" coords="720,559,908,651"/>
<area shape="rect" href="classore_1_1analytics_1_1_shift_scenario_generator_1_1_scenario_description.html" title=" " alt="" coords="932,456,1091,753"/>
<area shape="rect" title="STL class." alt="" coords="841,132,896,209"/>
<area shape="rect" title="STL class." alt="" coords="798,5,939,83"/>
<area shape="rect" title=" " alt="" coords="711,132,784,209"/>
<area shape="rect" title=" " alt="" coords="391,132,429,209"/>
<area shape="rect" title=" " alt="" coords="1118,287,1169,364"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator_1_1_scenario_description.html">ScenarioDescription</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae6645effb55b498ae924e935d438a900"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#ae6645effb55b498ae924e935d438a900">ShiftType</a> { <a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#ae6645effb55b498ae924e935d438a900ab51ca26c6c89cfc9bec338f7a0d3e0c8">Absolute</a>, 
<a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#ae6645effb55b498ae924e935d438a900a2ca9469819fb0fb61ff98e914a7ccca0">Relative</a>
 }</td></tr>
<tr class="separator:ae6645effb55b498ae924e935d438a900"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a00bf7f195a774729fb7ad8f18ebc7b7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a00bf7f195a774729fb7ad8f18ebc7b7b">ShiftScenarioGenerator</a> (const boost::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario.html">Scenario</a> &gt; &amp;<a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a8a3ed36f751a0476c663b8687f640cb9">baseScenario</a>, const boost::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario_sim_market_parameters.html">ScenarioSimMarketParameters</a> &gt; <a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a9fa1c3e52dd2282a94cb8df118e517dc">simMarketData_</a>)</td></tr>
<tr class="memdesc:a00bf7f195a774729fb7ad8f18ebc7b7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classore_1_1analytics_1_1_shift_scenario_generator.html#a00bf7f195a774729fb7ad8f18ebc7b7b">More...</a><br /></td></tr>
<tr class="separator:a00bf7f195a774729fb7ad8f18ebc7b7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90ccaf61d6d87298ffaaf5d5f4380c18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a90ccaf61d6d87298ffaaf5d5f4380c18">~ShiftScenarioGenerator</a> ()</td></tr>
<tr class="memdesc:a90ccaf61d6d87298ffaaf5d5f4380c18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor.  <a href="classore_1_1analytics_1_1_shift_scenario_generator.html#a90ccaf61d6d87298ffaaf5d5f4380c18">More...</a><br /></td></tr>
<tr class="separator:a90ccaf61d6d87298ffaaf5d5f4380c18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8455f6ca1dd482e8f7ed99ee51df20"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario.html">Scenario</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a1e8455f6ca1dd482e8f7ed99ee51df20">next</a> (const Date &amp;d)</td></tr>
<tr class="memdesc:a1e8455f6ca1dd482e8f7ed99ee51df20"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classore_1_1analytics_1_1_scenario.html" title="Scenario Base Class.">Scenario</a> Generator interface.  <a href="classore_1_1analytics_1_1_shift_scenario_generator.html#a1e8455f6ca1dd482e8f7ed99ee51df20">More...</a><br /></td></tr>
<tr class="separator:a1e8455f6ca1dd482e8f7ed99ee51df20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20897c5c8bd47f5d4005989bead0e55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a> ()</td></tr>
<tr class="memdesc:ad20897c5c8bd47f5d4005989bead0e55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the generator so calls to <a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a1e8455f6ca1dd482e8f7ed99ee51df20" title="Scenario Generator interface.">next()</a> return the first scenario.  <a href="classore_1_1analytics_1_1_shift_scenario_generator.html#ad20897c5c8bd47f5d4005989bead0e55">More...</a><br /></td></tr>
<tr class="separator:ad20897c5c8bd47f5d4005989bead0e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a7c043ee890f90833344b974888219c"><td class="memItemLeft" align="right" valign="top">Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a5a7c043ee890f90833344b974888219c">samples</a> ()</td></tr>
<tr class="memdesc:a5a7c043ee890f90833344b974888219c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inspectors.  <a href="classore_1_1analytics_1_1_shift_scenario_generator.html#a5a7c043ee890f90833344b974888219c">More...</a><br /></td></tr>
<tr class="separator:a5a7c043ee890f90833344b974888219c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a3ed36f751a0476c663b8687f640cb9"><td class="memItemLeft" align="right" valign="top">const boost::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario.html">Scenario</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a8a3ed36f751a0476c663b8687f640cb9">baseScenario</a> ()</td></tr>
<tr class="memdesc:a8a3ed36f751a0476c663b8687f640cb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the base scenario, i.e. cached initial values of all relevant market points.  <a href="classore_1_1analytics_1_1_shift_scenario_generator.html#a8a3ed36f751a0476c663b8687f640cb9">More...</a><br /></td></tr>
<tr class="separator:a8a3ed36f751a0476c663b8687f640cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5b33d520e515bfdaed355b9ff9577a2"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; boost::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario.html">Scenario</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#af5b33d520e515bfdaed355b9ff9577a2">scenarios</a> ()</td></tr>
<tr class="memdesc:af5b33d520e515bfdaed355b9ff9577a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return vector of sensitivity scenarios, scenario 0 is the base scenario.  <a href="classore_1_1analytics_1_1_shift_scenario_generator.html#af5b33d520e515bfdaed355b9ff9577a2">More...</a><br /></td></tr>
<tr class="separator:af5b33d520e515bfdaed355b9ff9577a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7bc22b25631f4259c369fc4dce7b2e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator_1_1_scenario_description.html">ScenarioDescription</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a9d7bc22b25631f4259c369fc4dce7b2e">scenarioDescriptions</a> ()</td></tr>
<tr class="memdesc:a9d7bc22b25631f4259c369fc4dce7b2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return vector of scenario descriptions.  <a href="classore_1_1analytics_1_1_shift_scenario_generator.html#a9d7bc22b25631f4259c369fc4dce7b2e">More...</a><br /></td></tr>
<tr class="separator:a9d7bc22b25631f4259c369fc4dce7b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43fe1862a4efc76364334053cbb2ec36"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">RiskFactorKey</a>, std::string &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a43fe1862a4efc76364334053cbb2ec36">keyToFactor</a> ()</td></tr>
<tr class="separator:a43fe1862a4efc76364334053cbb2ec36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac16618ae0fce4b9d145c8f43446c91f1"><td class="memItemLeft" align="right" valign="top">const std::map&lt; std::string, <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">RiskFactorKey</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#ac16618ae0fce4b9d145c8f43446c91f1">factorToKey</a> ()</td></tr>
<tr class="memdesc:ac16618ae0fce4b9d145c8f43446c91f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return revers map of factors to RiskFactorKeys.  <a href="classore_1_1analytics_1_1_shift_scenario_generator.html#ac16618ae0fce4b9d145c8f43446c91f1">More...</a><br /></td></tr>
<tr class="separator:ac16618ae0fce4b9d145c8f43446c91f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa50d390d6448fb5266f2ab758bb74861"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#aa50d390d6448fb5266f2ab758bb74861">applyShift</a> (Size j, Real shiftSize, bool up, <a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#ae6645effb55b498ae924e935d438a900">ShiftType</a> type, const vector&lt; Time &gt; &amp;shiftTimes, const vector&lt; Real &gt; &amp;values, const vector&lt; Time &gt; &amp;times, vector&lt; Real &gt; &amp;shiftedValues, bool initialise)</td></tr>
<tr class="memdesc:aa50d390d6448fb5266f2ab758bb74861"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply 1d triangular shift to 1d data such as yield curves, public to allow test suite access.  <a href="classore_1_1analytics_1_1_shift_scenario_generator.html#aa50d390d6448fb5266f2ab758bb74861">More...</a><br /></td></tr>
<tr class="separator:aa50d390d6448fb5266f2ab758bb74861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77053b98ca333f172cbf7f08d039d10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#af77053b98ca333f172cbf7f08d039d10">applyShift</a> (Size j, Size k, Real shiftSize, bool up, <a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#ae6645effb55b498ae924e935d438a900">ShiftType</a> type, const vector&lt; Time &gt; &amp;shiftX, const vector&lt; Time &gt; &amp;shiftY, const vector&lt; Time &gt; &amp;dataX, const vector&lt; Time &gt; &amp;dataY, const vector&lt; vector&lt; Real &gt;&gt; &amp;data, vector&lt; vector&lt; Real &gt;&gt; &amp;shiftedData, bool initialise)</td></tr>
<tr class="memdesc:af77053b98ca333f172cbf7f08d039d10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply 2d shift to 2d matrix such as swaption volatilities, public to allow test suite access.  <a href="classore_1_1analytics_1_1_shift_scenario_generator.html#af77053b98ca333f172cbf7f08d039d10">More...</a><br /></td></tr>
<tr class="separator:af77053b98ca333f172cbf7f08d039d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eda0d57e9d15d04efae1fc8dde70c99"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario.html">Scenario</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a9eda0d57e9d15d04efae1fc8dde70c99">baseScenario</a> () const</td></tr>
<tr class="memdesc:a9eda0d57e9d15d04efae1fc8dde70c99"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the base scenario  <a href="classore_1_1analytics_1_1_shift_scenario_generator.html#a9eda0d57e9d15d04efae1fc8dde70c99">More...</a><br /></td></tr>
<tr class="separator:a9eda0d57e9d15d04efae1fc8dde70c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classore_1_1analytics_1_1_scenario_generator"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classore_1_1analytics_1_1_scenario_generator')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classore_1_1analytics_1_1_scenario_generator.html">ScenarioGenerator</a></td></tr>
<tr class="memitem:a65106dd56b5c29535afa38ebf87e9349 inherit pub_methods_classore_1_1analytics_1_1_scenario_generator"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_scenario_generator.html#a65106dd56b5c29535afa38ebf87e9349">~ScenarioGenerator</a> ()</td></tr>
<tr class="memdesc:a65106dd56b5c29535afa38ebf87e9349 inherit pub_methods_classore_1_1analytics_1_1_scenario_generator"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor.  <a href="classore_1_1analytics_1_1_scenario_generator.html#a65106dd56b5c29535afa38ebf87e9349">More...</a><br /></td></tr>
<tr class="separator:a65106dd56b5c29535afa38ebf87e9349 inherit pub_methods_classore_1_1analytics_1_1_scenario_generator"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a8a42206bfb9d57d14fb8a25d841692ce"><td class="memItemLeft" align="right" valign="top">const boost::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario.html">Scenario</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a8a42206bfb9d57d14fb8a25d841692ce">baseScenario_</a></td></tr>
<tr class="separator:a8a42206bfb9d57d14fb8a25d841692ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fa1c3e52dd2282a94cb8df118e517dc"><td class="memItemLeft" align="right" valign="top">const boost::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario_sim_market_parameters.html">ScenarioSimMarketParameters</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a9fa1c3e52dd2282a94cb8df118e517dc">simMarketData_</a></td></tr>
<tr class="separator:a9fa1c3e52dd2282a94cb8df118e517dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630f885f7ed1c6d2ba55e098a810531c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; boost::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario.html">Scenario</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a630f885f7ed1c6d2ba55e098a810531c">scenarios_</a></td></tr>
<tr class="separator:a630f885f7ed1c6d2ba55e098a810531c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d14f45b152e5b6ee3b8711c6be79764"><td class="memItemLeft" align="right" valign="top">Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a6d14f45b152e5b6ee3b8711c6be79764">counter_</a></td></tr>
<tr class="separator:a6d14f45b152e5b6ee3b8711c6be79764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd85b6f8f58d6c5cf6f3ab6c040a41f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator_1_1_scenario_description.html">ScenarioDescription</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a0bd85b6f8f58d6c5cf6f3ab6c040a41f">scenarioDescriptions_</a></td></tr>
<tr class="separator:a0bd85b6f8f58d6c5cf6f3ab6c040a41f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a550b32664adc23116670df03e4b4ebce"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">RiskFactorKey</a>, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a550b32664adc23116670df03e4b4ebce">keyToFactor_</a></td></tr>
<tr class="separator:a550b32664adc23116670df03e4b4ebce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae283c71e6d637d6e3e1dedd3d3245b73"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">RiskFactorKey</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#ae283c71e6d637d6e3e1dedd3d3245b73">factorToKey_</a></td></tr>
<tr class="separator:ae283c71e6d637d6e3e1dedd3d3245b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Shift <a class="el" href="classore_1_1analytics_1_1_scenario.html" title="Scenario Base Class.">Scenario</a> Generator. </p>
<p>Base class for sensitivity and stress scenario generators </p>

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00043">43</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="ae6645effb55b498ae924e935d438a900"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6645effb55b498ae924e935d438a900">&#9670;&nbsp;</a></span>ShiftType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#ae6645effb55b498ae924e935d438a900">ShiftType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae6645effb55b498ae924e935d438a900ab51ca26c6c89cfc9bec338f7a0d3e0c8"></a>Absolute&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae6645effb55b498ae924e935d438a900a2ca9469819fb0fb61ff98e914a7ccca0"></a>Relative&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00045">45</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{ Absolute, Relative };</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a00bf7f195a774729fb7ad8f18ebc7b7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00bf7f195a774729fb7ad8f18ebc7b7b">&#9670;&nbsp;</a></span>ShiftScenarioGenerator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html">ShiftScenarioGenerator</a> </td>
          <td>(</td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario.html">Scenario</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>baseScenario</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario_sim_market_parameters.html">ScenarioSimMarketParameters</a> &gt;&#160;</td>
          <td class="paramname"><em>simMarketData_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>

<p class="definition">Definition at line <a class="el" href="orea_2scenario_2shiftscenariogenerator_8cpp_source.html#l00128">128</a> of file <a class="el" href="orea_2scenario_2shiftscenariogenerator_8cpp_source.html">shiftscenariogenerator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    : <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a8a42206bfb9d57d14fb8a25d841692ce">baseScenario_</a>(<a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a8a3ed36f751a0476c663b8687f640cb9">baseScenario</a>), <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a9fa1c3e52dd2282a94cb8df118e517dc">simMarketData_</a>(simMarketData), <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a6d14f45b152e5b6ee3b8711c6be79764">counter_</a>(0) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    QL_REQUIRE(<a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a8a42206bfb9d57d14fb8a25d841692ce">baseScenario_</a> != NULL, <span class="stringliteral">&quot;ShiftScenarioGenerator: baseScenario is null&quot;</span>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    QL_REQUIRE(<a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a9fa1c3e52dd2282a94cb8df118e517dc">simMarketData_</a> != NULL, <span class="stringliteral">&quot;ShiftScenarioGenerator: simMarketData is null&quot;</span>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a630f885f7ed1c6d2ba55e098a810531c">scenarios_</a>.push_back(<a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a8a42206bfb9d57d14fb8a25d841692ce">baseScenario_</a>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a0bd85b6f8f58d6c5cf6f3ab6c040a41f">scenarioDescriptions_</a>.push_back(ScenarioDescription(<a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator_1_1_scenario_description.html#a1d1cfd8ffb84e947f82999c682b666a7a095a1b43effec73955e31e790438de49">ScenarioDescription::Type::Base</a>));</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a90ccaf61d6d87298ffaaf5d5f4380c18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90ccaf61d6d87298ffaaf5d5f4380c18">&#9670;&nbsp;</a></span>~ShiftScenarioGenerator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html">ShiftScenarioGenerator</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default destructor. </p>

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00094">94</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{};</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1e8455f6ca1dd482e8f7ed99ee51df20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e8455f6ca1dd482e8f7ed99ee51df20">&#9670;&nbsp;</a></span>next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="el" href="classore_1_1analytics_1_1_scenario.html">Scenario</a> &gt; next </td>
          <td>(</td>
          <td class="paramtype">const Date &amp;&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classore_1_1analytics_1_1_scenario.html" title="Scenario Base Class.">Scenario</a> Generator interface. </p>

<p>Implements <a class="el" href="classore_1_1analytics_1_1_scenario_generator.html#a3c1bedd1f45aa803db0392b8156cec36">ScenarioGenerator</a>.</p>

<p class="definition">Definition at line <a class="el" href="orea_2scenario_2shiftscenariogenerator_8cpp_source.html#l00137">137</a> of file <a class="el" href="orea_2scenario_2shiftscenariogenerator_8cpp_source.html">shiftscenariogenerator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                                                    {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    QL_REQUIRE(<a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a6d14f45b152e5b6ee3b8711c6be79764">counter_</a> &lt; <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a630f885f7ed1c6d2ba55e098a810531c">scenarios_</a>.size(), <span class="stringliteral">&quot;scenario vector size &quot;</span> &lt;&lt; <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a630f885f7ed1c6d2ba55e098a810531c">scenarios_</a>.size() &lt;&lt; <span class="stringliteral">&quot; exceeded&quot;</span>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a630f885f7ed1c6d2ba55e098a810531c">scenarios_</a>[<a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a6d14f45b152e5b6ee3b8711c6be79764">counter_</a>++];</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad20897c5c8bd47f5d4005989bead0e55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad20897c5c8bd47f5d4005989bead0e55">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset the generator so calls to <a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a1e8455f6ca1dd482e8f7ed99ee51df20" title="Scenario Generator interface.">next()</a> return the first scenario. </p>
<p>This allows re-generation of scenarios if required. </p>

<p>Implements <a class="el" href="classore_1_1analytics_1_1_scenario_generator.html#a20dcbdfbd0ec77afc802522bb7e379c1">ScenarioGenerator</a>.</p>

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00099">99</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{ <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a6d14f45b152e5b6ee3b8711c6be79764">counter_</a> = 0; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a7c043ee890f90833344b974888219c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a7c043ee890f90833344b974888219c">&#9670;&nbsp;</a></span>samples()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Size samples </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inspectors. </p>
<p>Number of shift scenarios </p>

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00105">105</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a630f885f7ed1c6d2ba55e098a810531c">scenarios_</a>.size(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a3ed36f751a0476c663b8687f640cb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a3ed36f751a0476c663b8687f640cb9">&#9670;&nbsp;</a></span>baseScenario() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const boost::shared_ptr&lt;<a class="el" href="classore_1_1analytics_1_1_scenario.html">Scenario</a>&gt;&amp; baseScenario </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the base scenario, i.e. cached initial values of all relevant market points. </p>

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00107">107</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a630f885f7ed1c6d2ba55e098a810531c">scenarios_</a>.front(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af5b33d520e515bfdaed355b9ff9577a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5b33d520e515bfdaed355b9ff9577a2">&#9670;&nbsp;</a></span>scenarios()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;boost::shared_ptr&lt;<a class="el" href="classore_1_1analytics_1_1_scenario.html">Scenario</a>&gt; &gt;&amp; scenarios </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return vector of sensitivity scenarios, scenario 0 is the base scenario. </p>

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00109">109</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a630f885f7ed1c6d2ba55e098a810531c">scenarios_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d7bc22b25631f4259c369fc4dce7b2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d7bc22b25631f4259c369fc4dce7b2e">&#9670;&nbsp;</a></span>scenarioDescriptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator_1_1_scenario_description.html">ScenarioDescription</a>&gt; scenarioDescriptions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return vector of scenario descriptions. </p>

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00111">111</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a0bd85b6f8f58d6c5cf6f3ab6c040a41f">scenarioDescriptions_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a43fe1862a4efc76364334053cbb2ec36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43fe1862a4efc76364334053cbb2ec36">&#9670;&nbsp;</a></span>keyToFactor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::map&lt;<a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">RiskFactorKey</a>, std::string&gt;&amp; keyToFactor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00113">113</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a550b32664adc23116670df03e4b4ebce">keyToFactor_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac16618ae0fce4b9d145c8f43446c91f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac16618ae0fce4b9d145c8f43446c91f1">&#9670;&nbsp;</a></span>factorToKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::map&lt;std::string, <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">RiskFactorKey</a>&gt;&amp; factorToKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return revers map of factors to RiskFactorKeys. </p>

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00115">115</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#ae283c71e6d637d6e3e1dedd3d3245b73">factorToKey_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa50d390d6448fb5266f2ab758bb74861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa50d390d6448fb5266f2ab758bb74861">&#9670;&nbsp;</a></span>applyShift() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void applyShift </td>
          <td>(</td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>shiftSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>up</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#ae6645effb55b498ae924e935d438a900">ShiftType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; Time &gt; &amp;&#160;</td>
          <td class="paramname"><em>shiftTimes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; Time &gt; &amp;&#160;</td>
          <td class="paramname"><em>times</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>shiftedValues</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>initialise</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply 1d triangular shift to 1d data such as yield curves, public to allow test suite access. </p>
<p>Apply triangular shaped shifts to the underlying curve where the triangle reaches from the previous to the next shift tenor point with peak at the current shift tenor point. At the initial and final shift tenor the shape is replaced such that the full shift is applied to all curve grid points to the left of the first shift point and to the right of the last shift point, respectively. The procedure guarantees that no sensitivity to original curve points is "missed" when the shift curve is less granular, e.g. original curve |...|...|...|...|...|...|...|...|...| shift curve ......|...........|...........|...... </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">j</td><td>Number of the shift curve tenor point to be shifted here </td></tr>
    <tr><td class="paramname">shiftSize</td><td>Shift size interpreted as either absolute or relative shift </td></tr>
    <tr><td class="paramname">up</td><td>Upwards shift if true, otherwise downwards </td></tr>
    <tr><td class="paramname">type</td><td>Absolute: newValue = oldValue + shiftSize. Relative: newValue = oldValue * (1 + shiftSize) </td></tr>
    <tr><td class="paramname">shiftTimes</td><td>Shift tenors expressed as times </td></tr>
    <tr><td class="paramname">values</td><td>Input curve values such as zero rates </td></tr>
    <tr><td class="paramname">times</td><td>Tenor points of the input curve, expressed as times </td></tr>
    <tr><td class="paramname">shiftedValues</td><td>Resulting shifted curve with same tenor structure as the input curve </td></tr>
    <tr><td class="paramname">initialise</td><td>Initialise shiftedValues vector before applying this shift j (yes for sensitivity, no for stress) </td></tr>
  </table>
  </dd>
</dl>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classore_1_1analytics_1_1_shift_scenario_generator_aa50d390d6448fb5266f2ab758bb74861_icgraph.png" border="0" usemap="#aclassore_1_1analytics_1_1_shift_scenario_generator_aa50d390d6448fb5266f2ab758bb74861_icgraph" alt=""/></div>
<map name="classore_1_1analytics_1_1_shift_scenario_generator_aa50d390d6448fb5266f2ab758bb74861_icgraph" id="aclassore_1_1analytics_1_1_shift_scenario_generator_aa50d390d6448fb5266f2ab758bb74861_icgraph">
<area shape="rect" title="Apply 1d triangular shift to 1d data such as yield curves, public to allow test suite access." alt="" coords="1204,691,1283,718"/>
<area shape="rect" href="classore_1_1analytics_1_1_stress_scenario_generator.html#a5df2767959a0d5a897da4f908ad679c9" title=" " alt="" coords="921,5,1133,47"/>
<area shape="rect" href="classore_1_1analytics_1_1_stress_scenario_generator.html#ad936878b327a44c86f5278ae77d5a16c" title=" " alt="" coords="915,71,1139,112"/>
<area shape="rect" href="classore_1_1analytics_1_1_stress_scenario_generator.html#a7da9a24124c4b8d128be87fbd39d354b" title=" " alt="" coords="929,136,1126,177"/>
<area shape="rect" href="classore_1_1analytics_1_1_stress_scenario_generator.html#a0f0f69243f60df3e4eb821521a78c870" title=" " alt="" coords="929,201,1126,243"/>
<area shape="rect" href="classore_1_1analytics_1_1_stress_scenario_generator.html#abd5af81367c023d7437e0deac6154c45" title=" " alt="" coords="925,267,1129,308"/>
<area shape="rect" href="classore_1_1analytics_1_1_stress_scenario_generator.html#ade9bf5324bb6b2b9e8cfab703421cdcd" title=" " alt="" coords="921,332,1134,373"/>
<area shape="rect" href="classore_1_1analytics_1_1_stress_scenario_generator.html#abcb43c342d57c32a399adff768284b61" title=" " alt="" coords="926,397,1129,439"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#a8d59ef3dc24cdb6a4306230119a9185b" title=" " alt="" coords="614,235,833,291"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#a4f67d3089b1f5d7d05f72b726bbcb847" title=" " alt="" coords="603,315,843,371"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#aad9b9dbc48ccb62b71c9bcf0bc1f5db8" title=" " alt="" coords="608,395,839,451"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#a5909315dd0dd00c38ebb9401f016381c" title=" " alt="" coords="596,475,851,531"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#ae8c23507e58896ff857af151365a6015" title=" " alt="" coords="596,555,851,611"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#af7514f26c1f3e6e7803bcdb96d81ec6f" title=" " alt="" coords="598,635,849,691"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#a9c63287e5bf9685a9b0863c941f7f2c1" title=" " alt="" coords="604,715,843,771"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#ae936b20b7f07f4a58b3c8c563a033b72" title=" " alt="" coords="605,795,841,851"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#a7b50a26e6b152bbcdaf05d9733016430" title=" " alt="" coords="611,875,836,931"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#ad782034ca45729d5c04df8b80e2206f4" title=" " alt="" coords="612,955,835,1011"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#aa15d0f2e93f0677d51e215ed114e4014" title=" " alt="" coords="911,1013,1144,1069"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#a3ba51e2d1738678433fa86a6cc862027" title=" " alt="" coords="614,1195,833,1251"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#ad33b9fbcfde02400f5807edf18326ce8" title=" " alt="" coords="912,1143,1143,1199"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#a650b13cc30c1c0cb72ab4dbb60c90db1" title=" " alt="" coords="919,1223,1136,1279"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#a16e5241dfb0b21ac043e2e32a22374f6" title=" " alt="" coords="899,1303,1156,1359"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#a2cb7749581f38e7c3e5eae03657d6d33" title=" " alt="" coords="899,1383,1156,1439"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#a3ac8a9ece30efe88a9131963f851d176" title=" " alt="" coords="921,1463,1134,1519"/>
<area shape="rect" href="classore_1_1analytics_1_1_stress_scenario_generator.html#aa62ece5f85b43378ea6ad94a43f74ee4" title=" " alt="" coords="625,169,822,211"/>
<area shape="rect" href="classore_1_1analytics_1_1_stress_scenario_generator.html#aff33ad8135983d32bca6201c2e3032a0" title="Constructor." alt="" coords="308,169,541,211"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#aa62ece5f85b43378ea6ad94a43f74ee4" title=" " alt="" coords="301,923,548,964"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#a0584afd815f15dddc240dbb9d39b16f2" title="Constructor." alt="" coords="5,915,253,971"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#a2f0155590944e309a2706b53ee0b963e" title=" " alt="" coords="603,1035,844,1091"/>
<area shape="rect" href="classore_1_1analytics_1_1_sensitivity_scenario_generator.html#a9945e729ab6796e7d826f5d1b2fac3c6" title=" " alt="" coords="615,1115,832,1171"/>
</map>
</div>

</div>
</div>
<a id="af77053b98ca333f172cbf7f08d039d10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af77053b98ca333f172cbf7f08d039d10">&#9670;&nbsp;</a></span>applyShift() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void applyShift </td>
          <td>(</td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>shiftSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>up</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#ae6645effb55b498ae924e935d438a900">ShiftType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; Time &gt; &amp;&#160;</td>
          <td class="paramname"><em>shiftX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; Time &gt; &amp;&#160;</td>
          <td class="paramname"><em>shiftY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; Time &gt; &amp;&#160;</td>
          <td class="paramname"><em>dataX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; Time &gt; &amp;&#160;</td>
          <td class="paramname"><em>dataY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; vector&lt; Real &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; vector&lt; Real &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>shiftedData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>initialise</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply 2d shift to 2d matrix such as swaption volatilities, public to allow test suite access. </p>
<p>This is the 2d generalisation of the 1d version of <a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator.html#aa50d390d6448fb5266f2ab758bb74861" title="Apply 1d triangular shift to 1d data such as yield curves, public to allow test suite access.">applyShift()</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">j</td><td><a class="elRef" href="../qle/class_index.html">Index</a> of the shift tenor in "expiry" direction </td></tr>
    <tr><td class="paramname">k</td><td><a class="elRef" href="../qle/class_index.html">Index</a> of the shift tenor in "term" (Swaptions) or "strike" (Caps) direction </td></tr>
    <tr><td class="paramname">shiftSize</td><td>Shift size interpreted as either absolute or relative shift </td></tr>
    <tr><td class="paramname">up</td><td>Upwards shift if true, otherwise downwards </td></tr>
    <tr><td class="paramname">type</td><td>Absolute: newValue = oldValue + shiftSize. Relative: newValue = oldValue * (1 + shiftSize) </td></tr>
    <tr><td class="paramname">shiftX</td><td>Coordinate time in "expiry" direction of the shift curve </td></tr>
    <tr><td class="paramname">shiftY</td><td>Coordinate time in "term" or "strike" direction of the shift curve </td></tr>
    <tr><td class="paramname">dataX</td><td>Coordinate time in "expiry" direction of the underlying data </td></tr>
    <tr><td class="paramname">dataY</td><td>Coordinate time in "term" or "strike" direction of the underlying data </td></tr>
    <tr><td class="paramname">data</td><td>Matrix of input data </td></tr>
    <tr><td class="paramname">shiftedData</td><td>Matrix of shifted result data </td></tr>
    <tr><td class="paramname">initialise</td><td>Initialise shiftedData vector before applying this shift j/k (yes for sensitivity, no for stress) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="orea_2scenario_2shiftscenariogenerator_8cpp_source.html#l00272">272</a> of file <a class="el" href="orea_2scenario_2shiftscenariogenerator_8cpp_source.html">shiftscenariogenerator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                                                         {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    QL_REQUIRE(shiftX.size() &gt;= 1 &amp;&amp; shiftY.size() &gt;= 1, <span class="stringliteral">&quot;shift vector size &gt;= 1 reqired&quot;</span>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    QL_REQUIRE(i &lt; shiftX.size(), <span class="stringliteral">&quot;index i out of range&quot;</span>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    QL_REQUIRE(j &lt; shiftY.size(), <span class="stringliteral">&quot;index j out of range&quot;</span>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// initalise the shifted data</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span> (initialise) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">for</span> (Size k = 0; k &lt; dataX.size(); ++k) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">for</span> (Size l = 0; l &lt; dataY.size(); ++l)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                shiftedData[k][l] = data[k][l];</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// single shift point means parallel shift</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">if</span> (shiftX.size() == 1 &amp;&amp; shiftY.size() == 1) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        Real w = up ? 1.0 : -1.0;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">for</span> (Size k = 0; k &lt; dataX.size(); ++k) {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">for</span> (Size l = 0; l &lt; dataY.size(); ++l) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <span class="keywordflow">if</span> (shiftType == <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#ae6645effb55b498ae924e935d438a900ab51ca26c6c89cfc9bec338f7a0d3e0c8">ShiftType::Absolute</a>)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    shiftedData[k][l] += w * shiftSize;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                    shiftedData[k][l] *= (1.0 + w * shiftSize);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    Size iMax = shiftX.size() - 1;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    Size jMax = shiftY.size() - 1;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    Real tx = shiftX[i];</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    Real ty = shiftY[j];</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    Real tx1 = i &gt; 0 ? shiftX[i - 1] : QL_MAX_REAL;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    Real ty1 = j &gt; 0 ? shiftY[j - 1] : QL_MAX_REAL;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    Real tx2 = i &lt; iMax ? shiftX[i + 1] : -QL_MAX_REAL;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    Real ty2 = j &lt; jMax ? shiftY[j + 1] : -QL_MAX_REAL;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">for</span> (Size ix = 0; ix &lt; dataX.size(); ++ix) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        Real x = dataX[ix];</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">for</span> (Size iy = 0; iy &lt; dataY.size(); ++iy) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            Real y = dataY[iy];</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            Real wx = 0.0;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            Real wy = 0.0;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordflow">if</span> (x &gt;= tx &amp;&amp; x &lt;= tx2 &amp;&amp; y &gt;= ty &amp;&amp; y &lt;= ty2) {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                wx = (tx2 - x) / (tx2 - tx);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                wy = (ty2 - y) / (ty2 - ty);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &gt;= tx &amp;&amp; x &lt;= tx2 &amp;&amp; y &gt;= ty1 &amp;&amp; y &lt;= ty) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                wx = (tx2 - x) / (tx2 - tx);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                wy = (y - ty1) / (ty - ty1);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &gt;= tx1 &amp;&amp; x &lt;= tx &amp;&amp; y &gt;= ty1 &amp;&amp; y &lt;= ty) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                wx = (x - tx1) / (tx - tx1);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                wy = (y - ty1) / (ty - ty1);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &gt;= tx1 &amp;&amp; x &lt;= tx &amp;&amp; y &gt;= ty &amp;&amp; y &lt;= ty2) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                wx = (x - tx1) / (tx - tx1);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                wy = (ty2 - y) / (ty2 - ty);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((x &lt;= tx &amp;&amp; i == 0 &amp;&amp; y &lt; ty &amp;&amp; j == 0) || (x &lt;= tx &amp;&amp; i == 0 &amp;&amp; y &gt;= ty &amp;&amp; j == jMax) ||</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                       (x &gt;= tx &amp;&amp; i == iMax &amp;&amp; y &gt;= ty &amp;&amp; j == jMax) || (x &gt;= tx &amp;&amp; i == iMax &amp;&amp; y &lt; ty &amp;&amp; j == 0)) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                wx = 1.0;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                wy = 1.0;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((x &lt;= tx &amp;&amp; i == 0) || (x &gt;= tx &amp;&amp; i == iMax)) &amp;&amp; y &gt;= ty1 &amp;&amp; y &lt;= ty) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                wx = 1.0;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                wy = (y - ty1) / (ty - ty1);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((x &lt;= tx &amp;&amp; i == 0) || (x &gt;= tx &amp;&amp; i == iMax)) &amp;&amp; y &gt;= ty &amp;&amp; y &lt;= ty2) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                wx = 1.0;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                wy = (ty2 - y) / (ty2 - ty);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &gt;= tx1 &amp;&amp; x &lt;= tx &amp;&amp; ((y &lt; ty &amp;&amp; j == 0) || (y &gt;= ty &amp;&amp; j == jMax))) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                wx = (x - tx1) / (tx - tx1);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                wy = 1.0;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &gt;= tx &amp;&amp; x &lt;= tx2 &amp;&amp; ((y &lt; ty &amp;&amp; j == 0) || (y &gt;= ty &amp;&amp; j == jMax))) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                wx = (tx2 - x) / (tx2 - tx);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                wy = 1.0;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            QL_REQUIRE(wx &gt;= 0.0 &amp;&amp; wx &lt;= 1.0, <span class="stringliteral">&quot;wx out of range&quot;</span>);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            QL_REQUIRE(wy &gt;= 0.0 &amp;&amp; wy &lt;= 1.0, <span class="stringliteral">&quot;wy out of range&quot;</span>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            Real w = up ? 1.0 : -1.0;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keywordflow">if</span> (shiftType == <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#ae6645effb55b498ae924e935d438a900ab51ca26c6c89cfc9bec338f7a0d3e0c8">ShiftType::Absolute</a>)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                shiftedData[ix][iy] += w * wx * wy * shiftSize;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                shiftedData[ix][iy] *= (1.0 + w * wx * wy * shiftSize);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9eda0d57e9d15d04efae1fc8dde70c99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eda0d57e9d15d04efae1fc8dde70c99">&#9670;&nbsp;</a></span>baseScenario() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="classore_1_1analytics_1_1_scenario.html">Scenario</a>&gt; baseScenario </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return the base scenario </p>

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00181">181</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classore_1_1analytics_1_1_shift_scenario_generator.html#a630f885f7ed1c6d2ba55e098a810531c">scenarios_</a>.front(); }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8a42206bfb9d57d14fb8a25d841692ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a42206bfb9d57d14fb8a25d841692ce">&#9670;&nbsp;</a></span>baseScenario_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const boost::shared_ptr&lt;<a class="el" href="classore_1_1analytics_1_1_scenario.html">Scenario</a>&gt; baseScenario_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00184">184</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>

</div>
</div>
<a id="a9fa1c3e52dd2282a94cb8df118e517dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fa1c3e52dd2282a94cb8df118e517dc">&#9670;&nbsp;</a></span>simMarketData_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const boost::shared_ptr&lt;<a class="el" href="classore_1_1analytics_1_1_scenario_sim_market_parameters.html">ScenarioSimMarketParameters</a>&gt; simMarketData_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00185">185</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>

</div>
</div>
<a id="a630f885f7ed1c6d2ba55e098a810531c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a630f885f7ed1c6d2ba55e098a810531c">&#9670;&nbsp;</a></span>scenarios_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;boost::shared_ptr&lt;<a class="el" href="classore_1_1analytics_1_1_scenario.html">Scenario</a>&gt; &gt; scenarios_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00186">186</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>

</div>
</div>
<a id="a6d14f45b152e5b6ee3b8711c6be79764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d14f45b152e5b6ee3b8711c6be79764">&#9670;&nbsp;</a></span>counter_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Size counter_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00187">187</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>

</div>
</div>
<a id="a0bd85b6f8f58d6c5cf6f3ab6c040a41f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd85b6f8f58d6c5cf6f3ab6c040a41f">&#9670;&nbsp;</a></span>scenarioDescriptions_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classore_1_1analytics_1_1_shift_scenario_generator_1_1_scenario_description.html">ScenarioDescription</a>&gt; scenarioDescriptions_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00188">188</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>

</div>
</div>
<a id="a550b32664adc23116670df03e4b4ebce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a550b32664adc23116670df03e4b4ebce">&#9670;&nbsp;</a></span>keyToFactor_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">RiskFactorKey</a>, std::string&gt; keyToFactor_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00190">190</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>

</div>
</div>
<a id="ae283c71e6d637d6e3e1dedd3d3245b73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae283c71e6d637d6e3e1dedd3d3245b73">&#9670;&nbsp;</a></span>factorToKey_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, <a class="el" href="classore_1_1analytics_1_1_risk_factor_key.html">RiskFactorKey</a>&gt; factorToKey_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="shiftscenariogenerator_8hpp_source.html#l00192">192</a> of file <a class="el" href="shiftscenariogenerator_8hpp_source.html">shiftscenariogenerator.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="aclassore_1_1analytics_1_1_shift_scenario_generator_html_a8a42206bfb9d57d14fb8a25d841692ce"><div class="ttname"><a href="classore_1_1analytics_1_1_shift_scenario_generator.html#a8a42206bfb9d57d14fb8a25d841692ce">ore::analytics::ShiftScenarioGenerator::baseScenario_</a></div><div class="ttdeci">const boost::shared_ptr&lt; Scenario &gt; baseScenario_</div><div class="ttdef"><b>Definition:</b> <a href="shiftscenariogenerator_8hpp_source.html#l00184">shiftscenariogenerator.hpp:184</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_shift_scenario_generator_html_ae6645effb55b498ae924e935d438a900ab51ca26c6c89cfc9bec338f7a0d3e0c8"><div class="ttname"><a href="classore_1_1analytics_1_1_shift_scenario_generator.html#ae6645effb55b498ae924e935d438a900ab51ca26c6c89cfc9bec338f7a0d3e0c8">ore::analytics::ShiftScenarioGenerator::ShiftType::Absolute</a></div><div class="ttdeci">@ Absolute</div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_shift_scenario_generator_html_a9fa1c3e52dd2282a94cb8df118e517dc"><div class="ttname"><a href="classore_1_1analytics_1_1_shift_scenario_generator.html#a9fa1c3e52dd2282a94cb8df118e517dc">ore::analytics::ShiftScenarioGenerator::simMarketData_</a></div><div class="ttdeci">const boost::shared_ptr&lt; ScenarioSimMarketParameters &gt; simMarketData_</div><div class="ttdef"><b>Definition:</b> <a href="shiftscenariogenerator_8hpp_source.html#l00185">shiftscenariogenerator.hpp:185</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_shift_scenario_generator_html_ae283c71e6d637d6e3e1dedd3d3245b73"><div class="ttname"><a href="classore_1_1analytics_1_1_shift_scenario_generator.html#ae283c71e6d637d6e3e1dedd3d3245b73">ore::analytics::ShiftScenarioGenerator::factorToKey_</a></div><div class="ttdeci">std::map&lt; std::string, RiskFactorKey &gt; factorToKey_</div><div class="ttdef"><b>Definition:</b> <a href="shiftscenariogenerator_8hpp_source.html#l00192">shiftscenariogenerator.hpp:192</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_shift_scenario_generator_1_1_scenario_description_html_a1d1cfd8ffb84e947f82999c682b666a7a095a1b43effec73955e31e790438de49"><div class="ttname"><a href="classore_1_1analytics_1_1_shift_scenario_generator_1_1_scenario_description.html#a1d1cfd8ffb84e947f82999c682b666a7a095a1b43effec73955e31e790438de49">ore::analytics::ShiftScenarioGenerator::ScenarioDescription::Type::Base</a></div><div class="ttdeci">@ Base</div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_shift_scenario_generator_html_a550b32664adc23116670df03e4b4ebce"><div class="ttname"><a href="classore_1_1analytics_1_1_shift_scenario_generator.html#a550b32664adc23116670df03e4b4ebce">ore::analytics::ShiftScenarioGenerator::keyToFactor_</a></div><div class="ttdeci">std::map&lt; RiskFactorKey, std::string &gt; keyToFactor_</div><div class="ttdef"><b>Definition:</b> <a href="shiftscenariogenerator_8hpp_source.html#l00190">shiftscenariogenerator.hpp:190</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_shift_scenario_generator_html_a0bd85b6f8f58d6c5cf6f3ab6c040a41f"><div class="ttname"><a href="classore_1_1analytics_1_1_shift_scenario_generator.html#a0bd85b6f8f58d6c5cf6f3ab6c040a41f">ore::analytics::ShiftScenarioGenerator::scenarioDescriptions_</a></div><div class="ttdeci">std::vector&lt; ScenarioDescription &gt; scenarioDescriptions_</div><div class="ttdef"><b>Definition:</b> <a href="shiftscenariogenerator_8hpp_source.html#l00188">shiftscenariogenerator.hpp:188</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_shift_scenario_generator_html_a6d14f45b152e5b6ee3b8711c6be79764"><div class="ttname"><a href="classore_1_1analytics_1_1_shift_scenario_generator.html#a6d14f45b152e5b6ee3b8711c6be79764">ore::analytics::ShiftScenarioGenerator::counter_</a></div><div class="ttdeci">Size counter_</div><div class="ttdef"><b>Definition:</b> <a href="shiftscenariogenerator_8hpp_source.html#l00187">shiftscenariogenerator.hpp:187</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_shift_scenario_generator_html_a630f885f7ed1c6d2ba55e098a810531c"><div class="ttname"><a href="classore_1_1analytics_1_1_shift_scenario_generator.html#a630f885f7ed1c6d2ba55e098a810531c">ore::analytics::ShiftScenarioGenerator::scenarios_</a></div><div class="ttdeci">std::vector&lt; boost::shared_ptr&lt; Scenario &gt; &gt; scenarios_</div><div class="ttdef"><b>Definition:</b> <a href="shiftscenariogenerator_8hpp_source.html#l00186">shiftscenariogenerator.hpp:186</a></div></div>
<div class="ttc" id="aclassore_1_1analytics_1_1_shift_scenario_generator_html_a8a3ed36f751a0476c663b8687f640cb9"><div class="ttname"><a href="classore_1_1analytics_1_1_shift_scenario_generator.html#a8a3ed36f751a0476c663b8687f640cb9">ore::analytics::ShiftScenarioGenerator::baseScenario</a></div><div class="ttdeci">const boost::shared_ptr&lt; Scenario &gt; &amp; baseScenario()</div><div class="ttdoc">Return the base scenario, i.e. cached initial values of all relevant market points.</div><div class="ttdef"><b>Definition:</b> <a href="shiftscenariogenerator_8hpp_source.html#l00107">shiftscenariogenerator.hpp:107</a></div></div>
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.8.20
</small></address>
</body>
</html>
