<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<title>QuantExt: DefaultLatentModel&lt; copulaPolicy &gt; Class Template Reference</title>
<link href="https://fonts.googleapis.com/css?family=Merriweather+Sans|Open+Sans" rel="stylesheet">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="favicon.png">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="quantextextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname"><a href="https://rkapl123.github.io/OREAnnotatedSource/">
       <img src="logo-qle@2x.png" alt="Logo" width="150" height="68" style="float: left; padding: 15px;"/></a>
   <div id="projectbrief">Fully annotated reference manual - version 1.8.11</div>
   </div>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_quant_ext.html">QuantExt</a></li><li class="navelem"><a class="el" href="class_quant_ext_1_1_default_latent_model.html">DefaultLatentModel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="class_quant_ext_1_1_default_latent_model-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">DefaultLatentModel&lt; copulaPolicy &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Default event Latent Model.  
 <a href="class_quant_ext_1_1_default_latent_model.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">qle/models/defaultprobabilitylatentmodel.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for DefaultLatentModel&lt; copulaPolicy &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_default_latent_model__inherit__graph.png" border="0" usemap="#a_default_latent_model_3_01copula_policy_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="a_default_latent_model_3_01copula_policy_01_4_inherit__map" id="a_default_latent_model_3_01copula_policy_01_4_inherit__map">
<area shape="rect" title="Default event Latent Model." alt="" coords="105,93,328,383"/>
<area shape="rect" href="class_quant_ext_1_1_constant_loss_latentmodel.html" title=" " alt="" coords="5,482,201,669"/>
<area shape="rect" href="class_quant_ext_1_1_extended_constant_loss_latent_model.html" title=" " alt="" coords="226,431,434,720"/>
<area shape="rect" href="class_latent_model.html" title=" " alt="" coords="119,5,314,45"/>
<area shape="rect" href="class_quant_ext_1_1_constant_loss_model.html" title=" " alt="" coords="22,768,185,911"/>
<area shape="rect" href="class_quant_ext_1_1_extended_constant_loss_model.html" title=" " alt="" coords="221,768,439,911"/>
</map>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for DefaultLatentModel&lt; copulaPolicy &gt;:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_default_latent_model__coll__graph.png" border="0" usemap="#a_default_latent_model_3_01copula_policy_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="a_default_latent_model_3_01copula_policy_01_4_coll__map" id="a_default_latent_model_3_01copula_policy_01_4_coll__map">
<area shape="rect" title="Default event Latent Model." alt="" coords="190,123,413,383"/>
<area shape="rect" href="class_latent_model.html" title=" " alt="" coords="5,13,200,53"/>
<area shape="rect" title=" " alt="" coords="224,5,379,60"/>
<area shape="rect" title=" " alt="" coords="403,13,592,53"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a019be29faf648e301108d06cc4ddfac9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#a019be29faf648e301108d06cc4ddfac9">DefaultLatentModel</a> (const std::vector&lt; std::vector&lt; Real &gt; &gt; &amp;factorWeights, LatentModelIntegrationType::LatentModelIntegrationType integralType, const <a class="el" href="class_quant_ext_1_1_default_latent_model.html#abd0a297b55c09cecea3c91a955982388">initTraits</a> &amp;ini=<a class="el" href="class_quant_ext_1_1_default_latent_model.html#abd0a297b55c09cecea3c91a955982388">initTraits</a>())</td></tr>
<tr class="separator:a019be29faf648e301108d06cc4ddfac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a635bfeb56a6c5defe63fddb904cb7f49"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#a635bfeb56a6c5defe63fddb904cb7f49">DefaultLatentModel</a> (const Handle&lt; Quote &gt; &amp;mktCorrel, Size nVariables, LatentModelIntegrationType::LatentModelIntegrationType integralType, const <a class="el" href="class_quant_ext_1_1_default_latent_model.html#abd0a297b55c09cecea3c91a955982388">initTraits</a> &amp;ini=<a class="el" href="class_quant_ext_1_1_default_latent_model.html#abd0a297b55c09cecea3c91a955982388">initTraits</a>())</td></tr>
<tr class="separator:a635bfeb56a6c5defe63fddb904cb7f49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a513b24e8014c2a5eae409abdf3de99f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#a513b24e8014c2a5eae409abdf3de99f6">resetBasket</a> (const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_basket.html">Basket</a> &gt; basket) const</td></tr>
<tr class="separator:a513b24e8014c2a5eae409abdf3de99f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ecfe2190404d92a4641d3478d82c067"><td class="memItemLeft" align="right" valign="top">Probability&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#a5ecfe2190404d92a4641d3478d82c067">conditionalDefaultProbability</a> (Probability prob, Size iName, const std::vector&lt; Real &gt; &amp;mktFactors) const</td></tr>
<tr class="separator:a5ecfe2190404d92a4641d3478d82c067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb0d6e75705e728822e13e88c5b77921"><td class="memItemLeft" align="right" valign="top">Probability&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#aeb0d6e75705e728822e13e88c5b77921">conditionalDefaultProbabilityInvP</a> (Real invCumYProb, Size iName, const std::vector&lt; Real &gt; &amp;m) const</td></tr>
<tr class="separator:aeb0d6e75705e728822e13e88c5b77921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7f95052edaf9cea322b6e931ad72f0a"><td class="memItemLeft" align="right" valign="top">Probability&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#ab7f95052edaf9cea322b6e931ad72f0a">probOfDefault</a> (Size iName, const Date &amp;d) const</td></tr>
<tr class="separator:ab7f95052edaf9cea322b6e931ad72f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae6f7a617ee77e605f36fb250fe985b"><td class="memItemLeft" align="right" valign="top">Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#a8ae6f7a617ee77e605f36fb250fe985b">defaultCorrelation</a> (const Date &amp;d, Size iNamei, Size iNamej) const</td></tr>
<tr class="separator:a8ae6f7a617ee77e605f36fb250fe985b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea4623559adf69f35c874f9f6ae3e7d6"><td class="memItemLeft" align="right" valign="top">Probability&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#aea4623559adf69f35c874f9f6ae3e7d6">probAtLeastNEvents</a> (Size n, const Date &amp;date) const</td></tr>
<tr class="separator:aea4623559adf69f35c874f9f6ae3e7d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a44137bb65de2396875934e48a6ee5099"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#a44137bb65de2396875934e48a6ee5099">update</a> () override</td></tr>
<tr class="separator:a44137bb65de2396875934e48a6ee5099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5034d127b501f9abe630adc9cbe89b8a"><td class="memItemLeft" align="right" valign="top">Probability&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#a5034d127b501f9abe630adc9cbe89b8a">conditionalDefaultProbability</a> (const Date &amp;date, Size iName, const std::vector&lt; Real &gt; &amp;mktFactors) const</td></tr>
<tr class="separator:a5034d127b501f9abe630adc9cbe89b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b5c6708a14f029c027a2ce8586ce9d7"><td class="memItemLeft" align="right" valign="top">Probability&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#a1b5c6708a14f029c027a2ce8586ce9d7">condProbProduct</a> (Real invCumYProb1, Real invCumYProb2, Size iName1, Size iName2, const std::vector&lt; Real &gt; &amp;mktFactors) const</td></tr>
<tr class="separator:a1b5c6708a14f029c027a2ce8586ce9d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f97bf936a88d090a2bca06a71259f62"><td class="memItemLeft" align="right" valign="top">Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#a8f97bf936a88d090a2bca06a71259f62">conditionalProbAtLeastNEvents</a> (Size n, const Date &amp;date, const std::vector&lt; Real &gt; &amp;mktFactors) const</td></tr>
<tr class="memdesc:a8f97bf936a88d090a2bca06a71259f62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Conditional probability of n default events or more.  <a href="class_quant_ext_1_1_default_latent_model.html#a8f97bf936a88d090a2bca06a71259f62">More...</a><br /></td></tr>
<tr class="separator:a8f97bf936a88d090a2bca06a71259f62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7b1e019fc16bf85ba24a1677cd94b0e"><td class="memItemLeft" align="right" valign="top">const boost::shared_ptr&lt; LMIntegration &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#ab7b1e019fc16bf85ba24a1677cd94b0e">integration</a> () const override</td></tr>
<tr class="memdesc:ab7b1e019fc16bf85ba24a1677cd94b0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">access to integration:  <a href="class_quant_ext_1_1_default_latent_model.html#ab7b1e019fc16bf85ba24a1677cd94b0e">More...</a><br /></td></tr>
<tr class="separator:ab7b1e019fc16bf85ba24a1677cd94b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a549c68987e7d46f6316a50ecff1360af"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_basket.html">Basket</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a></td></tr>
<tr class="separator:a549c68987e7d46f6316a50ecff1360af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf31241ff4f71af5a49d879de4a13503"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; LMIntegration &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#aaf31241ff4f71af5a49d879de4a13503">integration_</a></td></tr>
<tr class="separator:aaf31241ff4f71af5a49d879de4a13503"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:abd0a297b55c09cecea3c91a955982388"><td class="memItemLeft" align="right" valign="top">typedef copulaPolicy::initTraits&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_default_latent_model.html#abd0a297b55c09cecea3c91a955982388">initTraits</a></td></tr>
<tr class="separator:abd0a297b55c09cecea3c91a955982388"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class copulaPolicy&gt;<br />
class QuantExt::DefaultLatentModel&lt; copulaPolicy &gt;</div><p >Default event Latent Model. </p>
<p >This is a model for joint default events based on a generic Latent Model. It models solely the default events in a portfolio, not making any reference to severities, exposures, etc... An implicit correspondence is stablished between the variables modelled and the names in the basket given by the basket and model variable access indices. The class is parametric on the Latent Model copula.</p>

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00044">44</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="abd0a297b55c09cecea3c91a955982388" name="abd0a297b55c09cecea3c91a955982388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd0a297b55c09cecea3c91a955982388">&#9670;&#160;</a></span>initTraits</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef copulaPolicy::initTraits <a class="el" href="class_quant_ext_1_1_default_latent_model.html#abd0a297b55c09cecea3c91a955982388">initTraits</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00062">62</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a019be29faf648e301108d06cc4ddfac9" name="a019be29faf648e301108d06cc4ddfac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a019be29faf648e301108d06cc4ddfac9">&#9670;&#160;</a></span>DefaultLatentModel() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_ext_1_1_default_latent_model.html">DefaultLatentModel</a> </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; Real &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>factorWeights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LatentModelIntegrationType::LatentModelIntegrationType&#160;</td>
          <td class="paramname"><em>integralType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_ext_1_1_default_latent_model.html#abd0a297b55c09cecea3c91a955982388">initTraits</a> &amp;&#160;</td>
          <td class="paramname"><em>ini</em> = <code><a class="el" href="class_quant_ext_1_1_default_latent_model.html#abd0a297b55c09cecea3c91a955982388">initTraits</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">factorWeights</td><td>Latent model independent factors weights for each variable. </td></tr>
    <tr><td class="paramname">integralType</td><td>Integration type. </td></tr>
    <tr><td class="paramname">ini</td><td>Copula initialization if any.</td></tr>
  </table>
  </dd>
</dl>
<dl class="caveats"><dt><b><a class="el" href="caveats.html#_caveats000037">Warning:</a></b></dt><dd>Baskets with realized defaults not tested/WIP. </dd></dl>

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00073">73</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   76</span>        : <a class="code hl_class" href="class_latent_model.html">LatentModel&lt;copulaPolicy&gt;</a>(factorWeights, ini),</div>
<div class="line"><span class="lineno">   77</span>          <a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#aaf31241ff4f71af5a49d879de4a13503">integration_</a>(<a class="code hl_class" href="class_latent_model.html">LatentModel&lt;copulaPolicy&gt;::IntegrationFactory::createLMIntegration</a>(factorWeights[0].size(),</div>
<div class="line"><span class="lineno">   78</span>                                                                                          integralType)) {}</div>
<div class="ttc" id="aclass_latent_model_html"><div class="ttname"><a href="class_latent_model.html">LatentModel</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_default_latent_model_html_aaf31241ff4f71af5a49d879de4a13503"><div class="ttname"><a href="class_quant_ext_1_1_default_latent_model.html#aaf31241ff4f71af5a49d879de4a13503">QuantExt::DefaultLatentModel::integration_</a></div><div class="ttdeci">boost::shared_ptr&lt; LMIntegration &gt; integration_</div><div class="ttdef"><b>Definition:</b> <a href="defaultprobabilitylatentmodel_8hpp_source.html#l00059">defaultprobabilitylatentmodel.hpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a635bfeb56a6c5defe63fddb904cb7f49" name="a635bfeb56a6c5defe63fddb904cb7f49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a635bfeb56a6c5defe63fddb904cb7f49">&#9670;&#160;</a></span>DefaultLatentModel() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_ext_1_1_default_latent_model.html">DefaultLatentModel</a> </td>
          <td>(</td>
          <td class="paramtype">const Handle&lt; Quote &gt; &amp;&#160;</td>
          <td class="paramname"><em>mktCorrel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>nVariables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LatentModelIntegrationType::LatentModelIntegrationType&#160;</td>
          <td class="paramname"><em>integralType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_ext_1_1_default_latent_model.html#abd0a297b55c09cecea3c91a955982388">initTraits</a> &amp;&#160;</td>
          <td class="paramname"><em>ini</em> = <code><a class="el" href="class_quant_ext_1_1_default_latent_model.html#abd0a297b55c09cecea3c91a955982388">initTraits</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00079">79</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   82</span>        : <a class="code hl_class" href="class_latent_model.html">LatentModel&lt;copulaPolicy&gt;</a>(mktCorrel, nVariables, ini),</div>
<div class="line"><span class="lineno">   83</span>          <a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#aaf31241ff4f71af5a49d879de4a13503">integration_</a>(<a class="code hl_class" href="class_latent_model.html">LatentModel&lt;copulaPolicy&gt;::IntegrationFactory::createLMIntegration</a>(1, integralType)) {}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a513b24e8014c2a5eae409abdf3de99f6" name="a513b24e8014c2a5eae409abdf3de99f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a513b24e8014c2a5eae409abdf3de99f6">&#9670;&#160;</a></span>resetBasket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resetBasket </td>
          <td>(</td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_basket.html">Basket</a> &gt;&#160;</td>
          <td class="paramname"><em>basket</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00092">92</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   92</span>                                                                 {</div>
<div class="line"><span class="lineno">   93</span>        <a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a> = basket;</div>
<div class="line"><span class="lineno">   94</span>        <span class="comment">// in the future change &#39;size&#39; to &#39;liveSize&#39;</span></div>
<div class="line"><span class="lineno">   95</span>        QL_REQUIRE(<a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>-&gt;size() == factorWeights_.size(), <span class="stringliteral">&quot;Incompatible new basket and model sizes.&quot;</span>);</div>
<div class="line"><span class="lineno">   96</span>    }</div>
<div class="ttc" id="aclass_quant_ext_1_1_default_latent_model_html_a549c68987e7d46f6316a50ecff1360af"><div class="ttname"><a href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">QuantExt::DefaultLatentModel::basket_</a></div><div class="ttdeci">boost::shared_ptr&lt; Basket &gt; basket_</div><div class="ttdef"><b>Definition:</b> <a href="defaultprobabilitylatentmodel_8hpp_source.html#l00058">defaultprobabilitylatentmodel.hpp:58</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_default_latent_model_a513b24e8014c2a5eae409abdf3de99f6_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_default_latent_model_a513b24e8014c2a5eae409abdf3de99f6_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_default_latent_model_a513b24e8014c2a5eae409abdf3de99f6_icgraph" id="aclass_quant_ext_1_1_default_latent_model_a513b24e8014c2a5eae409abdf3de99f6_icgraph">
<area shape="rect" title=" " alt="" coords="253,45,345,70"/>
<area shape="rect" href="class_quant_ext_1_1_constant_loss_model.html#a59fbe8092f9af7eff96609561064f6a4" title="Concrete models do now any updates/inits they need on basket reset." alt="" coords="5,5,205,45"/>
<area shape="rect" href="class_quant_ext_1_1_extended_constant_loss_model.html#a59fbe8092f9af7eff96609561064f6a4" title="Concrete models do now any updates/inits they need on basket reset." alt="" coords="9,69,201,109"/>
</map>
</div>

</div>
</div>
<a id="a5ecfe2190404d92a4641d3478d82c067" name="a5ecfe2190404d92a4641d3478d82c067"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ecfe2190404d92a4641d3478d82c067">&#9670;&#160;</a></span>conditionalDefaultProbability() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Probability conditionalDefaultProbability </td>
          <td>(</td>
          <td class="paramtype">Probability&#160;</td>
          <td class="paramname"><em>prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>iName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>mktFactors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the probability of default of a given name conditional on the realization of a given set of values of the model independent factors. The date at which the probability is given is implicit in the probability since theres not other time dependence in this model. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prob</td><td>Unconditional probability of default. </td></tr>
    <tr><td class="paramname">iName</td><td>desired name. </td></tr>
    <tr><td class="paramname">mktFactors</td><td>Value of LM independent factors. </td></tr>
  </table>
  </dd>
</dl>
<dl class="caveats"><dt><b><a class="el" href="caveats.html#_caveats000038">Warning:</a></b></dt><dd>Most often it is preferred to use the method below avoiding the cumulative inversion. </dd></dl>

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00109">109</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  109</span>                                                                                                                     {</div>
<div class="line"><span class="lineno">  110</span><span class="comment">// we can be called from the outside (from an integrable loss model)</span></div>
<div class="line"><span class="lineno">  111</span><span class="comment">//   but we are called often at integration points. This or</span></div>
<div class="line"><span class="lineno">  112</span><span class="comment">//   consider a list of friends.</span></div>
<div class="line"><span class="lineno">  113</span><span class="preprocessor">#if defined(QL_EXTRA_SAFETY_CHECKS)</span></div>
<div class="line"><span class="lineno">  114</span>        QL_REQUIRE(<a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>, <span class="stringliteral">&quot;No portfolio basket set.&quot;</span>);</div>
<div class="line"><span class="lineno">  115</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  116</span>        <span class="comment">/*Avoid redundant call to minimum value inversion (might be \infty),</span></div>
<div class="line"><span class="lineno">  117</span><span class="comment">        and this independently of the copula function.</span></div>
<div class="line"><span class="lineno">  118</span><span class="comment">        */</span></div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordflow">if</span> (prob &lt; 1.e-10)</div>
<div class="line"><span class="lineno">  120</span>            <span class="keywordflow">return</span> 0.; <span class="comment">// use library macro...</span></div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="class_quant_ext_1_1_default_latent_model.html#aeb0d6e75705e728822e13e88c5b77921">conditionalDefaultProbabilityInvP</a>(inverseCumulativeY(prob, iName), iName, mktFactors);</div>
<div class="line"><span class="lineno">  122</span>    }</div>
<div class="ttc" id="aclass_quant_ext_1_1_default_latent_model_html_aeb0d6e75705e728822e13e88c5b77921"><div class="ttname"><a href="class_quant_ext_1_1_default_latent_model.html#aeb0d6e75705e728822e13e88c5b77921">QuantExt::DefaultLatentModel::conditionalDefaultProbabilityInvP</a></div><div class="ttdeci">Probability conditionalDefaultProbabilityInvP(Real invCumYProb, Size iName, const std::vector&lt; Real &gt; &amp;m) const</div><div class="ttdef"><b>Definition:</b> <a href="defaultprobabilitylatentmodel_8hpp_source.html#l00144">defaultprobabilitylatentmodel.hpp:144</a></div></div>
</div><!-- fragment --><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_default_latent_model_a5ecfe2190404d92a4641d3478d82c067_cgraph.png" border="0" usemap="#aclass_quant_ext_1_1_default_latent_model_a5ecfe2190404d92a4641d3478d82c067_cgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_default_latent_model_a5ecfe2190404d92a4641d3478d82c067_cgraph" id="aclass_quant_ext_1_1_default_latent_model_a5ecfe2190404d92a4641d3478d82c067_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,191,31"/>
<area shape="rect" href="class_quant_ext_1_1_default_latent_model.html#aeb0d6e75705e728822e13e88c5b77921" title=" " alt="" coords="239,5,448,31"/>
</map>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_default_latent_model_a5ecfe2190404d92a4641d3478d82c067_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_default_latent_model_a5ecfe2190404d92a4641d3478d82c067_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_default_latent_model_a5ecfe2190404d92a4641d3478d82c067_icgraph" id="aclass_quant_ext_1_1_default_latent_model_a5ecfe2190404d92a4641d3478d82c067_icgraph">
<area shape="rect" title=" " alt="" coords="239,5,424,31"/>
<area shape="rect" href="class_quant_ext_1_1_default_latent_model.html#a5034d127b501f9abe630adc9cbe89b8a" title=" " alt="" coords="5,5,191,31"/>
</map>
</div>

</div>
</div>
<a id="a44137bb65de2396875934e48a6ee5099" name="a44137bb65de2396875934e48a6ee5099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44137bb65de2396875934e48a6ee5099">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00125">125</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  125</span>                           {</div>
<div class="line"><span class="lineno">  126</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>)</div>
<div class="line"><span class="lineno">  127</span>            <a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>-&gt;notifyObservers();</div>
<div class="line"><span class="lineno">  128</span>        <a class="code hl_class" href="class_latent_model.html">LatentModel&lt;copulaPolicy&gt;::update</a>();</div>
<div class="line"><span class="lineno">  129</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb0d6e75705e728822e13e88c5b77921" name="aeb0d6e75705e728822e13e88c5b77921"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb0d6e75705e728822e13e88c5b77921">&#9670;&#160;</a></span>conditionalDefaultProbabilityInvP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Probability conditionalDefaultProbabilityInvP </td>
          <td>(</td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>invCumYProb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>iName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the probability of default of a given name conditional on the realization of a given set of values of the model independent factors. The date at which the probability is given is implicit in the probability since theres not other time dependent in this model. Same intention as above but provides a performance opportunity, if the integration is along the market factors (as usually is) avoids computing the inverse of the probability on each call. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">invCumYProb</td><td>Inverse cumul of the unconditional probability of default, has to follow the same copula law for results to be coherent </td></tr>
    <tr><td class="paramname">iName</td><td>desired name. </td></tr>
    <tr><td class="paramname">m</td><td>Value of LM independent factors. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00144">144</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  144</span>                                                                                                                {</div>
<div class="line"><span class="lineno">  145</span>        Real sumMs = std::inner_product(factorWeights_[iName].begin(), factorWeights_[iName].end(), m.begin(), 0.);</div>
<div class="line"><span class="lineno">  146</span>        Real res = cumulativeZ((invCumYProb - sumMs) / idiosyncFctrs_[iName]);</div>
<div class="line"><span class="lineno">  147</span><span class="preprocessor">#if defined(QL_EXTRA_SAFETY_CHECKS)</span></div>
<div class="line"><span class="lineno">  148</span>        QL_REQUIRE(res &gt;= 0. &amp;&amp; res &lt;= 1., <span class="stringliteral">&quot;conditional probability &quot;</span> &lt;&lt; res &lt;&lt; <span class="stringliteral">&quot;out of range&quot;</span>);</div>
<div class="line"><span class="lineno">  149</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>        <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  152</span>    }</div>
</div><!-- fragment --><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_default_latent_model_aeb0d6e75705e728822e13e88c5b77921_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_default_latent_model_aeb0d6e75705e728822e13e88c5b77921_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_default_latent_model_aeb0d6e75705e728822e13e88c5b77921_icgraph" id="aclass_quant_ext_1_1_default_latent_model_aeb0d6e75705e728822e13e88c5b77921_icgraph">
<area shape="rect" title=" " alt="" coords="472,31,681,56"/>
<area shape="rect" href="class_quant_ext_1_1_default_latent_model.html#a5ecfe2190404d92a4641d3478d82c067" title=" " alt="" coords="239,5,424,31"/>
<area shape="rect" href="class_quant_ext_1_1_default_latent_model.html#a1b5c6708a14f029c027a2ce8586ce9d7" title=" " alt="" coords="270,55,393,80"/>
<area shape="rect" href="class_quant_ext_1_1_default_latent_model.html#a5034d127b501f9abe630adc9cbe89b8a" title=" " alt="" coords="5,5,191,31"/>
</map>
</div>

</div>
</div>
<a id="a5034d127b501f9abe630adc9cbe89b8a" name="a5034d127b501f9abe630adc9cbe89b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5034d127b501f9abe630adc9cbe89b8a">&#9670;&#160;</a></span>conditionalDefaultProbability() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Probability conditionalDefaultProbability </td>
          <td>(</td>
          <td class="paramtype">const Date &amp;&#160;</td>
          <td class="paramname"><em>date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>iName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>mktFactors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Returns the probability of default of a given name conditional on the realization of a given set of values of the model independent factors. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">date</td><td>The date for the probability of default. </td></tr>
    <tr><td class="paramname">iName</td><td>desired name. </td></tr>
    <tr><td class="paramname">mktFactors</td><td>Value of LM independent factors.</td></tr>
  </table>
  </dd>
</dl>
<p>Same intention as the above methods. Usage of this one is typically more expensive because most often the date we call this method with repeats itself and with this one the probability can not be cached outside the call. </p>

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00167">167</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  167</span>                                                                                                                     {</div>
<div class="line"><span class="lineno">  168</span>        <span class="keyword">const</span> boost::shared_ptr&lt;Pool&gt;&amp; pool = <a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>-&gt;pool();</div>
<div class="line"><span class="lineno">  169</span>        Probability pDefUncond =</div>
<div class="line"><span class="lineno">  170</span>            pool-&gt;get(pool-&gt;names()[iName]).defaultProbability(<a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>-&gt;defaultKeys()[iName])-&gt;defaultProbability(date);</div>
<div class="line"><span class="lineno">  171</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="class_quant_ext_1_1_default_latent_model.html#a5ecfe2190404d92a4641d3478d82c067">conditionalDefaultProbability</a>(pDefUncond, iName, mktFactors);</div>
<div class="line"><span class="lineno">  172</span>    }</div>
<div class="ttc" id="aclass_quant_ext_1_1_default_latent_model_html_a5ecfe2190404d92a4641d3478d82c067"><div class="ttname"><a href="class_quant_ext_1_1_default_latent_model.html#a5ecfe2190404d92a4641d3478d82c067">QuantExt::DefaultLatentModel::conditionalDefaultProbability</a></div><div class="ttdeci">Probability conditionalDefaultProbability(Probability prob, Size iName, const std::vector&lt; Real &gt; &amp;mktFactors) const</div><div class="ttdef"><b>Definition:</b> <a href="defaultprobabilitylatentmodel_8hpp_source.html#l00109">defaultprobabilitylatentmodel.hpp:109</a></div></div>
</div><!-- fragment --><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_default_latent_model_a5034d127b501f9abe630adc9cbe89b8a_cgraph.png" border="0" usemap="#aclass_quant_ext_1_1_default_latent_model_a5034d127b501f9abe630adc9cbe89b8a_cgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_default_latent_model_a5034d127b501f9abe630adc9cbe89b8a_cgraph" id="aclass_quant_ext_1_1_default_latent_model_a5034d127b501f9abe630adc9cbe89b8a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,191,31"/>
<area shape="rect" href="class_quant_ext_1_1_default_latent_model.html#a5ecfe2190404d92a4641d3478d82c067" title=" " alt="" coords="239,5,424,31"/>
<area shape="rect" href="class_quant_ext_1_1_default_latent_model.html#aeb0d6e75705e728822e13e88c5b77921" title=" " alt="" coords="472,5,681,31"/>
</map>
</div>

</div>
</div>
<a id="a1b5c6708a14f029c027a2ce8586ce9d7" name="a1b5c6708a14f029c027a2ce8586ce9d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b5c6708a14f029c027a2ce8586ce9d7">&#9670;&#160;</a></span>condProbProduct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Probability condProbProduct </td>
          <td>(</td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>invCumYProb1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>invCumYProb2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>iName1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>iName2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>mktFactors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Conditional default probability product, intermediate step in the correlation calculation. </p>

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00175">175</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  176</span>                                                                         {</div>
<div class="line"><span class="lineno">  177</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="class_quant_ext_1_1_default_latent_model.html#aeb0d6e75705e728822e13e88c5b77921">conditionalDefaultProbabilityInvP</a>(invCumYProb1, iName1, mktFactors) *</div>
<div class="line"><span class="lineno">  178</span>               <a class="code hl_function" href="class_quant_ext_1_1_default_latent_model.html#aeb0d6e75705e728822e13e88c5b77921">conditionalDefaultProbabilityInvP</a>(invCumYProb2, iName2, mktFactors);</div>
<div class="line"><span class="lineno">  179</span>    }</div>
</div><!-- fragment --><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_default_latent_model_a1b5c6708a14f029c027a2ce8586ce9d7_cgraph.png" border="0" usemap="#aclass_quant_ext_1_1_default_latent_model_a1b5c6708a14f029c027a2ce8586ce9d7_cgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_default_latent_model_a1b5c6708a14f029c027a2ce8586ce9d7_cgraph" id="aclass_quant_ext_1_1_default_latent_model_a1b5c6708a14f029c027a2ce8586ce9d7_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,128,31"/>
<area shape="rect" href="class_quant_ext_1_1_default_latent_model.html#aeb0d6e75705e728822e13e88c5b77921" title=" " alt="" coords="176,5,385,31"/>
</map>
</div>

</div>
</div>
<a id="a8f97bf936a88d090a2bca06a71259f62" name="a8f97bf936a88d090a2bca06a71259f62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f97bf936a88d090a2bca06a71259f62">&#9670;&#160;</a></span>conditionalProbAtLeastNEvents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Real conditionalProbAtLeastNEvents </td>
          <td>(</td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Date &amp;&#160;</td>
          <td class="paramname"><em>date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>mktFactors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Conditional probability of n default events or more. </p>

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00246">246</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  247</span>                                                                                                    {</div>
<div class="line"><span class="lineno">  248</span>    QL_REQUIRE(<a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>, <span class="stringliteral">&quot;No portfolio basket set.&quot;</span>);</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>    <span class="comment">/* \todo</span></div>
<div class="line"><span class="lineno">  251</span><span class="comment">    This algorithm traverses all permutations starting form the</span></div>
<div class="line"><span class="lineno">  252</span><span class="comment">    lowest one. This is inneficient, there shouldnt be any need to</span></div>
<div class="line"><span class="lineno">  253</span><span class="comment">    go through the invalid ones. Use combinations of n elements.</span></div>
<div class="line"><span class="lineno">  254</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  255</span><span class="comment">    See integration in O&#39;Kane for homogeneous ntds.</span></div>
<div class="line"><span class="lineno">  256</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno">  257</span>    <span class="comment">// first position with as many defaults as desired:</span></div>
<div class="line"><span class="lineno">  258</span>    Size poolSize = <a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>-&gt;size(); <span class="comment">// move to &#39;livesize&#39;</span></div>
<div class="line"><span class="lineno">  259</span>    <span class="keyword">const</span> boost::shared_ptr&lt;Pool&gt;&amp; pool = <a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>-&gt;pool();</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>    BigNatural limit = <span class="keyword">static_cast&lt;</span>BigNatural<span class="keyword">&gt;</span>(std::pow(2., (<span class="keywordtype">int</span>)(poolSize)));</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>    <span class="comment">// Precalc conditional probabilities</span></div>
<div class="line"><span class="lineno">  264</span>    std::vector&lt;Probability&gt; pDefCond;</div>
<div class="line"><span class="lineno">  265</span>    <span class="keywordflow">for</span> (Size i = 0; i &lt; poolSize; i++)</div>
<div class="line"><span class="lineno">  266</span>        pDefCond.push_back(<a class="code hl_function" href="class_quant_ext_1_1_default_latent_model.html#a5ecfe2190404d92a4641d3478d82c067">conditionalDefaultProbability</a>(</div>
<div class="line"><span class="lineno">  267</span>            pool-&gt;get(pool-&gt;names()[i]).defaultProbability(<a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>-&gt;defaultKeys()[i])-&gt;defaultProbability(date), i,</div>
<div class="line"><span class="lineno">  268</span>            mktFactors));</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>    Probability probNEventsOrMore = 0.;</div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordflow">for</span> (BigNatural mask = <span class="keyword">static_cast&lt;</span>BigNatural<span class="keyword">&gt;</span>(std::pow(2., (<span class="keywordtype">int</span>)(n)) - 1); mask &lt; limit; mask++) {</div>
<div class="line"><span class="lineno">  272</span>        <span class="comment">// cheap permutations</span></div>
<div class="line"><span class="lineno">  273</span>        boost::dynamic_bitset&lt;&gt; bsetMask(poolSize, mask);</div>
<div class="line"><span class="lineno">  274</span>        <span class="keywordflow">if</span> (bsetMask.count() &gt;= n) {</div>
<div class="line"><span class="lineno">  275</span>            Probability pConfig = 1;</div>
<div class="line"><span class="lineno">  276</span>            <span class="keywordflow">for</span> (Size i = 0; i &lt; bsetMask.size(); i++)</div>
<div class="line"><span class="lineno">  277</span>                pConfig *= (bsetMask[i] ? pDefCond[i] : (1. - pDefCond[i]));</div>
<div class="line"><span class="lineno">  278</span>            probNEventsOrMore += pConfig;</div>
<div class="line"><span class="lineno">  279</span>        }</div>
<div class="line"><span class="lineno">  280</span>    }</div>
<div class="line"><span class="lineno">  281</span>    <span class="keywordflow">return</span> probNEventsOrMore;</div>
<div class="line"><span class="lineno">  282</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab7b1e019fc16bf85ba24a1677cd94b0e" name="ab7b1e019fc16bf85ba24a1677cd94b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7b1e019fc16bf85ba24a1677cd94b0e">&#9670;&#160;</a></span>integration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const boost::shared_ptr&lt; LMIntegration &gt; &amp; integration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>access to integration: </p>

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00184">184</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  184</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#aaf31241ff4f71af5a49d879de4a13503">integration_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab7f95052edaf9cea322b6e931ad72f0a" name="ab7f95052edaf9cea322b6e931ad72f0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7f95052edaf9cea322b6e931ad72f0a">&#9670;&#160;</a></span>probOfDefault()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Probability probOfDefault </td>
          <td>(</td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>iName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Date &amp;&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Computes the unconditional probability of default of a given name. Trivial method for testing </p>

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00190">190</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  190</span>                                                               {</div>
<div class="line"><span class="lineno">  191</span>        QL_REQUIRE(<a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>, <span class="stringliteral">&quot;No portfolio basket set.&quot;</span>);</div>
<div class="line"><span class="lineno">  192</span>        <span class="keyword">const</span> boost::shared_ptr&lt;Pool&gt;&amp; pool = <a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>-&gt;pool();</div>
<div class="line"><span class="lineno">  193</span>        <span class="comment">// avoid repeating this in the integration:</span></div>
<div class="line"><span class="lineno">  194</span>        Probability pUncond =</div>
<div class="line"><span class="lineno">  195</span>            pool-&gt;get(pool-&gt;names()[iName]).defaultProbability(<a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>-&gt;defaultKeys()[iName])-&gt;defaultProbability(d);</div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">if</span> (pUncond &lt; 1.e-10)</div>
<div class="line"><span class="lineno">  197</span>            <span class="keywordflow">return</span> 0.;</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">return</span> integratedExpectedValue(boost::function&lt;Real(<span class="keyword">const</span> std::vector&lt;Real&gt;&amp; v1)&gt;(</div>
<div class="line"><span class="lineno">  200</span>            boost::bind(&amp;<a class="code hl_function" href="class_quant_ext_1_1_default_latent_model.html#aeb0d6e75705e728822e13e88c5b77921">DefaultLatentModel&lt;copulaPolicy&gt;::conditionalDefaultProbabilityInvP</a>, <span class="keyword">this</span>,</div>
<div class="line"><span class="lineno">  201</span>                        inverseCumulativeY(pUncond, iName), iName, boost::placeholders::_1)));</div>
<div class="line"><span class="lineno">  202</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ae6f7a617ee77e605f36fb250fe985b" name="a8ae6f7a617ee77e605f36fb250fe985b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae6f7a617ee77e605f36fb250fe985b">&#9670;&#160;</a></span>defaultCorrelation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Real defaultCorrelation </td>
          <td>(</td>
          <td class="paramtype">const Date &amp;&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>iNamei</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>iNamej</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Pearsons' default probability correlation. Users should consider specialization on the copula type for specific distributions since that might simplify the integrations, most importantly if this is to be used in calibration of observations for factor coefficients as it is expensive to integrate directly. </p>

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00222">222</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  222</span>                                                                                                                 {</div>
<div class="line"><span class="lineno">  223</span>    QL_REQUIRE(<a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>, <span class="stringliteral">&quot;No portfolio basket set.&quot;</span>);</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    <span class="keyword">const</span> boost::shared_ptr&lt;Pool&gt;&amp; pool = <a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>-&gt;pool();</div>
<div class="line"><span class="lineno">  226</span>    <span class="comment">// unconditionals:</span></div>
<div class="line"><span class="lineno">  227</span>    Probability pi =</div>
<div class="line"><span class="lineno">  228</span>        pool-&gt;get(pool-&gt;names()[iNamei]).defaultProbability(<a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>-&gt;defaultKeys()[iNamei])-&gt;defaultProbability(d);</div>
<div class="line"><span class="lineno">  229</span>    Probability pj =</div>
<div class="line"><span class="lineno">  230</span>        pool-&gt;get(pool-&gt;names()[iNamej]).defaultProbability(<a class="code hl_variable" href="class_quant_ext_1_1_default_latent_model.html#a549c68987e7d46f6316a50ecff1360af">basket_</a>-&gt;defaultKeys()[iNamej])-&gt;defaultProbability(d);</div>
<div class="line"><span class="lineno">  231</span>    Real pipj = pi * pj;</div>
<div class="line"><span class="lineno">  232</span>    Real invPi = inverseCumulativeY(pi, iNamei);</div>
<div class="line"><span class="lineno">  233</span>    Real invPj = inverseCumulativeY(pj, iNamej);</div>
<div class="line"><span class="lineno">  234</span>    <span class="comment">// avoid repetitive calls when i=j?</span></div>
<div class="line"><span class="lineno">  235</span>    Real E1i1j; <span class="comment">// joint default covariance term</span></div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">if</span> (iNamei != iNamej) {</div>
<div class="line"><span class="lineno">  237</span>        E1i1j = integratedExpectedValue(boost::function&lt;Real(<span class="keyword">const</span> std::vector&lt;Real&gt;&amp; v1)&gt;(</div>
<div class="line"><span class="lineno">  238</span>            boost::bind(&amp;<a class="code hl_function" href="class_quant_ext_1_1_default_latent_model.html#a1b5c6708a14f029c027a2ce8586ce9d7">DefaultLatentModel&lt;CP&gt;::condProbProduct</a>, <span class="keyword">this</span>, invPi, invPj, iNamei, iNamej, boost::placeholders::_1)));</div>
<div class="line"><span class="lineno">  239</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  240</span>        E1i1j = pi;</div>
<div class="line"><span class="lineno">  241</span>    }</div>
<div class="line"><span class="lineno">  242</span>    <span class="keywordflow">return</span> (E1i1j - pipj) / std::sqrt(pipj * (1. - pi) * (1. - pj));</div>
<div class="line"><span class="lineno">  243</span>}</div>
<div class="ttc" id="aclass_quant_ext_1_1_default_latent_model_html_a1b5c6708a14f029c027a2ce8586ce9d7"><div class="ttname"><a href="class_quant_ext_1_1_default_latent_model.html#a1b5c6708a14f029c027a2ce8586ce9d7">QuantExt::DefaultLatentModel::condProbProduct</a></div><div class="ttdeci">Probability condProbProduct(Real invCumYProb1, Real invCumYProb2, Size iName1, Size iName2, const std::vector&lt; Real &gt; &amp;mktFactors) const</div><div class="ttdef"><b>Definition:</b> <a href="defaultprobabilitylatentmodel_8hpp_source.html#l00175">defaultprobabilitylatentmodel.hpp:175</a></div></div>
</div><!-- fragment --><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_default_latent_model_a8ae6f7a617ee77e605f36fb250fe985b_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_default_latent_model_a8ae6f7a617ee77e605f36fb250fe985b_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_default_latent_model_a8ae6f7a617ee77e605f36fb250fe985b_icgraph" id="aclass_quant_ext_1_1_default_latent_model_a8ae6f7a617ee77e605f36fb250fe985b_icgraph">
<area shape="rect" title=" " alt="" coords="253,45,376,70"/>
<area shape="rect" href="class_quant_ext_1_1_constant_loss_model.html#a1420445705008e7db4223a65ba58f308" title="Pearsons&#39; default probability correlation." alt="" coords="5,5,205,45"/>
<area shape="rect" href="class_quant_ext_1_1_extended_constant_loss_model.html#a1420445705008e7db4223a65ba58f308" title="Pearsons&#39; default probability correlation." alt="" coords="9,69,202,109"/>
</map>
</div>

</div>
</div>
<a id="aea4623559adf69f35c874f9f6ae3e7d6" name="aea4623559adf69f35c874f9f6ae3e7d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea4623559adf69f35c874f9f6ae3e7d6">&#9670;&#160;</a></span>probAtLeastNEvents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Probability probAtLeastNEvents </td>
          <td>(</td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Date &amp;&#160;</td>
          <td class="paramname"><em>date</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the probaility of having a given or larger number of defaults in the basket portfolio at a given time. </p>

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00214">214</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  214</span>                                                                   {</div>
<div class="line"><span class="lineno">  215</span>        <span class="keywordflow">return</span> integratedExpectedValue(boost::function&lt;Real(<span class="keyword">const</span> std::vector&lt;Real&gt;&amp; v1)&gt;(boost::bind(</div>
<div class="line"><span class="lineno">  216</span>            &amp;<a class="code hl_function" href="class_quant_ext_1_1_default_latent_model.html#a8f97bf936a88d090a2bca06a71259f62">DefaultLatentModel&lt;copulaPolicy&gt;::conditionalProbAtLeastNEvents</a>, <span class="keyword">this</span>, n, boost::cref(date), boost::placeholders::_1)));</div>
<div class="line"><span class="lineno">  217</span>    }</div>
<div class="ttc" id="aclass_quant_ext_1_1_default_latent_model_html_a8f97bf936a88d090a2bca06a71259f62"><div class="ttname"><a href="class_quant_ext_1_1_default_latent_model.html#a8f97bf936a88d090a2bca06a71259f62">QuantExt::DefaultLatentModel::conditionalProbAtLeastNEvents</a></div><div class="ttdeci">Real conditionalProbAtLeastNEvents(Size n, const Date &amp;date, const std::vector&lt; Real &gt; &amp;mktFactors) const</div><div class="ttdoc">Conditional probability of n default events or more.</div><div class="ttdef"><b>Definition:</b> <a href="defaultprobabilitylatentmodel_8hpp_source.html#l00246">defaultprobabilitylatentmodel.hpp:246</a></div></div>
</div><!-- fragment --><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_default_latent_model_aea4623559adf69f35c874f9f6ae3e7d6_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_default_latent_model_aea4623559adf69f35c874f9f6ae3e7d6_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_default_latent_model_aea4623559adf69f35c874f9f6ae3e7d6_icgraph" id="aclass_quant_ext_1_1_default_latent_model_aea4623559adf69f35c874f9f6ae3e7d6_icgraph">
<area shape="rect" title=" " alt="" coords="264,45,404,70"/>
<area shape="rect" href="class_quant_ext_1_1_constant_loss_model.html#a99f9c730a9f156b9fa4d5824716221bd" title=" " alt="" coords="11,5,211,45"/>
<area shape="rect" href="class_quant_ext_1_1_extended_constant_loss_model.html#a99f9c730a9f156b9fa4d5824716221bd" title=" " alt="" coords="5,69,216,109"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a549c68987e7d46f6316a50ecff1360af" name="a549c68987e7d46f6316a50ecff1360af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a549c68987e7d46f6316a50ecff1360af">&#9670;&#160;</a></span>basket_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="class_quant_ext_1_1_basket.html">Basket</a>&gt; basket_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00058">58</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>

</div>
</div>
<a id="aaf31241ff4f71af5a49d879de4a13503" name="aaf31241ff4f71af5a49d879de4a13503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf31241ff4f71af5a49d879de4a13503">&#9670;&#160;</a></span>integration_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;LMIntegration&gt; integration_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html#l00059">59</a> of file <a class="el" href="defaultprobabilitylatentmodel_8hpp_source.html">defaultprobabilitylatentmodel.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.9.5
</small></address>
</body>
</html>
