<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>QuantExt: CommodityIndexedAverageCashFlow Class Reference</title>
<link href="https://fonts.googleapis.com/css?family=Merriweather+Sans|Open+Sans" rel="stylesheet">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="favicon.png">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="quantextextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname"><a href="https://rkapl123.github.io/OREAnnotatedSource/">
       <img src="/OREAnnotatedSource/qle/logo-qle@2x.png" alt="Logo" width="150" height="68" style="float: left; padding: 15px;"/></a>
   <div id="projectbrief">Fully annotated source code - version 1.6</div>
   </div>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_quant_ext.html">QuantExt</a></li><li class="navelem"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html">CommodityIndexedAverageCashFlow</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CommodityIndexedAverageCashFlow Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">qle/cashflows/commodityindexedaveragecashflow.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for CommodityIndexedAverageCashFlow:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_commodity_indexed_average_cash_flow__inherit__graph.png" border="0" usemap="#a_commodity_indexed_average_cash_flow_inherit__map" alt="Inheritance graph"/></div>
<map name="_commodity_indexed_average_cash_flow_inherit__map" id="a_commodity_indexed_average_cash_flow_inherit__map">
<area shape="rect" title=" " alt="" coords="5,131,261,1176"/>
<area shape="rect" title=" " alt="" coords="45,5,123,83"/>
<area shape="rect" href="class_observer.html" title=" " alt="" coords="147,5,221,83"/>
</map>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for CommodityIndexedAverageCashFlow:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_commodity_indexed_average_cash_flow__coll__graph.png" border="0" usemap="#a_commodity_indexed_average_cash_flow_coll__map" alt="Collaboration graph"/></div>
<map name="_commodity_indexed_average_cash_flow_coll__map" id="a_commodity_indexed_average_cash_flow_coll__map">
<area shape="rect" title=" " alt="" coords="726,587,982,1309"/>
<area shape="rect" title=" " alt="" coords="5,344,84,421"/>
<area shape="rect" href="class_observer.html" title=" " alt="" coords="108,344,181,421"/>
<area shape="rect" title=" " alt="" coords="481,337,632,429"/>
<area shape="rect" title=" " alt="" coords="532,153,581,230"/>
<area shape="rect" title=" " alt="" coords="1053,329,1233,436"/>
<area shape="rect" title=" " alt="" coords="310,153,358,230"/>
<area shape="rect" title="STL class." alt="" coords="793,153,888,230"/>
<area shape="rect" title=" " alt="" coords="785,5,824,83"/>
<area shape="rect" title=" " alt="" coords="857,5,896,83"/>
<area shape="rect" title=" " alt="" coords="656,344,855,421"/>
<area shape="rect" title=" " alt="" coords="879,329,1029,436"/>
<area shape="rect" title=" " alt="" coords="1151,145,1301,237"/>
<area shape="rect" title=" " alt="" coords="1353,344,1416,421"/>
<area shape="rect" href="classbool.html" title=" " alt="" coords="1440,344,1487,421"/>
<area shape="rect" title=" " alt="" coords="1573,344,1647,421"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a437d5a1a3f626db25818a1361fd95f52"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a437d5a1a3f626db25818a1361fd95f52">CommodityIndexedAverageCashFlow</a> (QuantLib::Real <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#adc436f9c1e03c6afd992e5500b070eda">quantity</a>, const QuantLib::Date &amp;<a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a937b2a1f16872cf63effa9c73899ca59">startDate</a>, const QuantLib::Date &amp;<a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab1262092c524cbeec1fb5c8549dd6821">endDate</a>, const QuantLib::Date &amp;paymentDate, const ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt; &amp;<a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a95d970ee91a158e93443c32504916214">index</a>, const QuantLib::Calendar &amp;pricingCalendar=QuantLib::Calendar(), QuantLib::Real <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a16467b4eb0c8882f5b1e8b1e6db8ff26">spread</a>=0.0, QuantLib::Real <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a8778c288a2e8ed961daa3518ce5ce651">gearing</a>=1.0, <a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2bf5b13ff0e6e0788025a87f33f4d5fc">useFuturePrice</a>=false, QuantLib::Natural <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a883f472e39db01b7e212be297ce42577">deliveryDateRoll</a>=0, QuantLib::Natural <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#abcc44743e19a786697feff1de1c3932f">futureMonthOffset</a>=0, const ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;calc=nullptr, <a class="el" href="classbool.html">bool</a> includeEndDate=true, <a class="el" href="classbool.html">bool</a> excludeStartDate=true, <a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a390b24495cb478ba9f57ba9f5a912d3b">useBusinessDays</a>=true, <a class="el" href="namespace_quant_ext.html#a09d4e29c69cb797cd6633e1081884e7c">CommodityQuantityFrequency</a> <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a9d02d48f07f2287ed72d09d1e47ffd87">quantityFrequency</a>=CommodityQuantityFrequency::PerCalculationPeriod, QuantLib::Natural <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a3e095fd9ca4fe0e119660efaa08078d6">hoursPerDay</a>=QuantLib::Null&lt; QuantLib::Natural &gt;(), QuantLib::Natural <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2ad7aa1bfdecd43220127fad419bef14">dailyExpiryOffset</a>=QuantLib::Null&lt; QuantLib::Natural &gt;(), <a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#acce284f79213588d50dfa2e22cada815">unrealisedQuantity</a>=false, const boost::optional&lt; std::pair&lt; QuantLib::Calendar, QuantLib::Real &gt;&gt; &amp;<a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#adb0c07a36fddba121d63e064fc0d4347">offPeakPowerData</a>=boost::none)</td></tr>
<tr class="memdesc:a437d5a1a3f626db25818a1361fd95f52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor taking an explicit <code>paymentDate</code>.  <a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a437d5a1a3f626db25818a1361fd95f52">More...</a><br /></td></tr>
<tr class="separator:a437d5a1a3f626db25818a1361fd95f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9e0630962fe49a7337b7da0702d74ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ae9e0630962fe49a7337b7da0702d74ce">CommodityIndexedAverageCashFlow</a> (QuantLib::Real <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#adc436f9c1e03c6afd992e5500b070eda">quantity</a>, const QuantLib::Date &amp;<a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a937b2a1f16872cf63effa9c73899ca59">startDate</a>, const QuantLib::Date &amp;<a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab1262092c524cbeec1fb5c8549dd6821">endDate</a>, QuantLib::Natural paymentLag, QuantLib::Calendar paymentCalendar, QuantLib::BusinessDayConvention paymentConvention, const ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt; &amp;<a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a95d970ee91a158e93443c32504916214">index</a>, const QuantLib::Calendar &amp;pricingCalendar=QuantLib::Calendar(), QuantLib::Real <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a16467b4eb0c8882f5b1e8b1e6db8ff26">spread</a>=0.0, QuantLib::Real <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a8778c288a2e8ed961daa3518ce5ce651">gearing</a>=1.0, <a class="el" href="classbool.html">bool</a> payInAdvance=false, <a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2bf5b13ff0e6e0788025a87f33f4d5fc">useFuturePrice</a>=false, QuantLib::Natural <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a883f472e39db01b7e212be297ce42577">deliveryDateRoll</a>=0, QuantLib::Natural <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#abcc44743e19a786697feff1de1c3932f">futureMonthOffset</a>=0, const ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;calc=nullptr, <a class="el" href="classbool.html">bool</a> includeEndDate=true, <a class="el" href="classbool.html">bool</a> excludeStartDate=true, const QuantLib::Date &amp;paymentDateOverride=Date(), <a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a390b24495cb478ba9f57ba9f5a912d3b">useBusinessDays</a>=true, <a class="el" href="namespace_quant_ext.html#a09d4e29c69cb797cd6633e1081884e7c">CommodityQuantityFrequency</a> <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a9d02d48f07f2287ed72d09d1e47ffd87">quantityFrequency</a>=CommodityQuantityFrequency::PerCalculationPeriod, QuantLib::Natural <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a3e095fd9ca4fe0e119660efaa08078d6">hoursPerDay</a>=QuantLib::Null&lt; QuantLib::Natural &gt;(), QuantLib::Natural <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2ad7aa1bfdecd43220127fad419bef14">dailyExpiryOffset</a>=QuantLib::Null&lt; QuantLib::Natural &gt;(), <a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#acce284f79213588d50dfa2e22cada815">unrealisedQuantity</a>=false, const boost::optional&lt; std::pair&lt; QuantLib::Calendar, QuantLib::Real &gt;&gt; &amp;<a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#adb0c07a36fddba121d63e064fc0d4347">offPeakPowerData</a>=boost::none)</td></tr>
<tr class="memdesc:ae9e0630962fe49a7337b7da0702d74ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor that deduces payment date from <code>endDate</code> using payment conventions.  <a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ae9e0630962fe49a7337b7da0702d74ce">More...</a><br /></td></tr>
<tr class="separator:ae9e0630962fe49a7337b7da0702d74ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Inspectors</div></td></tr>
<tr class="memitem:adc436f9c1e03c6afd992e5500b070eda"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#adc436f9c1e03c6afd992e5500b070eda">quantity</a> () const</td></tr>
<tr class="separator:adc436f9c1e03c6afd992e5500b070eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a937b2a1f16872cf63effa9c73899ca59"><td class="memItemLeft" align="right" valign="top">const QuantLib::Date &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a937b2a1f16872cf63effa9c73899ca59">startDate</a> () const</td></tr>
<tr class="separator:a937b2a1f16872cf63effa9c73899ca59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1262092c524cbeec1fb5c8549dd6821"><td class="memItemLeft" align="right" valign="top">const QuantLib::Date &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab1262092c524cbeec1fb5c8549dd6821">endDate</a> () const</td></tr>
<tr class="separator:ab1262092c524cbeec1fb5c8549dd6821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d970ee91a158e93443c32504916214"><td class="memItemLeft" align="right" valign="top">ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a95d970ee91a158e93443c32504916214">index</a> () const</td></tr>
<tr class="separator:a95d970ee91a158e93443c32504916214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16467b4eb0c8882f5b1e8b1e6db8ff26"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a16467b4eb0c8882f5b1e8b1e6db8ff26">spread</a> () const</td></tr>
<tr class="separator:a16467b4eb0c8882f5b1e8b1e6db8ff26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8778c288a2e8ed961daa3518ce5ce651"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a8778c288a2e8ed961daa3518ce5ce651">gearing</a> () const</td></tr>
<tr class="separator:a8778c288a2e8ed961daa3518ce5ce651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bf5b13ff0e6e0788025a87f33f4d5fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2bf5b13ff0e6e0788025a87f33f4d5fc">useFuturePrice</a> () const</td></tr>
<tr class="separator:a2bf5b13ff0e6e0788025a87f33f4d5fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a883f472e39db01b7e212be297ce42577"><td class="memItemLeft" align="right" valign="top">QuantLib::Natural&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a883f472e39db01b7e212be297ce42577">deliveryDateRoll</a> () const</td></tr>
<tr class="separator:a883f472e39db01b7e212be297ce42577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc44743e19a786697feff1de1c3932f"><td class="memItemLeft" align="right" valign="top">QuantLib::Natural&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#abcc44743e19a786697feff1de1c3932f">futureMonthOffset</a> () const</td></tr>
<tr class="separator:abcc44743e19a786697feff1de1c3932f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a390b24495cb478ba9f57ba9f5a912d3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a390b24495cb478ba9f57ba9f5a912d3b">useBusinessDays</a> () const</td></tr>
<tr class="separator:a390b24495cb478ba9f57ba9f5a912d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d02d48f07f2287ed72d09d1e47ffd87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_ext.html#a09d4e29c69cb797cd6633e1081884e7c">CommodityQuantityFrequency</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a9d02d48f07f2287ed72d09d1e47ffd87">quantityFrequency</a> () const</td></tr>
<tr class="separator:a9d02d48f07f2287ed72d09d1e47ffd87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e095fd9ca4fe0e119660efaa08078d6"><td class="memItemLeft" align="right" valign="top">QuantLib::Natural&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a3e095fd9ca4fe0e119660efaa08078d6">hoursPerDay</a> () const</td></tr>
<tr class="separator:a3e095fd9ca4fe0e119660efaa08078d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ad7aa1bfdecd43220127fad419bef14"><td class="memItemLeft" align="right" valign="top">QuantLib::Natural&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2ad7aa1bfdecd43220127fad419bef14">dailyExpiryOffset</a> () const</td></tr>
<tr class="separator:a2ad7aa1bfdecd43220127fad419bef14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce284f79213588d50dfa2e22cada815"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#acce284f79213588d50dfa2e22cada815">unrealisedQuantity</a> () const</td></tr>
<tr class="separator:acce284f79213588d50dfa2e22cada815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb0c07a36fddba121d63e064fc0d4347"><td class="memItemLeft" align="right" valign="top">const boost::optional&lt; std::pair&lt; QuantLib::Calendar, QuantLib::Real &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#adb0c07a36fddba121d63e064fc0d4347">offPeakPowerData</a> () const</td></tr>
<tr class="separator:adb0c07a36fddba121d63e064fc0d4347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad06b93c813b22246962f810ad2417ee9"><td class="memItemLeft" align="right" valign="top">const std::map&lt; QuantLib::Date, ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ad06b93c813b22246962f810ad2417ee9">indices</a> () const</td></tr>
<tr class="separator:ad06b93c813b22246962f810ad2417ee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a988cb35ef229173d1bdf18650fe35a"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a8a988cb35ef229173d1bdf18650fe35a">periodQuantity</a> () const</td></tr>
<tr class="separator:a8a988cb35ef229173d1bdf18650fe35a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Event interface</div></td></tr>
<tr class="memitem:a85d95e214166749ca6a6a7c0ef390fd9"><td class="memItemLeft" align="right" valign="top">QuantLib::Date&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a85d95e214166749ca6a6a7c0ef390fd9">date</a> () const</td></tr>
<tr class="separator:a85d95e214166749ca6a6a7c0ef390fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">CashFlow interface</div></td></tr>
<tr class="memitem:aebd2894f0f18274fd9a79140833c5e96"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#aebd2894f0f18274fd9a79140833c5e96">amount</a> () const</td></tr>
<tr class="separator:aebd2894f0f18274fd9a79140833c5e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Visitability</div></td></tr>
<tr class="memitem:a51b1f1d14a270e07a38ac9ec0ddb2b50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a51b1f1d14a270e07a38ac9ec0ddb2b50">accept</a> (QuantLib::AcyclicVisitor &amp;v)</td></tr>
<tr class="separator:a51b1f1d14a270e07a38ac9ec0ddb2b50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Observer interface</h2></td></tr>
<tr class="memitem:af04191e732d3c53843d50a1bde8c33e8"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#af04191e732d3c53843d50a1bde8c33e8">quantity_</a></td></tr>
<tr class="separator:af04191e732d3c53843d50a1bde8c33e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c9935747d00981e5c4b1a9bd5af319"><td class="memItemLeft" align="right" valign="top">QuantLib::Date&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ad4c9935747d00981e5c4b1a9bd5af319">startDate_</a></td></tr>
<tr class="separator:ad4c9935747d00981e5c4b1a9bd5af319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e8bdbee1e30641b7e7346b99e41ce90"><td class="memItemLeft" align="right" valign="top">QuantLib::Date&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a0e8bdbee1e30641b7e7346b99e41ce90">endDate_</a></td></tr>
<tr class="separator:a0e8bdbee1e30641b7e7346b99e41ce90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dd09652ecb7f683583fc5d9a33acaac"><td class="memItemLeft" align="right" valign="top">QuantLib::Date&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a9dd09652ecb7f683583fc5d9a33acaac">paymentDate_</a></td></tr>
<tr class="separator:a9dd09652ecb7f683583fc5d9a33acaac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3514cfc57b1acc42ae7bb32b0edeb41"><td class="memItemLeft" align="right" valign="top">ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab3514cfc57b1acc42ae7bb32b0edeb41">index_</a></td></tr>
<tr class="separator:ab3514cfc57b1acc42ae7bb32b0edeb41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10a859911db7ab12990afc3e5e331d97"><td class="memItemLeft" align="right" valign="top">QuantLib::Calendar&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a10a859911db7ab12990afc3e5e331d97">pricingCalendar_</a></td></tr>
<tr class="separator:a10a859911db7ab12990afc3e5e331d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b1e68d52f850e1bee2b68548deb66f2"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a9b1e68d52f850e1bee2b68548deb66f2">spread_</a></td></tr>
<tr class="separator:a9b1e68d52f850e1bee2b68548deb66f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab805b31578c5f301b3de4f04c0e639d6"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab805b31578c5f301b3de4f04c0e639d6">gearing_</a></td></tr>
<tr class="separator:ab805b31578c5f301b3de4f04c0e639d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e42745a6a3650ea0af2a2fcbbd3ac25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a7e42745a6a3650ea0af2a2fcbbd3ac25">useFuturePrice_</a></td></tr>
<tr class="separator:a7e42745a6a3650ea0af2a2fcbbd3ac25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2caae2eec94a816e30d60e495dc35d"><td class="memItemLeft" align="right" valign="top">QuantLib::Natural&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#acb2caae2eec94a816e30d60e495dc35d">deliveryDateRoll_</a></td></tr>
<tr class="separator:acb2caae2eec94a816e30d60e495dc35d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a714a2e51a8833c6bbbc0f9db99f56172"><td class="memItemLeft" align="right" valign="top">QuantLib::Natural&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a714a2e51a8833c6bbbc0f9db99f56172">futureMonthOffset_</a></td></tr>
<tr class="separator:a714a2e51a8833c6bbbc0f9db99f56172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a560809ad7b651b8abe058aab9ce684a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a560809ad7b651b8abe058aab9ce684a2">includeEndDate_</a></td></tr>
<tr class="separator:a560809ad7b651b8abe058aab9ce684a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d690d746492f24880dcb4c71a0b745f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2d690d746492f24880dcb4c71a0b745f">excludeStartDate_</a></td></tr>
<tr class="separator:a2d690d746492f24880dcb4c71a0b745f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2879f8e400e8a364075355d75fce3e63"><td class="memItemLeft" align="right" valign="top">std::map&lt; QuantLib::Date, ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a></td></tr>
<tr class="separator:a2879f8e400e8a364075355d75fce3e63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadc0745299b8d60dcaa1a9f5adb3256f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#aadc0745299b8d60dcaa1a9f5adb3256f">useBusinessDays_</a></td></tr>
<tr class="separator:aadc0745299b8d60dcaa1a9f5adb3256f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871a4078d67d0b82094478d91aae8c23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_ext.html#a09d4e29c69cb797cd6633e1081884e7c">CommodityQuantityFrequency</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a871a4078d67d0b82094478d91aae8c23">quantityFrequency_</a></td></tr>
<tr class="separator:a871a4078d67d0b82094478d91aae8c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a2c5de4aa2c8a121a941b5bb3fb6157"><td class="memItemLeft" align="right" valign="top">QuantLib::Natural&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a7a2c5de4aa2c8a121a941b5bb3fb6157">hoursPerDay_</a></td></tr>
<tr class="separator:a7a2c5de4aa2c8a121a941b5bb3fb6157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cb8461f47c6826a4860e880affe1e91"><td class="memItemLeft" align="right" valign="top">QuantLib::Natural&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a8cb8461f47c6826a4860e880affe1e91">dailyExpiryOffset_</a></td></tr>
<tr class="separator:a8cb8461f47c6826a4860e880affe1e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63acb438741c573c2ecdfe1f7257f15d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a63acb438741c573c2ecdfe1f7257f15d">unrealisedQuantity_</a></td></tr>
<tr class="separator:a63acb438741c573c2ecdfe1f7257f15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e188a556c8bcfb7110c3138b9085745"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a1e188a556c8bcfb7110c3138b9085745">periodQuantity_</a></td></tr>
<tr class="separator:a1e188a556c8bcfb7110c3138b9085745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895bd2f26df570d5cdac904eadae1c25"><td class="memItemLeft" align="right" valign="top">boost::optional&lt; std::pair&lt; QuantLib::Calendar, QuantLib::Real &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a895bd2f26df570d5cdac904eadae1c25">offPeakPowerData_</a></td></tr>
<tr class="separator:a895bd2f26df570d5cdac904eadae1c25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9dae31540e3e50193ab4f9532eae268"><td class="memItemLeft" align="right" valign="top">std::map&lt; QuantLib::Date, QuantLib::Real &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab9dae31540e3e50193ab4f9532eae268">weights_</a></td></tr>
<tr class="separator:ab9dae31540e3e50193ab4f9532eae268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c54df7ed3b930268c8d7752c101725"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ac5c54df7ed3b930268c8d7752c101725">update</a> ()</td></tr>
<tr class="separator:ac5c54df7ed3b930268c8d7752c101725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab24f671b007068905b60d12c3955318d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab24f671b007068905b60d12c3955318d">init</a> (const ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;calc)</td></tr>
<tr class="memdesc:ab24f671b007068905b60d12c3955318d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared initialisation.  <a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab24f671b007068905b60d12c3955318d">More...</a><br /></td></tr>
<tr class="separator:ab24f671b007068905b60d12c3955318d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425d5fd3a9a18af9d4373da7f5dd2858"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a425d5fd3a9a18af9d4373da7f5dd2858">updateQuantity</a> ()</td></tr>
<tr class="memdesc:a425d5fd3a9a18af9d4373da7f5dd2858"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the period quantity based on the quantity and quantity frequency parameter.  <a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a425d5fd3a9a18af9d4373da7f5dd2858">More...</a><br /></td></tr>
<tr class="separator:a425d5fd3a9a18af9d4373da7f5dd2858"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Cash flow dependent on the average of commodity spot prices or futures settlement prices over a period.</p>
<p>The cash flow takes a start date and an end date. The set of valid pricing dates is determined from and including the start date to but excluding the end date. The cash flow amount is then the arithmetic average of the commodity spot prices or next commodity future settlement prices on each valid pricing date times the quantity. The next commodity future is determined relative to each pricing date so the settlement prices for multiple commodity contracts may be involved in the averaging. </p>

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00030">30</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a437d5a1a3f626db25818a1361fd95f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a437d5a1a3f626db25818a1361fd95f52">&#9670;&nbsp;</a></span>CommodityIndexedAverageCashFlow() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html">CommodityIndexedAverageCashFlow</a> </td>
          <td>(</td>
          <td class="paramtype">QuantLib::Real&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>startDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>endDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>paymentDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Calendar &amp;&#160;</td>
          <td class="paramname"><em>pricingCalendar</em> = <code>QuantLib::Calendar()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Real&#160;</td>
          <td class="paramname"><em>spread</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Real&#160;</td>
          <td class="paramname"><em>gearing</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>useFuturePrice</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Natural&#160;</td>
          <td class="paramname"><em>deliveryDateRoll</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Natural&#160;</td>
          <td class="paramname"><em>futureMonthOffset</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>calc</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeEndDate</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>excludeStartDate</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>useBusinessDays</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_ext.html#a09d4e29c69cb797cd6633e1081884e7c">CommodityQuantityFrequency</a>&#160;</td>
          <td class="paramname"><em>quantityFrequency</em> = <code>CommodityQuantityFrequency::PerCalculationPeriod</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Natural&#160;</td>
          <td class="paramname"><em>hoursPerDay</em> = <code>QuantLib::Null&lt;&#160;QuantLib::Natural&#160;&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Natural&#160;</td>
          <td class="paramname"><em>dailyExpiryOffset</em> = <code>QuantLib::Null&lt;&#160;QuantLib::Natural&#160;&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>unrealisedQuantity</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::optional&lt; std::pair&lt; QuantLib::Calendar, QuantLib::Real &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>offPeakPowerData</em> = <code>boost::none</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor taking an explicit <code>paymentDate</code>. </p>

</div>
</div>
<a id="ae9e0630962fe49a7337b7da0702d74ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9e0630962fe49a7337b7da0702d74ce">&#9670;&nbsp;</a></span>CommodityIndexedAverageCashFlow() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html">CommodityIndexedAverageCashFlow</a> </td>
          <td>(</td>
          <td class="paramtype">QuantLib::Real&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>startDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>endDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Natural&#160;</td>
          <td class="paramname"><em>paymentLag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Calendar&#160;</td>
          <td class="paramname"><em>paymentCalendar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::BusinessDayConvention&#160;</td>
          <td class="paramname"><em>paymentConvention</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Calendar &amp;&#160;</td>
          <td class="paramname"><em>pricingCalendar</em> = <code>QuantLib::Calendar()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Real&#160;</td>
          <td class="paramname"><em>spread</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Real&#160;</td>
          <td class="paramname"><em>gearing</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>payInAdvance</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>useFuturePrice</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Natural&#160;</td>
          <td class="paramname"><em>deliveryDateRoll</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Natural&#160;</td>
          <td class="paramname"><em>futureMonthOffset</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>calc</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeEndDate</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>excludeStartDate</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>paymentDateOverride</em> = <code>Date()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>useBusinessDays</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_ext.html#a09d4e29c69cb797cd6633e1081884e7c">CommodityQuantityFrequency</a>&#160;</td>
          <td class="paramname"><em>quantityFrequency</em> = <code>CommodityQuantityFrequency::PerCalculationPeriod</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Natural&#160;</td>
          <td class="paramname"><em>hoursPerDay</em> = <code>QuantLib::Null&lt;&#160;QuantLib::Natural&#160;&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Natural&#160;</td>
          <td class="paramname"><em>dailyExpiryOffset</em> = <code>QuantLib::Null&lt;&#160;QuantLib::Natural&#160;&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>unrealisedQuantity</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::optional&lt; std::pair&lt; QuantLib::Calendar, QuantLib::Real &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>offPeakPowerData</em> = <code>boost::none</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor that deduces payment date from <code>endDate</code> using payment conventions. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adc436f9c1e03c6afd992e5500b070eda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc436f9c1e03c6afd992e5500b070eda">&#9670;&nbsp;</a></span>quantity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Real quantity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00069">69</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#af04191e732d3c53843d50a1bde8c33e8">quantity_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a937b2a1f16872cf63effa9c73899ca59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a937b2a1f16872cf63effa9c73899ca59">&#9670;&nbsp;</a></span>startDate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QuantLib::Date&amp; startDate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00070">70</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ad4c9935747d00981e5c4b1a9bd5af319">startDate_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab1262092c524cbeec1fb5c8549dd6821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1262092c524cbeec1fb5c8549dd6821">&#9670;&nbsp;</a></span>endDate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QuantLib::Date&amp; endDate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00071">71</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a0e8bdbee1e30641b7e7346b99e41ce90">endDate_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a95d970ee91a158e93443c32504916214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d970ee91a158e93443c32504916214">&#9670;&nbsp;</a></span>index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ext::shared_ptr&lt;<a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a>&gt; index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00072">72</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab3514cfc57b1acc42ae7bb32b0edeb41">index_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a16467b4eb0c8882f5b1e8b1e6db8ff26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16467b4eb0c8882f5b1e8b1e6db8ff26">&#9670;&nbsp;</a></span>spread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Real spread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00073">73</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a9b1e68d52f850e1bee2b68548deb66f2">spread_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8778c288a2e8ed961daa3518ce5ce651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8778c288a2e8ed961daa3518ce5ce651">&#9670;&nbsp;</a></span>gearing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Real gearing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00074">74</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab805b31578c5f301b3de4f04c0e639d6">gearing_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2bf5b13ff0e6e0788025a87f33f4d5fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bf5b13ff0e6e0788025a87f33f4d5fc">&#9670;&nbsp;</a></span>useFuturePrice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> useFuturePrice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00075">75</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a7e42745a6a3650ea0af2a2fcbbd3ac25">useFuturePrice_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a883f472e39db01b7e212be297ce42577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a883f472e39db01b7e212be297ce42577">&#9670;&nbsp;</a></span>deliveryDateRoll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Natural deliveryDateRoll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00076">76</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#acb2caae2eec94a816e30d60e495dc35d">deliveryDateRoll_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="abcc44743e19a786697feff1de1c3932f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcc44743e19a786697feff1de1c3932f">&#9670;&nbsp;</a></span>futureMonthOffset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Natural futureMonthOffset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00077">77</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a714a2e51a8833c6bbbc0f9db99f56172">futureMonthOffset_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a390b24495cb478ba9f57ba9f5a912d3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a390b24495cb478ba9f57ba9f5a912d3b">&#9670;&nbsp;</a></span>useBusinessDays()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> useBusinessDays </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00078">78</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#aadc0745299b8d60dcaa1a9f5adb3256f">useBusinessDays_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d02d48f07f2287ed72d09d1e47ffd87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d02d48f07f2287ed72d09d1e47ffd87">&#9670;&nbsp;</a></span>quantityFrequency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_ext.html#a09d4e29c69cb797cd6633e1081884e7c">CommodityQuantityFrequency</a> quantityFrequency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00079">79</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a871a4078d67d0b82094478d91aae8c23">quantityFrequency_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e095fd9ca4fe0e119660efaa08078d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e095fd9ca4fe0e119660efaa08078d6">&#9670;&nbsp;</a></span>hoursPerDay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Natural hoursPerDay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00080">80</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a7a2c5de4aa2c8a121a941b5bb3fb6157">hoursPerDay_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ad7aa1bfdecd43220127fad419bef14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ad7aa1bfdecd43220127fad419bef14">&#9670;&nbsp;</a></span>dailyExpiryOffset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Natural dailyExpiryOffset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00081">81</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a8cb8461f47c6826a4860e880affe1e91">dailyExpiryOffset_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="acce284f79213588d50dfa2e22cada815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce284f79213588d50dfa2e22cada815">&#9670;&nbsp;</a></span>unrealisedQuantity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> unrealisedQuantity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00082">82</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a63acb438741c573c2ecdfe1f7257f15d">unrealisedQuantity_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="adb0c07a36fddba121d63e064fc0d4347"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb0c07a36fddba121d63e064fc0d4347">&#9670;&nbsp;</a></span>offPeakPowerData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const boost::optional&lt;std::pair&lt;QuantLib::Calendar, QuantLib::Real&gt; &gt;&amp; offPeakPowerData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00083">83</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                                                                                           {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a895bd2f26df570d5cdac904eadae1c25">offPeakPowerData_</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad06b93c813b22246962f810ad2417ee9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad06b93c813b22246962f810ad2417ee9">&#9670;&nbsp;</a></span>indices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::map&lt;QuantLib::Date, ext::shared_ptr&lt;<a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a>&gt; &gt;&amp; indices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the index used to get the price for each pricing date in the period. The map keys are the pricing dates. For a given key date, the map value holds the commodity index used to give the price on that date. If the averaging does not reference future contract settlement prices, i.e. <code>useFirstFuture()</code> is <code>false</code>, the commodity index is simply the commodity spot index passed in the constructor. If the averaging references future contract settlement prices, i.e. <code>useFirstFuture()</code> is <code>true</code>, the commodity index is the commodity future contract <em>index</em> relevant for that pricing date. </p>

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00094">94</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a988cb35ef229173d1bdf18650fe35a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a988cb35ef229173d1bdf18650fe35a">&#9670;&nbsp;</a></span>periodQuantity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Real periodQuantity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Quantity for the full calculation period i.e. the effective quantity after taking into account the quantity frequency setting. </p>

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00099">99</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a1e188a556c8bcfb7110c3138b9085745">periodQuantity_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a85d95e214166749ca6a6a7c0ef390fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85d95e214166749ca6a6a7c0ef390fd9">&#9670;&nbsp;</a></span>date()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Date date </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00104">104</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a9dd09652ecb7f683583fc5d9a33acaac">paymentDate_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aebd2894f0f18274fd9a79140833c5e96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebd2894f0f18274fd9a79140833c5e96">&#9670;&nbsp;</a></span>amount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Real amount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8cpp_source.html#l00070">70</a> of file <a class="el" href="commodityindexedaveragecashflow_8cpp_source.html">commodityindexedaveragecashflow.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                                   {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// Calculate the average price</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    Real averagePrice = 0.0;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab9dae31540e3e50193ab4f9532eae268">weights_</a>.empty()) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; kv : <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            averagePrice += kv.second-&gt;fixing(kv.first);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        averagePrice /= <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>.size();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="comment">// weights_ will be populated when offPeakPowerData_ is provided.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; kv : <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            averagePrice += kv.second-&gt;fixing(kv.first) * <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab9dae31540e3e50193ab4f9532eae268">weights_</a>.at(kv.first);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// Amount is just average price times quantity</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a1e188a556c8bcfb7110c3138b9085745">periodQuantity_</a> * (<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab805b31578c5f301b3de4f04c0e639d6">gearing_</a> * averagePrice + <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a9b1e68d52f850e1bee2b68548deb66f2">spread_</a>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a51b1f1d14a270e07a38ac9ec0ddb2b50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51b1f1d14a270e07a38ac9ec0ddb2b50">&#9670;&nbsp;</a></span>accept()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void accept </td>
          <td>(</td>
          <td class="paramtype">QuantLib::AcyclicVisitor &amp;&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8cpp_source.html#l00090">90</a> of file <a class="el" href="commodityindexedaveragecashflow_8cpp_source.html">commodityindexedaveragecashflow.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                                              {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span> (Visitor&lt;CommodityIndexedAverageCashFlow&gt;* v1 = <span class="keyword">dynamic_cast&lt;</span>Visitor&lt;CommodityIndexedAverageCashFlow&gt;*<span class="keyword">&gt;</span>(&amp;v))</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        v1-&gt;visit(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        CashFlow::accept(v);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5c54df7ed3b930268c8d7752c101725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5c54df7ed3b930268c8d7752c101725">&#9670;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8cpp_source.html#l00097">97</a> of file <a class="el" href="commodityindexedaveragecashflow_8cpp_source.html">commodityindexedaveragecashflow.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                             {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    notifyObservers();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab24f671b007068905b60d12c3955318d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab24f671b007068905b60d12c3955318d">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void init </td>
          <td>(</td>
          <td class="paramtype">const ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>calc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shared initialisation. </p>

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8cpp_source.html#l00101">101</a> of file <a class="el" href="commodityindexedaveragecashflow_8cpp_source.html">commodityindexedaveragecashflow.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                                                                            {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// If pricing calendar is not set, use the index fixing calendar</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a10a859911db7ab12990afc3e5e331d97">pricingCalendar_</a> == Calendar()) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a10a859911db7ab12990afc3e5e331d97">pricingCalendar_</a> = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab3514cfc57b1acc42ae7bb32b0edeb41">index_</a>-&gt;fixingCalendar();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// If we are going to reference a future settlement price, check that we have a valid expiry calculator</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a7e42745a6a3650ea0af2a2fcbbd3ac25">useFuturePrice_</a>) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        QL_REQUIRE(calc, <span class="stringliteral">&quot;CommodityIndexedCashFlow needs a valid future expiry calculator when using first future&quot;</span>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// Store the relevant index for each pricing date taking account of the flags and the pricing calendar</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keyword">auto</span> pds = <a class="code" href="namespace_quant_ext.html#a2dcbd614f6823aca7569a0ef1a39e464">pricingDates</a>(<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ad4c9935747d00981e5c4b1a9bd5af319">startDate_</a>, <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a0e8bdbee1e30641b7e7346b99e41ce90">endDate_</a>, <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a10a859911db7ab12990afc3e5e331d97">pricingCalendar_</a>,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2d690d746492f24880dcb4c71a0b745f">excludeStartDate_</a>, <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a560809ad7b651b8abe058aab9ce684a2">includeEndDate_</a>, <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#aadc0745299b8d60dcaa1a9f5adb3256f">useBusinessDays_</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    QL_REQUIRE(!pds.empty(), <span class="stringliteral">&quot;CommodityIndexedAverageCashFlow: found no pricing dates between &quot;</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        &lt;&lt; io::iso_date(<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ad4c9935747d00981e5c4b1a9bd5af319">startDate_</a>) &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; io::iso_date(<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a0e8bdbee1e30641b7e7346b99e41ce90">endDate_</a>) &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// Populate the indices_ map with the correct values.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a7e42745a6a3650ea0af2a2fcbbd3ac25">useFuturePrice_</a>) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="comment">// If not using future prices, just observe spot on every pricing date.</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> Date&amp; pd : pds) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>[pd] = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab3514cfc57b1acc42ae7bb32b0edeb41">index_</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="comment">// If using future prices, first fill indices assuming delivery date roll is 0.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> Date&amp; pd : pds) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keyword">auto</span> expiry = calc-&gt;nextExpiry(<span class="keyword">true</span>, pd, <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a714a2e51a8833c6bbbc0f9db99f56172">futureMonthOffset_</a>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <span class="comment">// If given an offset for each expiry, apply it now.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a8cb8461f47c6826a4860e880affe1e91">dailyExpiryOffset_</a> != Null&lt;Natural&gt;()) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                expiry = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab3514cfc57b1acc42ae7bb32b0edeb41">index_</a>-&gt;fixingCalendar().advance(expiry, <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a8cb8461f47c6826a4860e880affe1e91">dailyExpiryOffset_</a> * Days);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>[pd] = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab3514cfc57b1acc42ae7bb32b0edeb41">index_</a>-&gt;clone(expiry);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="comment">// Update indices_ where necessary if delivery date roll is greater than 0.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#acb2caae2eec94a816e30d60e495dc35d">deliveryDateRoll_</a> &gt; 0) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            Date expiry;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            Date prevExpiry;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            Date rollDate;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; kv : <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="comment">// If expiry is different from previous expiry, update the roll date.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                expiry = kv.second-&gt;expiryDate();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <span class="keywordflow">if</span> (expiry != prevExpiry) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                    rollDate = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a10a859911db7ab12990afc3e5e331d97">pricingCalendar_</a>.advance(expiry,</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                        -<span class="keyword">static_cast&lt;</span>Integer<span class="keyword">&gt;</span>(<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#acb2caae2eec94a816e30d60e495dc35d">deliveryDateRoll_</a>), Days);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                prevExpiry = expiry;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                <span class="comment">// If the pricing date is after the roll date, we use the next expiry.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="keywordflow">if</span> (kv.first &gt; rollDate) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    expiry = calc-&gt;nextExpiry(<span class="keyword">false</span>, expiry);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                    kv.second = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab3514cfc57b1acc42ae7bb32b0edeb41">index_</a>-&gt;clone(expiry);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// Register with each of the indices.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; kv : <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        registerWith(kv.second);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">// If offPeakPowerData_ is provided, populate weights_</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a895bd2f26df570d5cdac904eadae1c25">offPeakPowerData_</a>) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        Calendar peakCalendar = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a895bd2f26df570d5cdac904eadae1c25">offPeakPowerData_</a>-&gt;first;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        Real offPeakHours = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a895bd2f26df570d5cdac904eadae1c25">offPeakPowerData_</a>-&gt;second;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        Real total = 0;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; kv : <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="keywordflow">if</span> (peakCalendar.isHoliday(kv.first))</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                total += <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab9dae31540e3e50193ab4f9532eae268">weights_</a>[kv.first] = 24;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                total += <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab9dae31540e3e50193ab4f9532eae268">weights_</a>[kv.first] = offPeakHours;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; kv : <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab9dae31540e3e50193ab4f9532eae268">weights_</a>)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            kv.second /= total;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// Must be called here after indices_ has been populated.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a425d5fd3a9a18af9d4373da7f5dd2858">updateQuantity</a>();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_commodity_indexed_average_cash_flow_ab24f671b007068905b60d12c3955318d_cgraph.png" border="0" usemap="#aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_ab24f671b007068905b60d12c3955318d_cgraph" alt=""/></div>
<map name="class_quant_ext_1_1_commodity_indexed_average_cash_flow_ab24f671b007068905b60d12c3955318d_cgraph" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_ab24f671b007068905b60d12c3955318d_cgraph">
<area shape="rect" title="Shared initialisation." alt="" coords="5,5,44,32"/>
<area shape="rect" href="namespace_quant_ext.html#a2dcbd614f6823aca7569a0ef1a39e464" title=" " alt="" coords="92,5,249,32"/>
<area shape="rect" href="namespace_quant_ext.html#ada25963a9946338f40882d82996669b5" title=" " alt="" coords="297,5,460,32"/>
</map>
</div>

</div>
</div>
<a id="a425d5fd3a9a18af9d4373da7f5dd2858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a425d5fd3a9a18af9d4373da7f5dd2858">&#9670;&nbsp;</a></span>updateQuantity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void updateQuantity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the period quantity based on the quantity and quantity frequency parameter. </p>

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8cpp_source.html#l00194">194</a> of file <a class="el" href="commodityindexedaveragecashflow_8cpp_source.html">commodityindexedaveragecashflow.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                                                     {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keyword">using</span> CQF = <a class="code" href="namespace_quant_ext.html#a09d4e29c69cb797cd6633e1081884e7c">CommodityQuantityFrequency</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a871a4078d67d0b82094478d91aae8c23">quantityFrequency_</a>)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">case</span> CQF::PerCalculationPeriod:</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a1e188a556c8bcfb7110c3138b9085745">periodQuantity_</a> = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#af04191e732d3c53843d50a1bde8c33e8">quantity_</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a63acb438741c573c2ecdfe1f7257f15d">unrealisedQuantity_</a>) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            Date today = Settings::instance().evaluationDate();</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ad4c9935747d00981e5c4b1a9bd5af319">startDate_</a> &lt;= today &amp;&amp; today &lt; <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a0e8bdbee1e30641b7e7346b99e41ce90">endDate_</a>) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                <span class="comment">// In both cases, unrealised equal to 0 should probably be an error but leave quantity unaltered.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a895bd2f26df570d5cdac904eadae1c25">offPeakPowerData_</a>) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    QL_REQUIRE(!<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab9dae31540e3e50193ab4f9532eae268">weights_</a>.empty(), <span class="stringliteral">&quot;Expected to have weights when we have off-peak power data.&quot;</span>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                    <span class="keyword">auto</span> unrealised = accumulate(<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab9dae31540e3e50193ab4f9532eae268">weights_</a>.begin(), <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab9dae31540e3e50193ab4f9532eae268">weights_</a>.end(), 0.0,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                        [&amp;today](Real sum, <span class="keyword">const</span> pair&lt;Date, Real&gt;&amp; p) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                            return p.first &gt; today ? sum + p.second : sum; });</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                    <span class="keywordflow">if</span> (unrealised &gt; 0) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                        <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a1e188a556c8bcfb7110c3138b9085745">periodQuantity_</a> /= unrealised;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    <span class="keyword">auto</span> unrealised = count_if(<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>.begin(), <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>.end(),</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                        [&amp;today](<span class="keyword">const</span> pair&lt;Date, ext::shared_ptr&lt;CommodityIndex&gt;&gt;&amp; p) { return p.first &gt; today; });</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    <span class="keywordflow">if</span> (unrealised &gt; 0) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a1e188a556c8bcfb7110c3138b9085745">periodQuantity_</a> = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a1e188a556c8bcfb7110c3138b9085745">periodQuantity_</a> * <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>.size() / unrealised;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                    }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">case</span> CQF::PerPricingDay:</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a1e188a556c8bcfb7110c3138b9085745">periodQuantity_</a> = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#af04191e732d3c53843d50a1bde8c33e8">quantity_</a> * <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>.size();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">case</span> CQF::PerHour:</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a895bd2f26df570d5cdac904eadae1c25">offPeakPowerData_</a>) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            Calendar peakCalendar = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a895bd2f26df570d5cdac904eadae1c25">offPeakPowerData_</a>-&gt;first;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            Real offPeakHours = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a895bd2f26df570d5cdac904eadae1c25">offPeakPowerData_</a>-&gt;second;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a1e188a556c8bcfb7110c3138b9085745">periodQuantity_</a> = 0.0;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; kv : <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                <span class="keywordflow">if</span> (peakCalendar.isHoliday(kv.first))</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                    <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a1e188a556c8bcfb7110c3138b9085745">periodQuantity_</a> += 24.0 * <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#af04191e732d3c53843d50a1bde8c33e8">quantity_</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a1e188a556c8bcfb7110c3138b9085745">periodQuantity_</a> += offPeakHours * <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#af04191e732d3c53843d50a1bde8c33e8">quantity_</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            QL_REQUIRE(<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a7a2c5de4aa2c8a121a941b5bb3fb6157">hoursPerDay_</a> != Null&lt;Natural&gt;(), <span class="stringliteral">&quot;If a commodity quantity frequency of PerHour is used, &quot;</span> &lt;&lt;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <span class="stringliteral">&quot;a valid hoursPerDay value should be supplied.&quot;</span>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a1e188a556c8bcfb7110c3138b9085745">periodQuantity_</a> = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#af04191e732d3c53843d50a1bde8c33e8">quantity_</a> * <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">indices_</a>.size() * <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a7a2c5de4aa2c8a121a941b5bb3fb6157">hoursPerDay_</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">case</span> CQF::PerCalendarDay:</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="comment">// Rarely used but kept because it has already been documented and released.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a1e188a556c8bcfb7110c3138b9085745">periodQuantity_</a> = <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#af04191e732d3c53843d50a1bde8c33e8">quantity_</a> * ((<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a0e8bdbee1e30641b7e7346b99e41ce90">endDate_</a> - <a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ad4c9935747d00981e5c4b1a9bd5af319">startDate_</a> - 1.0) + (!<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2d690d746492f24880dcb4c71a0b745f">excludeStartDate_</a> ? 1.0 : 0.0) +</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            (<a class="code" href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a560809ad7b651b8abe058aab9ce684a2">includeEndDate_</a> ? 1.0 : 0.0));</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="comment">// Do nothing</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af04191e732d3c53843d50a1bde8c33e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af04191e732d3c53843d50a1bde8c33e8">&#9670;&nbsp;</a></span>quantity_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Real quantity_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00123">123</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="ad4c9935747d00981e5c4b1a9bd5af319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4c9935747d00981e5c4b1a9bd5af319">&#9670;&nbsp;</a></span>startDate_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Date startDate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00124">124</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a0e8bdbee1e30641b7e7346b99e41ce90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e8bdbee1e30641b7e7346b99e41ce90">&#9670;&nbsp;</a></span>endDate_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Date endDate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00125">125</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a9dd09652ecb7f683583fc5d9a33acaac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dd09652ecb7f683583fc5d9a33acaac">&#9670;&nbsp;</a></span>paymentDate_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Date paymentDate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00126">126</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="ab3514cfc57b1acc42ae7bb32b0edeb41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3514cfc57b1acc42ae7bb32b0edeb41">&#9670;&nbsp;</a></span>index_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ext::shared_ptr&lt;<a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a>&gt; index_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00127">127</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a10a859911db7ab12990afc3e5e331d97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10a859911db7ab12990afc3e5e331d97">&#9670;&nbsp;</a></span>pricingCalendar_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Calendar pricingCalendar_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00128">128</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a9b1e68d52f850e1bee2b68548deb66f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b1e68d52f850e1bee2b68548deb66f2">&#9670;&nbsp;</a></span>spread_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Real spread_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00129">129</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="ab805b31578c5f301b3de4f04c0e639d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab805b31578c5f301b3de4f04c0e639d6">&#9670;&nbsp;</a></span>gearing_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Real gearing_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00130">130</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a7e42745a6a3650ea0af2a2fcbbd3ac25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e42745a6a3650ea0af2a2fcbbd3ac25">&#9670;&nbsp;</a></span>useFuturePrice_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> useFuturePrice_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00131">131</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="acb2caae2eec94a816e30d60e495dc35d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb2caae2eec94a816e30d60e495dc35d">&#9670;&nbsp;</a></span>deliveryDateRoll_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Natural deliveryDateRoll_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00132">132</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a714a2e51a8833c6bbbc0f9db99f56172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a714a2e51a8833c6bbbc0f9db99f56172">&#9670;&nbsp;</a></span>futureMonthOffset_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Natural futureMonthOffset_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00133">133</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a560809ad7b651b8abe058aab9ce684a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a560809ad7b651b8abe058aab9ce684a2">&#9670;&nbsp;</a></span>includeEndDate_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> includeEndDate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00134">134</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a2d690d746492f24880dcb4c71a0b745f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d690d746492f24880dcb4c71a0b745f">&#9670;&nbsp;</a></span>excludeStartDate_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> excludeStartDate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00135">135</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a2879f8e400e8a364075355d75fce3e63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2879f8e400e8a364075355d75fce3e63">&#9670;&nbsp;</a></span>indices_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;QuantLib::Date, ext::shared_ptr&lt;<a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a>&gt; &gt; indices_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00136">136</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="aadc0745299b8d60dcaa1a9f5adb3256f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadc0745299b8d60dcaa1a9f5adb3256f">&#9670;&nbsp;</a></span>useBusinessDays_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> useBusinessDays_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00137">137</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a871a4078d67d0b82094478d91aae8c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a871a4078d67d0b82094478d91aae8c23">&#9670;&nbsp;</a></span>quantityFrequency_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_ext.html#a09d4e29c69cb797cd6633e1081884e7c">CommodityQuantityFrequency</a> quantityFrequency_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00138">138</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a7a2c5de4aa2c8a121a941b5bb3fb6157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a2c5de4aa2c8a121a941b5bb3fb6157">&#9670;&nbsp;</a></span>hoursPerDay_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Natural hoursPerDay_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00139">139</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a8cb8461f47c6826a4860e880affe1e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cb8461f47c6826a4860e880affe1e91">&#9670;&nbsp;</a></span>dailyExpiryOffset_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Natural dailyExpiryOffset_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00140">140</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a63acb438741c573c2ecdfe1f7257f15d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63acb438741c573c2ecdfe1f7257f15d">&#9670;&nbsp;</a></span>unrealisedQuantity_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> unrealisedQuantity_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00141">141</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a1e188a556c8bcfb7110c3138b9085745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e188a556c8bcfb7110c3138b9085745">&#9670;&nbsp;</a></span>periodQuantity_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Real periodQuantity_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00142">142</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="a895bd2f26df570d5cdac904eadae1c25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a895bd2f26df570d5cdac904eadae1c25">&#9670;&nbsp;</a></span>offPeakPowerData_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::optional&lt;std::pair&lt;QuantLib::Calendar, QuantLib::Real&gt; &gt; offPeakPowerData_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00143">143</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
<a id="ab9dae31540e3e50193ab4f9532eae268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9dae31540e3e50193ab4f9532eae268">&#9670;&nbsp;</a></span>weights_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;QuantLib::Date, QuantLib::Real&gt; weights_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html#l00146">146</a> of file <a class="el" href="commodityindexedaveragecashflow_8hpp_source.html">commodityindexedaveragecashflow.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a714a2e51a8833c6bbbc0f9db99f56172"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a714a2e51a8833c6bbbc0f9db99f56172">QuantExt::CommodityIndexedAverageCashFlow::futureMonthOffset_</a></div><div class="ttdeci">QuantLib::Natural futureMonthOffset_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00133">commodityindexedaveragecashflow.hpp:133</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a2d690d746492f24880dcb4c71a0b745f"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2d690d746492f24880dcb4c71a0b745f">QuantExt::CommodityIndexedAverageCashFlow::excludeStartDate_</a></div><div class="ttdeci">bool excludeStartDate_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00135">commodityindexedaveragecashflow.hpp:135</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a425d5fd3a9a18af9d4373da7f5dd2858"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a425d5fd3a9a18af9d4373da7f5dd2858">QuantExt::CommodityIndexedAverageCashFlow::updateQuantity</a></div><div class="ttdeci">void updateQuantity()</div><div class="ttdoc">Set the period quantity based on the quantity and quantity frequency parameter.</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8cpp_source.html#l00194">commodityindexedaveragecashflow.cpp:194</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_ab9dae31540e3e50193ab4f9532eae268"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab9dae31540e3e50193ab4f9532eae268">QuantExt::CommodityIndexedAverageCashFlow::weights_</a></div><div class="ttdeci">std::map&lt; QuantLib::Date, QuantLib::Real &gt; weights_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00146">commodityindexedaveragecashflow.hpp:146</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_ab805b31578c5f301b3de4f04c0e639d6"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab805b31578c5f301b3de4f04c0e639d6">QuantExt::CommodityIndexedAverageCashFlow::gearing_</a></div><div class="ttdeci">QuantLib::Real gearing_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00130">commodityindexedaveragecashflow.hpp:130</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a10a859911db7ab12990afc3e5e331d97"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a10a859911db7ab12990afc3e5e331d97">QuantExt::CommodityIndexedAverageCashFlow::pricingCalendar_</a></div><div class="ttdeci">QuantLib::Calendar pricingCalendar_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00128">commodityindexedaveragecashflow.hpp:128</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a871a4078d67d0b82094478d91aae8c23"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a871a4078d67d0b82094478d91aae8c23">QuantExt::CommodityIndexedAverageCashFlow::quantityFrequency_</a></div><div class="ttdeci">CommodityQuantityFrequency quantityFrequency_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00138">commodityindexedaveragecashflow.hpp:138</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a0e8bdbee1e30641b7e7346b99e41ce90"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a0e8bdbee1e30641b7e7346b99e41ce90">QuantExt::CommodityIndexedAverageCashFlow::endDate_</a></div><div class="ttdeci">QuantLib::Date endDate_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00125">commodityindexedaveragecashflow.hpp:125</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a9dd09652ecb7f683583fc5d9a33acaac"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a9dd09652ecb7f683583fc5d9a33acaac">QuantExt::CommodityIndexedAverageCashFlow::paymentDate_</a></div><div class="ttdeci">QuantLib::Date paymentDate_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00126">commodityindexedaveragecashflow.hpp:126</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_acb2caae2eec94a816e30d60e495dc35d"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#acb2caae2eec94a816e30d60e495dc35d">QuantExt::CommodityIndexedAverageCashFlow::deliveryDateRoll_</a></div><div class="ttdeci">QuantLib::Natural deliveryDateRoll_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00132">commodityindexedaveragecashflow.hpp:132</a></div></div>
<div class="ttc" id="anamespace_quant_ext_html_a09d4e29c69cb797cd6633e1081884e7c"><div class="ttname"><a href="namespace_quant_ext.html#a09d4e29c69cb797cd6633e1081884e7c">QuantExt::CommodityQuantityFrequency</a></div><div class="ttdeci">CommodityQuantityFrequency</div><div class="ttdoc">Enumeration indicating the frequency associated with a commodity quantity.</div><div class="ttdef"><b>Definition:</b> <a href="commoditycashflow_8hpp_source.html#l00021">commoditycashflow.hpp:21</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_ab3514cfc57b1acc42ae7bb32b0edeb41"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ab3514cfc57b1acc42ae7bb32b0edeb41">QuantExt::CommodityIndexedAverageCashFlow::index_</a></div><div class="ttdeci">ext::shared_ptr&lt; CommodityIndex &gt; index_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00127">commodityindexedaveragecashflow.hpp:127</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_aadc0745299b8d60dcaa1a9f5adb3256f"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#aadc0745299b8d60dcaa1a9f5adb3256f">QuantExt::CommodityIndexedAverageCashFlow::useBusinessDays_</a></div><div class="ttdeci">bool useBusinessDays_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00137">commodityindexedaveragecashflow.hpp:137</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a63acb438741c573c2ecdfe1f7257f15d"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a63acb438741c573c2ecdfe1f7257f15d">QuantExt::CommodityIndexedAverageCashFlow::unrealisedQuantity_</a></div><div class="ttdeci">bool unrealisedQuantity_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00141">commodityindexedaveragecashflow.hpp:141</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a560809ad7b651b8abe058aab9ce684a2"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a560809ad7b651b8abe058aab9ce684a2">QuantExt::CommodityIndexedAverageCashFlow::includeEndDate_</a></div><div class="ttdeci">bool includeEndDate_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00134">commodityindexedaveragecashflow.hpp:134</a></div></div>
<div class="ttc" id="anamespace_quant_ext_html_a2dcbd614f6823aca7569a0ef1a39e464"><div class="ttname"><a href="namespace_quant_ext.html#a2dcbd614f6823aca7569a0ef1a39e464">QuantExt::pricingDates</a></div><div class="ttdeci">set&lt; Date &gt; pricingDates(const Date &amp;s, const Date &amp;e, const Calendar &amp;pricingCalendar, bool excludeStart, bool includeEnd, bool useBusinessDays)</div><div class="ttdef"><b>Definition:</b> <a href="commoditycashflow_8cpp_source.html#l00015">commoditycashflow.cpp:15</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a8cb8461f47c6826a4860e880affe1e91"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a8cb8461f47c6826a4860e880affe1e91">QuantExt::CommodityIndexedAverageCashFlow::dailyExpiryOffset_</a></div><div class="ttdeci">QuantLib::Natural dailyExpiryOffset_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00140">commodityindexedaveragecashflow.hpp:140</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a2879f8e400e8a364075355d75fce3e63"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a2879f8e400e8a364075355d75fce3e63">QuantExt::CommodityIndexedAverageCashFlow::indices_</a></div><div class="ttdeci">std::map&lt; QuantLib::Date, ext::shared_ptr&lt; CommodityIndex &gt; &gt; indices_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00136">commodityindexedaveragecashflow.hpp:136</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_ad4c9935747d00981e5c4b1a9bd5af319"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#ad4c9935747d00981e5c4b1a9bd5af319">QuantExt::CommodityIndexedAverageCashFlow::startDate_</a></div><div class="ttdeci">QuantLib::Date startDate_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00124">commodityindexedaveragecashflow.hpp:124</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a895bd2f26df570d5cdac904eadae1c25"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a895bd2f26df570d5cdac904eadae1c25">QuantExt::CommodityIndexedAverageCashFlow::offPeakPowerData_</a></div><div class="ttdeci">boost::optional&lt; std::pair&lt; QuantLib::Calendar, QuantLib::Real &gt; &gt; offPeakPowerData_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00143">commodityindexedaveragecashflow.hpp:143</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a7a2c5de4aa2c8a121a941b5bb3fb6157"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a7a2c5de4aa2c8a121a941b5bb3fb6157">QuantExt::CommodityIndexedAverageCashFlow::hoursPerDay_</a></div><div class="ttdeci">QuantLib::Natural hoursPerDay_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00139">commodityindexedaveragecashflow.hpp:139</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a1e188a556c8bcfb7110c3138b9085745"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a1e188a556c8bcfb7110c3138b9085745">QuantExt::CommodityIndexedAverageCashFlow::periodQuantity_</a></div><div class="ttdeci">QuantLib::Real periodQuantity_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00142">commodityindexedaveragecashflow.hpp:142</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a9b1e68d52f850e1bee2b68548deb66f2"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a9b1e68d52f850e1bee2b68548deb66f2">QuantExt::CommodityIndexedAverageCashFlow::spread_</a></div><div class="ttdeci">QuantLib::Real spread_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00129">commodityindexedaveragecashflow.hpp:129</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_a7e42745a6a3650ea0af2a2fcbbd3ac25"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#a7e42745a6a3650ea0af2a2fcbbd3ac25">QuantExt::CommodityIndexedAverageCashFlow::useFuturePrice_</a></div><div class="ttdeci">bool useFuturePrice_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00131">commodityindexedaveragecashflow.hpp:131</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_average_cash_flow_html_af04191e732d3c53843d50a1bde8c33e8"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_average_cash_flow.html#af04191e732d3c53843d50a1bde8c33e8">QuantExt::CommodityIndexedAverageCashFlow::quantity_</a></div><div class="ttdeci">QuantLib::Real quantity_</div><div class="ttdef"><b>Definition:</b> <a href="commodityindexedaveragecashflow_8hpp_source.html#l00123">commodityindexedaveragecashflow.hpp:123</a></div></div>
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.8.20
</small></address>
</body>
</html>
