<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<title>QuantExt: McMultiLegBaseEngine Class Reference</title>
<link href="https://fonts.googleapis.com/css?family=Merriweather+Sans|Open+Sans" rel="stylesheet">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="favicon.png">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="quantextextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname"><a href="https://rkapl123.github.io/OREAnnotatedSource/">
       <img src="logo-qle@2x.png" alt="Logo" width="150" height="68" style="float: left; padding: 15px;"/></a>
   <div id="projectbrief">Fully annotated reference manual - version 1.8.11</div>
   </div>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_quant_ext.html">QuantExt</a></li><li class="navelem"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html">McMultiLegBaseEngine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_quant_ext_1_1_mc_multi_leg_base_engine-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">McMultiLegBaseEngine Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="mcmultilegbaseengine_8hpp_source.html">qle/pricingengines/mcmultilegbaseengine.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for McMultiLegBaseEngine:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_mc_multi_leg_base_engine__inherit__graph.png" border="0" usemap="#a_mc_multi_leg_base_engine_inherit__map" alt="Inheritance graph"/></div>
<map name="a_mc_multi_leg_base_engine_inherit__map" id="a_mc_multi_leg_base_engine_inherit__map">
<area shape="rect" title=" " alt="" coords="745,5,939,427"/>
<area shape="rect" href="class_quant_ext_1_1_mc_cam_currency_swap_engine.html" title=" " alt="" coords="5,482,220,595"/>
<area shape="rect" href="class_quant_ext_1_1_mc_cam_fx_forward_engine.html" title=" " alt="" coords="244,475,435,603"/>
<area shape="rect" href="class_quant_ext_1_1_mc_cam_fx_option_engine.html" title=" " alt="" coords="459,475,641,603"/>
<area shape="rect" href="class_quant_ext_1_1_mc_lgm_fra_engine.html" title=" " alt="" coords="665,504,816,573"/>
<area shape="rect" href="class_quant_ext_1_1_mc_lgm_nonstandard_swaption_engine.html" title=" " alt="" coords="840,489,1049,588"/>
<area shape="rect" href="class_quant_ext_1_1_mc_lgm_swap_engine.html" title=" " alt="" coords="1074,504,1237,573"/>
<area shape="rect" href="class_quant_ext_1_1_mc_lgm_swaption_engine.html" title=" " alt="" coords="1261,504,1445,573"/>
<area shape="rect" href="class_quant_ext_1_1_mc_multi_leg_option_engine.html" title=" " alt="" coords="1469,489,1663,588"/>
</map>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for McMultiLegBaseEngine:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_mc_multi_leg_base_engine__coll__graph.png" border="0" usemap="#a_mc_multi_leg_base_engine_coll__map" alt="Collaboration graph"/></div>
<map name="a_mc_multi_leg_base_engine_coll__map" id="a_mc_multi_leg_base_engine_coll__map">
<area shape="rect" title=" " alt="" coords="1505,1069,1689,1183"/>
<area shape="rect" title=" " alt="" coords="201,291,307,331"/>
<area shape="rect" title=" " alt="" coords="5,123,52,163"/>
<area shape="rect" title=" " alt="" coords="1877,123,1967,163"/>
<area shape="rect" title=" " alt="" coords="331,291,467,331"/>
<area shape="rect" title=" " alt="" coords="1143,491,1253,531"/>
<area shape="rect" title=" " alt="" coords="1860,789,2043,843"/>
<area shape="rect" title=" " alt="" coords="601,291,712,331"/>
<area shape="rect" title=" " alt="" coords="1773,291,1884,331"/>
<area shape="rect" title=" " alt="" coords="841,284,1005,339"/>
<area shape="rect" title=" " alt="" coords="2527,491,2635,531"/>
<area shape="rect" title=" " alt="" coords="2072,484,2204,539"/>
<area shape="rect" title=" " alt="" coords="2455,789,2623,843"/>
<area shape="rect" title=" " alt="" coords="2682,269,2874,353"/>
<area shape="rect" title=" " alt="" coords="2898,277,3069,346"/>
<area shape="rect" title=" " alt="" coords="961,484,1093,539"/>
<area shape="rect" title=" " alt="" coords="1407,789,1539,843"/>
<area shape="rect" title=" " alt="" coords="2299,789,2431,843"/>
<area shape="rect" title=" " alt="" coords="3099,277,3233,346"/>
<area shape="rect" title=" " alt="" coords="3385,291,3499,331"/>
<area shape="rect" title=" " alt="" coords="1903,5,1941,45"/>
<area shape="rect" title=" " alt="" coords="356,123,435,163"/>
<area shape="rect" title=" " alt="" coords="753,291,805,331"/>
<area shape="rect" title=" " alt="" coords="419,796,582,836"/>
<area shape="rect" title=" " alt="" coords="607,796,661,836"/>
<area shape="rect" title=" " alt="" coords="1296,640,1505,695"/>
<area shape="rect" title=" " alt="" coords="1391,291,1458,331"/>
<area shape="rect" title=" " alt="" coords="1608,491,1809,531"/>
<area shape="rect" title=" " alt="" coords="737,796,885,836"/>
<area shape="rect" title=" " alt="" coords="464,123,516,163"/>
<area shape="rect" title=" " alt="" coords="545,123,598,163"/>
<area shape="rect" title=" " alt="" coords="696,123,863,163"/>
<area shape="rect" title=" " alt="" coords="1563,796,1638,836"/>
<area shape="rect" title=" " alt="" coords="1662,796,1785,836"/>
<area shape="rect" href="classbool.html" title=" " alt="" coords="2166,291,2217,331"/>
<area shape="rect" title=" " alt="" coords="2963,108,3177,177"/>
<area shape="rect" title=" " alt="" coords="3253,115,3434,170"/>
<area shape="rect" title=" " alt="" coords="3459,115,3609,170"/>
<area shape="rect" title=" " alt="" coords="3099,789,3283,843"/>
<area shape="rect" title=" " alt="" coords="3633,123,3691,163"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a138cb12d250e39fb7c21ebb62879210b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a138cb12d250e39fb7c21ebb62879210b">McMultiLegBaseEngine</a> (const Handle&lt; <a class="el" href="class_quant_ext_1_1_cross_asset_model.html">CrossAssetModel</a> &gt; &amp;model, const <a class="el" href="namespace_quant_ext.html#a214062620719990c86bcb3c13c7f51b0">SequenceType</a> calibrationPathGenerator, const <a class="el" href="namespace_quant_ext.html#a214062620719990c86bcb3c13c7f51b0">SequenceType</a> pricingPathGenerator, const Size calibrationSamples, const Size pricingSamples, const Size calibrationSeed, const Size pricingSeed, const Size polynomOrder, const LsmBasisSystem::PolynomialType polynomType, const SobolBrownianGenerator::Ordering ordering, const SobolRsg::DirectionIntegers directionIntegers, const std::vector&lt; Handle&lt; YieldTermStructure &gt; &gt; &amp;discountCurves=std::vector&lt; Handle&lt; YieldTermStructure &gt; &gt;(), const std::vector&lt; Date &gt; &amp;simulationDates=std::vector&lt; Date &gt;(), const std::vector&lt; Size &gt; &amp;externalModelIndices=std::vector&lt; Size &gt;(), const <a class="el" href="classbool.html">bool</a> minimalObsDate=true, const <a class="el" href="classbool.html">bool</a> regressionOnExerciseOnly=false)</td></tr>
<tr class="separator:a138cb12d250e39fb7c21ebb62879210b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad98efb624e4e763f09de39b5d1fffe06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad98efb624e4e763f09de39b5d1fffe06">computePath</a> (const MultiPath &amp;p) const</td></tr>
<tr class="separator:ad98efb624e4e763f09de39b5d1fffe06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8399ef5e2d2b468cdb5ff80e6d2048a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ab8399ef5e2d2b468cdb5ff80e6d2048a">rollback</a> (const <a class="el" href="classbool.html">bool</a> calibration) const</td></tr>
<tr class="separator:ab8399ef5e2d2b468cdb5ff80e6d2048a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a082ff96da379d5e17436372ccb3c0972"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a082ff96da379d5e17436372ccb3c0972">calculate</a> () const</td></tr>
<tr class="separator:a082ff96da379d5e17436372ccb3c0972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafccc3361087265b251fd59256c81354"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_amc_calculator.html">AmcCalculator</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aafccc3361087265b251fd59256c81354">amcCalculator</a> () const</td></tr>
<tr class="separator:aafccc3361087265b251fd59256c81354"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ade1327900ed6bd5963ee61818948c515"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Leg &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a></td></tr>
<tr class="separator:ade1327900ed6bd5963ee61818948c515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2998ea0dd746f75f1d83fe1d7cd3c6ab"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Currency &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a2998ea0dd746f75f1d83fe1d7cd3c6ab">currency_</a></td></tr>
<tr class="separator:a2998ea0dd746f75f1d83fe1d7cd3c6ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec42fcaa87a0eca7ec78d2cf27ae1f5d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Real &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aec42fcaa87a0eca7ec78d2cf27ae1f5d">payer_</a></td></tr>
<tr class="separator:aec42fcaa87a0eca7ec78d2cf27ae1f5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dba475b3e3956c0cc7b1a2934a8941e"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; Exercise &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3dba475b3e3956c0cc7b1a2934a8941e">exercise_</a></td></tr>
<tr class="separator:a3dba475b3e3956c0cc7b1a2934a8941e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2805e91fa95c78b11a135d5fe7df516e"><td class="memItemLeft" align="right" valign="top">Settlement::Type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a2805e91fa95c78b11a135d5fe7df516e">optionSettlement_</a> = Settlement::Physical</td></tr>
<tr class="separator:a2805e91fa95c78b11a135d5fe7df516e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8294f887263f7179b52e435cfaeb3446"><td class="memItemLeft" align="right" valign="top">const Handle&lt; <a class="el" href="class_quant_ext_1_1_cross_asset_model.html">CrossAssetModel</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a></td></tr>
<tr class="separator:a8294f887263f7179b52e435cfaeb3446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a224e0f81096f705f4e4ad7c4164e71f5"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespace_quant_ext.html#a214062620719990c86bcb3c13c7f51b0">SequenceType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a224e0f81096f705f4e4ad7c4164e71f5">calibrationPathGenerator_</a></td></tr>
<tr class="separator:a224e0f81096f705f4e4ad7c4164e71f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77c5de04ceeec9fceef897e615153fdf"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespace_quant_ext.html#a214062620719990c86bcb3c13c7f51b0">SequenceType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a77c5de04ceeec9fceef897e615153fdf">pricingPathGenerator_</a></td></tr>
<tr class="separator:a77c5de04ceeec9fceef897e615153fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62dfe4298acb6171f03c001a1b7aebed"><td class="memItemLeft" align="right" valign="top">const Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a62dfe4298acb6171f03c001a1b7aebed">calibrationSamples_</a></td></tr>
<tr class="separator:a62dfe4298acb6171f03c001a1b7aebed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee5dd2168df60b094e3f6e80dd9aba58"><td class="memItemLeft" align="right" valign="top">const Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aee5dd2168df60b094e3f6e80dd9aba58">pricingSamples_</a></td></tr>
<tr class="separator:aee5dd2168df60b094e3f6e80dd9aba58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c01d037c64ebf1520928a26c29f7288"><td class="memItemLeft" align="right" valign="top">const Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8c01d037c64ebf1520928a26c29f7288">calibrationSeed_</a></td></tr>
<tr class="separator:a8c01d037c64ebf1520928a26c29f7288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7aed87c2dc058a2d22bd32a2346950a"><td class="memItemLeft" align="right" valign="top">const Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa7aed87c2dc058a2d22bd32a2346950a">pricingSeed_</a></td></tr>
<tr class="separator:aa7aed87c2dc058a2d22bd32a2346950a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f5cc25da87a57e846f4601d9e86f7d9"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Handle&lt; YieldTermStructure &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a9f5cc25da87a57e846f4601d9e86f7d9">discountCurves_</a></td></tr>
<tr class="separator:a9f5cc25da87a57e846f4601d9e86f7d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19153caf3115b1c4410f511fa6d14427"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; Date &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a19153caf3115b1c4410f511fa6d14427">simulationDates_</a></td></tr>
<tr class="separator:a19153caf3115b1c4410f511fa6d14427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa543fb00d546bf3b9fb165def03cf1fb"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; Size &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa543fb00d546bf3b9fb165def03cf1fb">externalModelIndices_</a></td></tr>
<tr class="separator:aa543fb00d546bf3b9fb165def03cf1fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95773caf040602b9ece6a680e0616c10"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; boost::function1&lt; Real, Array &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a></td></tr>
<tr class="separator:a95773caf040602b9ece6a680e0616c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a2cd3689de004cd25c18fa48e05ed9"><td class="memItemLeft" align="right" valign="top">const SobolBrownianGenerator::Ordering&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a98a2cd3689de004cd25c18fa48e05ed9">ordering_</a></td></tr>
<tr class="separator:a98a2cd3689de004cd25c18fa48e05ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44bcbd366a24b9989a3295b7202ec3fa"><td class="memItemLeft" align="right" valign="top">SobolRsg::DirectionIntegers&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a44bcbd366a24b9989a3295b7202ec3fa">directionIntegers_</a></td></tr>
<tr class="separator:a44bcbd366a24b9989a3295b7202ec3fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5c22f2e113eb199586569feabe526ef"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae5c22f2e113eb199586569feabe526ef">minimalObsDate_</a></td></tr>
<tr class="separator:ae5c22f2e113eb199586569feabe526ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4b863df9136b28d8e4327ea50c6659b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad4b863df9136b28d8e4327ea50c6659b">regressionOnExerciseOnly_</a></td></tr>
<tr class="separator:ad4b863df9136b28d8e4327ea50c6659b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5b0c618535488bd54b2add54ece224"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Real &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a></td></tr>
<tr class="separator:aba5b0c618535488bd54b2add54ece224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59285a80dad46ff000be9adfe651e062"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Size &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a59285a80dad46ff000be9adfe651e062">indexes_</a></td></tr>
<tr class="separator:a59285a80dad46ff000be9adfe651e062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60744c2ee5a90705e87b570e1d2578a0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Size &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a60744c2ee5a90705e87b570e1d2578a0">exerciseIdx_</a></td></tr>
<tr class="separator:a60744c2ee5a90705e87b570e1d2578a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217fa6d14c58bd5d71ea12d59ce09c93"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Size &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a217fa6d14c58bd5d71ea12d59ce09c93">simulationIdx_</a></td></tr>
<tr class="separator:a217fa6d14c58bd5d71ea12d59ce09c93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0d016159a83b9b0be2c946a545f93de"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae0d016159a83b9b0be2c946a545f93de">isTrappedDate_</a></td></tr>
<tr class="separator:ae0d016159a83b9b0be2c946a545f93de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f5cf988465d66567e8d2a6597d8eb57"><td class="memItemLeft" align="right" valign="top">Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0f5cf988465d66567e8d2a6597d8eb57">numEx_</a></td></tr>
<tr class="separator:a0f5cf988465d66567e8d2a6597d8eb57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45dbcc16eed6dc88aae61c28a83585bb"><td class="memItemLeft" align="right" valign="top">Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">numSim_</a></td></tr>
<tr class="separator:a45dbcc16eed6dc88aae61c28a83585bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4469db25d8a087e4cbb58aada9227a6b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Real &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a4469db25d8a087e4cbb58aada9227a6b">pathUndEx_</a></td></tr>
<tr class="separator:a4469db25d8a087e4cbb58aada9227a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a1c92a195e42623083ca6b63627e2f2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Real &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3a1c92a195e42623083ca6b63627e2f2">pathUndDirty_</a></td></tr>
<tr class="separator:a3a1c92a195e42623083ca6b63627e2f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a238a3f081bc362aea8acc85848fa55e0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Real &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a238a3f081bc362aea8acc85848fa55e0">pathUndTrapped_</a></td></tr>
<tr class="separator:a238a3f081bc362aea8acc85848fa55e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51cdc56a72e444474c84a8c5c4ed56f8"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Size &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a51cdc56a72e444474c84a8c5c4ed56f8">indexCcyIndex_</a></td></tr>
<tr class="separator:a51cdc56a72e444474c84a8c5c4ed56f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ed6aacdbfe653540806b3e244f2e9db"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Size &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6ed6aacdbfe653540806b3e244f2e9db">payCcyNum_</a></td></tr>
<tr class="separator:a6ed6aacdbfe653540806b3e244f2e9db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22bd78ddc393720541410a653d9bbb78"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Size &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a22bd78ddc393720541410a653d9bbb78">payCcyIndex_</a></td></tr>
<tr class="separator:a22bd78ddc393720541410a653d9bbb78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86f2afe93c0123ba336499d9cc9fd5ba"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Size &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a86f2afe93c0123ba336499d9cc9fd5ba">payFxIndex_</a></td></tr>
<tr class="separator:a86f2afe93c0123ba336499d9cc9fd5ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52abe2d7f17b8d2923c7216664e919d2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Size &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a52abe2d7f17b8d2923c7216664e919d2">maxExerciseIndex_</a></td></tr>
<tr class="separator:a52abe2d7f17b8d2923c7216664e919d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa74ddf7db99427789db81e8354341248"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Size &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa74ddf7db99427789db81e8354341248">maxDirtyNpvIndex_</a></td></tr>
<tr class="separator:aa74ddf7db99427789db81e8354341248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81faf4661d37c929bd01c98b6da8c7db"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; std::vector&lt; Size &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a81faf4661d37c929bd01c98b6da8c7db">trappedCoupons_</a></td></tr>
<tr class="separator:a81faf4661d37c929bd01c98b6da8c7db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc827b682c54aae80098ff1bc2c28232"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_lgm_implied_yield_term_structure.html">LgmImpliedYieldTermStructure</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#afc827b682c54aae80098ff1bc2c28232">indexFwdCurve_</a></td></tr>
<tr class="separator:afc827b682c54aae80098ff1bc2c28232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0ae094436b5192ddb8f7f07c6f3c0a4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_lgm_implied_yield_term_structure.html">LgmImpliedYieldTermStructure</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad0ae094436b5192ddb8f7f07c6f3c0a4">indexDscCurve_</a></td></tr>
<tr class="separator:ad0ae094436b5192ddb8f7f07c6f3c0a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c9e4878f5e79eed74ca270373b4fff5"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; boost::shared_ptr&lt; <a class="el" href="class_interest_rate_index.html">InterestRateIndex</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a5c9e4878f5e79eed74ca270373b4fff5">modelIndex_</a></td></tr>
<tr class="separator:a5c9e4878f5e79eed74ca270373b4fff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61364b60921c9e86cdbd64e03d99a78d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Size &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a61364b60921c9e86cdbd64e03d99a78d">observationTimeIndex_</a></td></tr>
<tr class="separator:a61364b60921c9e86cdbd64e03d99a78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff144e0ec152ce1a774043796e65d667"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Date &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aff144e0ec152ce1a774043796e65d667">fixingDate_</a></td></tr>
<tr class="separator:aff144e0ec152ce1a774043796e65d667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89f527a2a83e1828353f94f91fce03b9"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Real &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a89f527a2a83e1828353f94f91fce03b9">gearing_</a></td></tr>
<tr class="separator:a89f527a2a83e1828353f94f91fce03b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a868936b695525bf3b074e76847de0355"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Real &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a868936b695525bf3b074e76847de0355">spread_</a></td></tr>
<tr class="separator:a868936b695525bf3b074e76847de0355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e452803c38c6fd649e43a1c3afd5696"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Real &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0e452803c38c6fd649e43a1c3afd5696">accrualTime_</a></td></tr>
<tr class="separator:a0e452803c38c6fd649e43a1c3afd5696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f5394d0b82d4b98081dc4490754339"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Real &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a17f5394d0b82d4b98081dc4490754339">nominal_</a></td></tr>
<tr class="separator:a17f5394d0b82d4b98081dc4490754339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb4dc2decf120597f703af08324562f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Real &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6bb4dc2decf120597f703af08324562f">payTime_</a></td></tr>
<tr class="separator:a6bb4dc2decf120597f703af08324562f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a041ca8a88eb254d62ab838e45b899294"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Real &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a041ca8a88eb254d62ab838e45b899294">cappedRate_</a></td></tr>
<tr class="separator:a041ca8a88eb254d62ab838e45b899294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0dc965686946fcf375755edfdac421e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Real &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ac0dc965686946fcf375755edfdac421e">flooredRate_</a></td></tr>
<tr class="separator:ac0dc965686946fcf375755edfdac421e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f0334fc31adaa6ca3bf0a410b4c164"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="classbool.html">bool</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a87f0334fc31adaa6ca3bf0a410b4c164">isNakedOption_</a></td></tr>
<tr class="separator:a87f0334fc31adaa6ca3bf0a410b4c164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90d842bb936565c447a6f1756682bfe0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; boost::shared_ptr&lt; Index &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a90d842bb936565c447a6f1756682bfe0">couponIndex_</a></td></tr>
<tr class="separator:a90d842bb936565c447a6f1756682bfe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29efec52cb53c87aa260d78941078b10"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Date &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a29efec52cb53c87aa260d78941078b10">couponIndexFixingDate_</a></td></tr>
<tr class="separator:a29efec52cb53c87aa260d78941078b10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a5b9c80b024f452b434324ab9dcc0b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; Real &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa1a5b9c80b024f452b434324ab9dcc0b">couponIndexQuantity_</a></td></tr>
<tr class="separator:aa1a5b9c80b024f452b434324ab9dcc0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6531936b4303db1ffed84115b336a81"><td class="memItemLeft" align="right" valign="top">Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa6531936b4303db1ffed84115b336a81">maxUndValDirtyIdx_</a></td></tr>
<tr class="separator:aa6531936b4303db1ffed84115b336a81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af235d611507a6ea9c9f3f8ecce34c91a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Date &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a></td></tr>
<tr class="separator:af235d611507a6ea9c9f3f8ecce34c91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a574bbac8c015e3df3808045b3c08ec"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_multi_path_generator_base.html">MultiPathGeneratorBase</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0a574bbac8c015e3df3808045b3c08ec">pathGeneratorCalibration_</a></td></tr>
<tr class="separator:a0a574bbac8c015e3df3808045b3c08ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ec55fe3b1733bd64082cfc9f73e977"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_multi_path_generator_base.html">MultiPathGeneratorBase</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae9ec55fe3b1733bd64082cfc9f73e977">pathGeneratorPricing_</a></td></tr>
<tr class="separator:ae9ec55fe3b1733bd64082cfc9f73e977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad73fb65c7ba123b97db8e50f22e811a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Array &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aad73fb65c7ba123b97db8e50f22e811a">coeffsItm_</a></td></tr>
<tr class="separator:aad73fb65c7ba123b97db8e50f22e811a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f812025543a8d1d94d98cfe3b3b02e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Array &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ac1f812025543a8d1d94d98cfe3b3b02e">coeffsUndEx_</a></td></tr>
<tr class="separator:ac1f812025543a8d1d94d98cfe3b3b02e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6a053bba3235e01f602d2403d9124cf"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Array &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af6a053bba3235e01f602d2403d9124cf">coeffsFull_</a></td></tr>
<tr class="separator:af6a053bba3235e01f602d2403d9124cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abffbb58aced3fa4ba8a91e2da648d67f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Array &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#abffbb58aced3fa4ba8a91e2da648d67f">coeffsUndTrapped_</a></td></tr>
<tr class="separator:abffbb58aced3fa4ba8a91e2da648d67f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af481981fce8133a000e2d4bf116b560f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Array &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af481981fce8133a000e2d4bf116b560f">coeffsUndDirty_</a></td></tr>
<tr class="separator:af481981fce8133a000e2d4bf116b560f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4735af14c02f445241b8222ff6fedf25"><td class="memItemLeft" align="right" valign="top">Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a4735af14c02f445241b8222ff6fedf25">resultUnderlyingNpv_</a></td></tr>
<tr class="separator:a4735af14c02f445241b8222ff6fedf25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae97465b2b8e93dcb73303587635ff486"><td class="memItemLeft" align="right" valign="top">Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae97465b2b8e93dcb73303587635ff486">resultValue_</a></td></tr>
<tr class="separator:ae97465b2b8e93dcb73303587635ff486"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00038">38</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a138cb12d250e39fb7c21ebb62879210b" name="a138cb12d250e39fb7c21ebb62879210b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a138cb12d250e39fb7c21ebb62879210b">&#9670;&#160;</a></span>McMultiLegBaseEngine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html">McMultiLegBaseEngine</a> </td>
          <td>(</td>
          <td class="paramtype">const Handle&lt; <a class="el" href="class_quant_ext_1_1_cross_asset_model.html">CrossAssetModel</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_quant_ext.html#a214062620719990c86bcb3c13c7f51b0">SequenceType</a>&#160;</td>
          <td class="paramname"><em>calibrationPathGenerator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_quant_ext.html#a214062620719990c86bcb3c13c7f51b0">SequenceType</a>&#160;</td>
          <td class="paramname"><em>pricingPathGenerator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Size&#160;</td>
          <td class="paramname"><em>calibrationSamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Size&#160;</td>
          <td class="paramname"><em>pricingSamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Size&#160;</td>
          <td class="paramname"><em>calibrationSeed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Size&#160;</td>
          <td class="paramname"><em>pricingSeed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Size&#160;</td>
          <td class="paramname"><em>polynomOrder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const LsmBasisSystem::PolynomialType&#160;</td>
          <td class="paramname"><em>polynomType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SobolBrownianGenerator::Ordering&#160;</td>
          <td class="paramname"><em>ordering</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SobolRsg::DirectionIntegers&#160;</td>
          <td class="paramname"><em>directionIntegers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; Handle&lt; YieldTermStructure &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>discountCurves</em> = <code>std::vector&lt;Handle&lt;YieldTermStructure&gt;&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; Date &gt; &amp;&#160;</td>
          <td class="paramname"><em>simulationDates</em> = <code>std::vector&lt;Date&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; Size &gt; &amp;&#160;</td>
          <td class="paramname"><em>externalModelIndices</em> = <code>std::vector&lt;Size&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>minimalObsDate</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>regressionOnExerciseOnly</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >The npv is computed in the model's base currency, discounting curves are taken from the model. simulationDates are additional simulation dates. The cross asset model here must be consistent with the multi path that is input in <a class="el" href="class_quant_ext_1_1_amc_calculator.html">AmcCalculator</a> </p>

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8cpp_source.html#l00067">67</a> of file <a class="el" href="mcmultilegbaseengine_8cpp_source.html">mcmultilegbaseengine.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   75</span>    : <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>(model), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a224e0f81096f705f4e4ad7c4164e71f5">calibrationPathGenerator_</a>(calibrationPathGenerator), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a77c5de04ceeec9fceef897e615153fdf">pricingPathGenerator_</a>(pricingPathGenerator),</div>
<div class="line"><span class="lineno">   76</span>      <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a62dfe4298acb6171f03c001a1b7aebed">calibrationSamples_</a>(calibrationSamples), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aee5dd2168df60b094e3f6e80dd9aba58">pricingSamples_</a>(pricingSamples), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8c01d037c64ebf1520928a26c29f7288">calibrationSeed_</a>(calibrationSeed),</div>
<div class="line"><span class="lineno">   77</span>      <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa7aed87c2dc058a2d22bd32a2346950a">pricingSeed_</a>(pricingSeed), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a9f5cc25da87a57e846f4601d9e86f7d9">discountCurves_</a>(discountCurves), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a19153caf3115b1c4410f511fa6d14427">simulationDates_</a>(simulationDates),</div>
<div class="line"><span class="lineno">   78</span>      <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa543fb00d546bf3b9fb165def03cf1fb">externalModelIndices_</a>(externalModelIndices),</div>
<div class="line"><span class="lineno">   79</span>      <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>(LsmBasisSystem::multiPathBasisSystem(model-&gt;dimension(), polynomOrder, polynomType)),</div>
<div class="line"><span class="lineno">   80</span>      <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a98a2cd3689de004cd25c18fa48e05ed9">ordering_</a>(ordering), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a44bcbd366a24b9989a3295b7202ec3fa">directionIntegers_</a>(directionIntegers), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae5c22f2e113eb199586569feabe526ef">minimalObsDate_</a>(minimalObsDate),</div>
<div class="line"><span class="lineno">   81</span>      <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad4b863df9136b28d8e4327ea50c6659b">regressionOnExerciseOnly_</a>(regressionOnExerciseOnly) {</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>    QL_REQUIRE(calibrationSamples &gt;= <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>.size(), <span class="stringliteral">&quot;McMultiLegBaseEngine: too few calibrationSamples (&quot;</span></div>
<div class="line"><span class="lineno">   84</span>                                                           &lt;&lt; calibrationSamples</div>
<div class="line"><span class="lineno">   85</span>                                                           &lt;&lt; <span class="stringliteral">&quot;) given, must at least be the number of basis fns (&quot;</span></div>
<div class="line"><span class="lineno">   86</span>                                                           &lt;&lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>.size() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">   87</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a9f5cc25da87a57e846f4601d9e86f7d9">discountCurves_</a>.size() == 0)</div>
<div class="line"><span class="lineno">   88</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a9f5cc25da87a57e846f4601d9e86f7d9">discountCurves_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;components(<a class="code hl_enumvalue" href="class_quant_ext_1_1_cross_asset_model.html#a6d42c1075c37e4e5e67aa861c5a51dfea4f74d343f26bbd58a8cbbad2cab6a704">CrossAssetModel::AssetType::IR</a>));</div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   90</span>        QL_REQUIRE(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a9f5cc25da87a57e846f4601d9e86f7d9">discountCurves_</a>.size() == <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;components(<a class="code hl_enumvalue" href="class_quant_ext_1_1_cross_asset_model.html#a6d42c1075c37e4e5e67aa861c5a51dfea4f74d343f26bbd58a8cbbad2cab6a704">CrossAssetModel::AssetType::IR</a>),</div>
<div class="line"><span class="lineno">   91</span>                   <span class="stringliteral">&quot;McMultiLegBaseEngine: &quot;</span> &lt;&lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a9f5cc25da87a57e846f4601d9e86f7d9">discountCurves_</a>.size() &lt;&lt; <span class="stringliteral">&quot; discount curves given, but model has &quot;</span></div>
<div class="line"><span class="lineno">   92</span>                                            &lt;&lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;components(<a class="code hl_enumvalue" href="class_quant_ext_1_1_cross_asset_model.html#a6d42c1075c37e4e5e67aa861c5a51dfea4f74d343f26bbd58a8cbbad2cab6a704">CrossAssetModel::AssetType::IR</a>) &lt;&lt; <span class="stringliteral">&quot; IR components.&quot;</span>);</div>
<div class="line"><span class="lineno">   93</span>    }</div>
<div class="line"><span class="lineno">   94</span>}</div>
<div class="ttc" id="aclass_quant_ext_1_1_cross_asset_model_html_a6d42c1075c37e4e5e67aa861c5a51dfea4f74d343f26bbd58a8cbbad2cab6a704"><div class="ttname"><a href="class_quant_ext_1_1_cross_asset_model.html#a6d42c1075c37e4e5e67aa861c5a51dfea4f74d343f26bbd58a8cbbad2cab6a704">QuantExt::CrossAssetModel::AssetType::IR</a></div><div class="ttdeci">@ IR</div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a19153caf3115b1c4410f511fa6d14427"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a19153caf3115b1c4410f511fa6d14427">QuantExt::McMultiLegBaseEngine::simulationDates_</a></div><div class="ttdeci">const std::vector&lt; Date &gt; simulationDates_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00076">mcmultilegbaseengine.hpp:76</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a224e0f81096f705f4e4ad7c4164e71f5"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a224e0f81096f705f4e4ad7c4164e71f5">QuantExt::McMultiLegBaseEngine::calibrationPathGenerator_</a></div><div class="ttdeci">const SequenceType calibrationPathGenerator_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00073">mcmultilegbaseengine.hpp:73</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a44bcbd366a24b9989a3295b7202ec3fa"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a44bcbd366a24b9989a3295b7202ec3fa">QuantExt::McMultiLegBaseEngine::directionIntegers_</a></div><div class="ttdeci">SobolRsg::DirectionIntegers directionIntegers_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00084">mcmultilegbaseengine.hpp:84</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a62dfe4298acb6171f03c001a1b7aebed"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a62dfe4298acb6171f03c001a1b7aebed">QuantExt::McMultiLegBaseEngine::calibrationSamples_</a></div><div class="ttdeci">const Size calibrationSamples_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00074">mcmultilegbaseengine.hpp:74</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a77c5de04ceeec9fceef897e615153fdf"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a77c5de04ceeec9fceef897e615153fdf">QuantExt::McMultiLegBaseEngine::pricingPathGenerator_</a></div><div class="ttdeci">const SequenceType pricingPathGenerator_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00073">mcmultilegbaseengine.hpp:73</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a8294f887263f7179b52e435cfaeb3446"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">QuantExt::McMultiLegBaseEngine::model_</a></div><div class="ttdeci">const Handle&lt; CrossAssetModel &gt; model_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00072">mcmultilegbaseengine.hpp:72</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a8c01d037c64ebf1520928a26c29f7288"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8c01d037c64ebf1520928a26c29f7288">QuantExt::McMultiLegBaseEngine::calibrationSeed_</a></div><div class="ttdeci">const Size calibrationSeed_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00074">mcmultilegbaseengine.hpp:74</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a95773caf040602b9ece6a680e0616c10"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">QuantExt::McMultiLegBaseEngine::basisFns_</a></div><div class="ttdeci">const std::vector&lt; boost::function1&lt; Real, Array &gt; &gt; basisFns_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00081">mcmultilegbaseengine.hpp:81</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a98a2cd3689de004cd25c18fa48e05ed9"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a98a2cd3689de004cd25c18fa48e05ed9">QuantExt::McMultiLegBaseEngine::ordering_</a></div><div class="ttdeci">const SobolBrownianGenerator::Ordering ordering_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00083">mcmultilegbaseengine.hpp:83</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a9f5cc25da87a57e846f4601d9e86f7d9"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a9f5cc25da87a57e846f4601d9e86f7d9">QuantExt::McMultiLegBaseEngine::discountCurves_</a></div><div class="ttdeci">std::vector&lt; Handle&lt; YieldTermStructure &gt; &gt; discountCurves_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00075">mcmultilegbaseengine.hpp:75</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_aa543fb00d546bf3b9fb165def03cf1fb"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa543fb00d546bf3b9fb165def03cf1fb">QuantExt::McMultiLegBaseEngine::externalModelIndices_</a></div><div class="ttdeci">const std::vector&lt; Size &gt; externalModelIndices_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00077">mcmultilegbaseengine.hpp:77</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_aa7aed87c2dc058a2d22bd32a2346950a"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa7aed87c2dc058a2d22bd32a2346950a">QuantExt::McMultiLegBaseEngine::pricingSeed_</a></div><div class="ttdeci">const Size pricingSeed_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00074">mcmultilegbaseengine.hpp:74</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_ad4b863df9136b28d8e4327ea50c6659b"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad4b863df9136b28d8e4327ea50c6659b">QuantExt::McMultiLegBaseEngine::regressionOnExerciseOnly_</a></div><div class="ttdeci">const bool regressionOnExerciseOnly_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00085">mcmultilegbaseengine.hpp:85</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_ae5c22f2e113eb199586569feabe526ef"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae5c22f2e113eb199586569feabe526ef">QuantExt::McMultiLegBaseEngine::minimalObsDate_</a></div><div class="ttdeci">const bool minimalObsDate_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00085">mcmultilegbaseengine.hpp:85</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_aee5dd2168df60b094e3f6e80dd9aba58"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aee5dd2168df60b094e3f6e80dd9aba58">QuantExt::McMultiLegBaseEngine::pricingSamples_</a></div><div class="ttdeci">const Size pricingSamples_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00074">mcmultilegbaseengine.hpp:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad98efb624e4e763f09de39b5d1fffe06" name="ad98efb624e4e763f09de39b5d1fffe06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad98efb624e4e763f09de39b5d1fffe06">&#9670;&#160;</a></span>computePath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void computePath </td>
          <td>(</td>
          <td class="paramtype">const MultiPath &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8cpp_source.html#l00096">96</a> of file <a class="el" href="mcmultilegbaseengine_8cpp_source.html">mcmultilegbaseengine.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   96</span>                                                               {</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>    <span class="comment">// reset result vectors</span></div>
<div class="line"><span class="lineno">   99</span>    std::fill(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a4469db25d8a087e4cbb58aada9227a6b">pathUndEx_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a4469db25d8a087e4cbb58aada9227a6b">pathUndEx_</a>.end(), 0.0);</div>
<div class="line"><span class="lineno">  100</span>    std::fill(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3a1c92a195e42623083ca6b63627e2f2">pathUndDirty_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3a1c92a195e42623083ca6b63627e2f2">pathUndDirty_</a>.end(), 0.0);</div>
<div class="line"><span class="lineno">  101</span>    std::fill(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a238a3f081bc362aea8acc85848fa55e0">pathUndTrapped_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a238a3f081bc362aea8acc85848fa55e0">pathUndTrapped_</a>.end(), 0.0);</div>
<div class="line"><span class="lineno">  102</span>    <span class="comment">// loop over the path</span></div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">for</span> (Size i = 0; i &lt; p.pathSize() - 1; ++i) {</div>
<div class="line"><span class="lineno">  104</span>        <span class="comment">// obsevation path index (default value = current path index)</span></div>
<div class="line"><span class="lineno">  105</span>        Size pathIndex = i + 1;</div>
<div class="line"><span class="lineno">  106</span>        <span class="comment">// loop over events associated to the path time</span></div>
<div class="line"><span class="lineno">  107</span>        <span class="keywordflow">for</span> (Size j = 0; j &lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a5c9e4878f5e79eed74ca270373b4fff5">modelIndex_</a>[i].size(); ++j) {</div>
<div class="line"><span class="lineno">  108</span>            <span class="comment">// determine the observation time</span></div>
<div class="line"><span class="lineno">  109</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a61364b60921c9e86cdbd64e03d99a78d">observationTimeIndex_</a>[i][j] != Null&lt;Size&gt;())</div>
<div class="line"><span class="lineno">  110</span>                pathIndex = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a61364b60921c9e86cdbd64e03d99a78d">observationTimeIndex_</a>[i][j];</div>
<div class="line"><span class="lineno">  111</span>            Real t = p[0].timeGrid()[pathIndex];</div>
<div class="line"><span class="lineno">  112</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#afc827b682c54aae80098ff1bc2c28232">indexFwdCurve_</a>[i][j] != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">  113</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#afc827b682c54aae80098ff1bc2c28232">indexFwdCurve_</a>[i][j]-&gt;move(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>[pathIndex], p[<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a51cdc56a72e444474c84a8c5c4ed56f8">indexCcyIndex_</a>[i][j]][pathIndex]);</div>
<div class="line"><span class="lineno">  114</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad0ae094436b5192ddb8f7f07c6f3c0a4">indexDscCurve_</a>[i][j] != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">  115</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad0ae094436b5192ddb8f7f07c6f3c0a4">indexDscCurve_</a>[i][j]-&gt;move(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>[pathIndex], p[<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a51cdc56a72e444474c84a8c5c4ed56f8">indexCcyIndex_</a>[i][j]][pathIndex]);</div>
<div class="line"><span class="lineno">  116</span>            <span class="comment">// compute payoff and add to underlying pvs</span></div>
<div class="line"><span class="lineno">  117</span>            Real fixing = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a5c9e4878f5e79eed74ca270373b4fff5">modelIndex_</a>[i][j] != <span class="keyword">nullptr</span> ? <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a5c9e4878f5e79eed74ca270373b4fff5">modelIndex_</a>[i][j]-&gt;fixing(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aff144e0ec152ce1a774043796e65d667">fixingDate_</a>[i][j]) : 0.0;</div>
<div class="line"><span class="lineno">  118</span>            Real underlying_rate = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a89f527a2a83e1828353f94f91fce03b9">gearing_</a>[i][j] * fixing + <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a868936b695525bf3b074e76847de0355">spread_</a>[i][j];</div>
<div class="line"><span class="lineno">  119</span>            Real rate = std::max(underlying_rate, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ac0dc965686946fcf375755edfdac421e">flooredRate_</a>[i][j]);</div>
<div class="line"><span class="lineno">  120</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a87f0334fc31adaa6ca3bf0a410b4c164">isNakedOption_</a>[i][j])</div>
<div class="line"><span class="lineno">  121</span>                rate -= std::min(underlying_rate, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a041ca8a88eb254d62ab838e45b899294">cappedRate_</a>[i][j]);</div>
<div class="line"><span class="lineno">  122</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  123</span>                rate = std::min(rate, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a041ca8a88eb254d62ab838e45b899294">cappedRate_</a>[i][j]);</div>
<div class="line"><span class="lineno">  124</span>            Real amount = rate * <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0e452803c38c6fd649e43a1c3afd5696">accrualTime_</a>[i][j] * <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a17f5394d0b82d4b98081dc4490754339">nominal_</a>[i][j];</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a90d842bb936565c447a6f1756682bfe0">couponIndex_</a>[i][j])</div>
<div class="line"><span class="lineno">  127</span>                amount *= <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa1a5b9c80b024f452b434324ab9dcc0b">couponIndexQuantity_</a>[i][j] * <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a90d842bb936565c447a6f1756682bfe0">couponIndex_</a>[i][j]-&gt;fixing(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a29efec52cb53c87aa260d78941078b10">couponIndexFixingDate_</a>[i][j]);</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>            Size payCcyNum = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6ed6aacdbfe653540806b3e244f2e9db">payCcyNum_</a>[i][j];</div>
<div class="line"><span class="lineno">  130</span>            Real dsc = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;discountBond(payCcyNum, t, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6bb4dc2decf120597f703af08324562f">payTime_</a>[i][j], p[<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a22bd78ddc393720541410a653d9bbb78">payCcyIndex_</a>[i][j]][pathIndex],</div>
<div class="line"><span class="lineno">  131</span>                                            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a9f5cc25da87a57e846f4601d9e86f7d9">discountCurves_</a>[payCcyNum]);</div>
<div class="line"><span class="lineno">  132</span>            Real fx = payCcyNum &gt; 0 ? std::exp(p[<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a86f2afe93c0123ba336499d9cc9fd5ba">payFxIndex_</a>[i][j]][pathIndex]) : 1.0;</div>
<div class="line"><span class="lineno">  133</span>            Real num = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;numeraire(0, t, p[0][pathIndex], <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a9f5cc25da87a57e846f4601d9e86f7d9">discountCurves_</a>[0]);</div>
<div class="line"><span class="lineno">  134</span>            Real npv = fx * dsc * amount / num;</div>
<div class="line"><span class="lineno">  135</span>            <span class="keywordflow">for</span> (Size k = 0; k &lt;= <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a52abe2d7f17b8d2923c7216664e919d2">maxExerciseIndex_</a>[i][j]; ++k) {</div>
<div class="line"><span class="lineno">  136</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a4469db25d8a087e4cbb58aada9227a6b">pathUndEx_</a>[k] += npv;</div>
<div class="line"><span class="lineno">  137</span>            }</div>
<div class="line"><span class="lineno">  138</span>            <span class="keywordflow">for</span> (Size k = 0; k &lt;= <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa74ddf7db99427789db81e8354341248">maxDirtyNpvIndex_</a>[i][j]; ++k) {</div>
<div class="line"><span class="lineno">  139</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3a1c92a195e42623083ca6b63627e2f2">pathUndDirty_</a>[k] += npv;</div>
<div class="line"><span class="lineno">  140</span>            }</div>
<div class="line"><span class="lineno">  141</span>            <span class="keywordflow">for</span> (Size l = 0; l &lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a81faf4661d37c929bd01c98b6da8c7db">trappedCoupons_</a>[i][j].size(); ++l) {</div>
<div class="line"><span class="lineno">  142</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a238a3f081bc362aea8acc85848fa55e0">pathUndTrapped_</a>[l] += npv;</div>
<div class="line"><span class="lineno">  143</span>            }</div>
<div class="line"><span class="lineno">  144</span>        }</div>
<div class="line"><span class="lineno">  145</span>    }</div>
<div class="line"><span class="lineno">  146</span>}</div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a041ca8a88eb254d62ab838e45b899294"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a041ca8a88eb254d62ab838e45b899294">QuantExt::McMultiLegBaseEngine::cappedRate_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Real &gt; &gt; cappedRate_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00101">mcmultilegbaseengine.hpp:101</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a0e452803c38c6fd649e43a1c3afd5696"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0e452803c38c6fd649e43a1c3afd5696">QuantExt::McMultiLegBaseEngine::accrualTime_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Real &gt; &gt; accrualTime_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00101">mcmultilegbaseengine.hpp:101</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a17f5394d0b82d4b98081dc4490754339"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a17f5394d0b82d4b98081dc4490754339">QuantExt::McMultiLegBaseEngine::nominal_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Real &gt; &gt; nominal_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00101">mcmultilegbaseengine.hpp:101</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a22bd78ddc393720541410a653d9bbb78"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a22bd78ddc393720541410a653d9bbb78">QuantExt::McMultiLegBaseEngine::payCcyIndex_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Size &gt; &gt; payCcyIndex_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00094">mcmultilegbaseengine.hpp:94</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a238a3f081bc362aea8acc85848fa55e0"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a238a3f081bc362aea8acc85848fa55e0">QuantExt::McMultiLegBaseEngine::pathUndTrapped_</a></div><div class="ttdeci">std::vector&lt; Real &gt; pathUndTrapped_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00093">mcmultilegbaseengine.hpp:93</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a29efec52cb53c87aa260d78941078b10"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a29efec52cb53c87aa260d78941078b10">QuantExt::McMultiLegBaseEngine::couponIndexFixingDate_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Date &gt; &gt; couponIndexFixingDate_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00105">mcmultilegbaseengine.hpp:105</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a3a1c92a195e42623083ca6b63627e2f2"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3a1c92a195e42623083ca6b63627e2f2">QuantExt::McMultiLegBaseEngine::pathUndDirty_</a></div><div class="ttdeci">std::vector&lt; Real &gt; pathUndDirty_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00093">mcmultilegbaseengine.hpp:93</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a4469db25d8a087e4cbb58aada9227a6b"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a4469db25d8a087e4cbb58aada9227a6b">QuantExt::McMultiLegBaseEngine::pathUndEx_</a></div><div class="ttdeci">std::vector&lt; Real &gt; pathUndEx_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00093">mcmultilegbaseengine.hpp:93</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a51cdc56a72e444474c84a8c5c4ed56f8"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a51cdc56a72e444474c84a8c5c4ed56f8">QuantExt::McMultiLegBaseEngine::indexCcyIndex_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Size &gt; &gt; indexCcyIndex_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00094">mcmultilegbaseengine.hpp:94</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a52abe2d7f17b8d2923c7216664e919d2"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a52abe2d7f17b8d2923c7216664e919d2">QuantExt::McMultiLegBaseEngine::maxExerciseIndex_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Size &gt; &gt; maxExerciseIndex_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00094">mcmultilegbaseengine.hpp:94</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a5c9e4878f5e79eed74ca270373b4fff5"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a5c9e4878f5e79eed74ca270373b4fff5">QuantExt::McMultiLegBaseEngine::modelIndex_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; boost::shared_ptr&lt; InterestRateIndex &gt; &gt; &gt; modelIndex_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00098">mcmultilegbaseengine.hpp:98</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a61364b60921c9e86cdbd64e03d99a78d"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a61364b60921c9e86cdbd64e03d99a78d">QuantExt::McMultiLegBaseEngine::observationTimeIndex_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Size &gt; &gt; observationTimeIndex_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00099">mcmultilegbaseengine.hpp:99</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a6bb4dc2decf120597f703af08324562f"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6bb4dc2decf120597f703af08324562f">QuantExt::McMultiLegBaseEngine::payTime_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Real &gt; &gt; payTime_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00101">mcmultilegbaseengine.hpp:101</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a6ed6aacdbfe653540806b3e244f2e9db"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6ed6aacdbfe653540806b3e244f2e9db">QuantExt::McMultiLegBaseEngine::payCcyNum_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Size &gt; &gt; payCcyNum_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00094">mcmultilegbaseengine.hpp:94</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a81faf4661d37c929bd01c98b6da8c7db"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a81faf4661d37c929bd01c98b6da8c7db">QuantExt::McMultiLegBaseEngine::trappedCoupons_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; std::vector&lt; Size &gt; &gt; &gt; trappedCoupons_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00096">mcmultilegbaseengine.hpp:96</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a868936b695525bf3b074e76847de0355"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a868936b695525bf3b074e76847de0355">QuantExt::McMultiLegBaseEngine::spread_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Real &gt; &gt; spread_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00101">mcmultilegbaseengine.hpp:101</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a86f2afe93c0123ba336499d9cc9fd5ba"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a86f2afe93c0123ba336499d9cc9fd5ba">QuantExt::McMultiLegBaseEngine::payFxIndex_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Size &gt; &gt; payFxIndex_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00094">mcmultilegbaseengine.hpp:94</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a87f0334fc31adaa6ca3bf0a410b4c164"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a87f0334fc31adaa6ca3bf0a410b4c164">QuantExt::McMultiLegBaseEngine::isNakedOption_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; bool &gt; &gt; isNakedOption_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00103">mcmultilegbaseengine.hpp:103</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a89f527a2a83e1828353f94f91fce03b9"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a89f527a2a83e1828353f94f91fce03b9">QuantExt::McMultiLegBaseEngine::gearing_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Real &gt; &gt; gearing_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00101">mcmultilegbaseengine.hpp:101</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a90d842bb936565c447a6f1756682bfe0"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a90d842bb936565c447a6f1756682bfe0">QuantExt::McMultiLegBaseEngine::couponIndex_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; boost::shared_ptr&lt; Index &gt; &gt; &gt; couponIndex_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00104">mcmultilegbaseengine.hpp:104</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_aa1a5b9c80b024f452b434324ab9dcc0b"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa1a5b9c80b024f452b434324ab9dcc0b">QuantExt::McMultiLegBaseEngine::couponIndexQuantity_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Real &gt; &gt; couponIndexQuantity_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00106">mcmultilegbaseengine.hpp:106</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_aa74ddf7db99427789db81e8354341248"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa74ddf7db99427789db81e8354341248">QuantExt::McMultiLegBaseEngine::maxDirtyNpvIndex_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Size &gt; &gt; maxDirtyNpvIndex_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00095">mcmultilegbaseengine.hpp:95</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_ac0dc965686946fcf375755edfdac421e"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ac0dc965686946fcf375755edfdac421e">QuantExt::McMultiLegBaseEngine::flooredRate_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Real &gt; &gt; flooredRate_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00102">mcmultilegbaseengine.hpp:102</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_ad0ae094436b5192ddb8f7f07c6f3c0a4"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad0ae094436b5192ddb8f7f07c6f3c0a4">QuantExt::McMultiLegBaseEngine::indexDscCurve_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; boost::shared_ptr&lt; LgmImpliedYieldTermStructure &gt; &gt; &gt; indexDscCurve_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00097">mcmultilegbaseengine.hpp:97</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_af235d611507a6ea9c9f3f8ecce34c91a"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">QuantExt::McMultiLegBaseEngine::pathDates_</a></div><div class="ttdeci">std::vector&lt; Date &gt; pathDates_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00108">mcmultilegbaseengine.hpp:108</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_afc827b682c54aae80098ff1bc2c28232"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#afc827b682c54aae80098ff1bc2c28232">QuantExt::McMultiLegBaseEngine::indexFwdCurve_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; boost::shared_ptr&lt; LgmImpliedYieldTermStructure &gt; &gt; &gt; indexFwdCurve_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00097">mcmultilegbaseengine.hpp:97</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_aff144e0ec152ce1a774043796e65d667"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aff144e0ec152ce1a774043796e65d667">QuantExt::McMultiLegBaseEngine::fixingDate_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Date &gt; &gt; fixingDate_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00100">mcmultilegbaseengine.hpp:100</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_mc_multi_leg_base_engine_ad98efb624e4e763f09de39b5d1fffe06_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_mc_multi_leg_base_engine_ad98efb624e4e763f09de39b5d1fffe06_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_mc_multi_leg_base_engine_ad98efb624e4e763f09de39b5d1fffe06_icgraph" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_ad98efb624e4e763f09de39b5d1fffe06_icgraph">
<area shape="rect" title=" " alt="" coords="120,5,219,31"/>
<area shape="rect" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ab8399ef5e2d2b468cdb5ff80e6d2048a" title=" " alt="" coords="5,5,72,31"/>
</map>
</div>

</div>
</div>
<a id="ab8399ef5e2d2b468cdb5ff80e6d2048a" name="ab8399ef5e2d2b468cdb5ff80e6d2048a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8399ef5e2d2b468cdb5ff80e6d2048a">&#9670;&#160;</a></span>rollback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rollback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>calibration</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8cpp_source.html#l00148">148</a> of file <a class="el" href="mcmultilegbaseengine_8cpp_source.html">mcmultilegbaseengine.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  148</span>                                                                {</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    Size N = calibration ? <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a62dfe4298acb6171f03c001a1b7aebed">calibrationSamples_</a> : <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aee5dd2168df60b094e3f6e80dd9aba58">pricingSamples_</a>; <span class="comment">// number of paths</span></div>
<div class="line"><span class="lineno">  151</span>    Size numIdx = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a59285a80dad46ff000be9adfe651e062">indexes_</a>.size();                                <span class="comment">// number of exercise / sim times</span></div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>    std::vector&lt;Real&gt; option(N, 0.0); <span class="comment">// option value</span></div>
<div class="line"><span class="lineno">  154</span>    std::vector&lt;Array&gt; x;             <span class="comment">// regressor for option</span></div>
<div class="line"><span class="lineno">  155</span>    std::vector&lt;Real&gt; y;              <span class="comment">// dependend variable for option</span></div>
<div class="line"><span class="lineno">  156</span>    std::vector&lt;Real&gt; exerciseValue;  <span class="comment">// exercise value</span></div>
<div class="line"><span class="lineno">  157</span>    std::vector&lt;Size&gt; itmPaths;       <span class="comment">// itm path indexes</span></div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    x.reserve(N);</div>
<div class="line"><span class="lineno">  160</span>    y.reserve(N);</div>
<div class="line"><span class="lineno">  161</span>    itmPaths.reserve(N);</div>
<div class="line"><span class="lineno">  162</span>    exerciseValue.reserve(N);</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    <span class="comment">// init result vectors</span></div>
<div class="line"><span class="lineno">  165</span>    <span class="keywordflow">if</span> (calibration) {</div>
<div class="line"><span class="lineno">  166</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a4469db25d8a087e4cbb58aada9227a6b">pathUndEx_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0f5cf988465d66567e8d2a6597d8eb57">numEx_</a> + 1);</div>
<div class="line"><span class="lineno">  167</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3a1c92a195e42623083ca6b63627e2f2">pathUndDirty_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">numSim_</a> + 1);</div>
<div class="line"><span class="lineno">  168</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a238a3f081bc362aea8acc85848fa55e0">pathUndTrapped_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">numSim_</a>); <span class="comment">// no index 0 for whole underlying</span></div>
<div class="line"><span class="lineno">  169</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aad73fb65c7ba123b97db8e50f22e811a">coeffsItm_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0f5cf988465d66567e8d2a6597d8eb57">numEx_</a>);</div>
<div class="line"><span class="lineno">  170</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ac1f812025543a8d1d94d98cfe3b3b02e">coeffsUndEx_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0f5cf988465d66567e8d2a6597d8eb57">numEx_</a>);</div>
<div class="line"><span class="lineno">  171</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af6a053bba3235e01f602d2403d9124cf">coeffsFull_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">numSim_</a>);</div>
<div class="line"><span class="lineno">  172</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#abffbb58aced3fa4ba8a91e2da648d67f">coeffsUndTrapped_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">numSim_</a>);</div>
<div class="line"><span class="lineno">  173</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af481981fce8133a000e2d4bf116b560f">coeffsUndDirty_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">numSim_</a>);</div>
<div class="line"><span class="lineno">  174</span>    }</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>    <span class="comment">// path generation and underlying npv computation</span></div>
<div class="line"><span class="lineno">  177</span>    std::vector&lt;std::vector&lt;Array&gt;&gt; paths(numIdx, std::vector&lt;Array&gt;(N));</div>
<div class="line"><span class="lineno">  178</span>    std::vector&lt;Array&gt; underlyingValueEx(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0f5cf988465d66567e8d2a6597d8eb57">numEx_</a> + 1, Array(N)), underlyingValueDirty(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">numSim_</a> + 1, Array(N)),</div>
<div class="line"><span class="lineno">  179</span>        underlyingValueTrapped(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">numSim_</a>, Array());</div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">for</span> (Size k = 0; k &lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">numSim_</a>; ++k) {</div>
<div class="line"><span class="lineno">  181</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae0d016159a83b9b0be2c946a545f93de">isTrappedDate_</a>[k])</div>
<div class="line"><span class="lineno">  182</span>            underlyingValueTrapped[k] = Array(N);</div>
<div class="line"><span class="lineno">  183</span>    }</div>
<div class="line"><span class="lineno">  184</span>    <span class="keywordflow">for</span> (Size i = 0; i &lt; N; ++i) {</div>
<div class="line"><span class="lineno">  185</span>        Sample&lt;MultiPath&gt; sample = calibration ? <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0a574bbac8c015e3df3808045b3c08ec">pathGeneratorCalibration_</a>-&gt;next() : <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae9ec55fe3b1733bd64082cfc9f73e977">pathGeneratorPricing_</a>-&gt;next();</div>
<div class="line"><span class="lineno">  186</span>        <a class="code hl_function" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad98efb624e4e763f09de39b5d1fffe06">computePath</a>(sample.value);</div>
<div class="line"><span class="lineno">  187</span>        <span class="keywordflow">for</span> (Size k = 0; k &lt;= <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0f5cf988465d66567e8d2a6597d8eb57">numEx_</a>; ++k)</div>
<div class="line"><span class="lineno">  188</span>            underlyingValueEx[k][i] = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a4469db25d8a087e4cbb58aada9227a6b">pathUndEx_</a>[k];</div>
<div class="line"><span class="lineno">  189</span>        <span class="keywordflow">for</span> (Size k = 0; k &lt;= <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">numSim_</a>; ++k) {</div>
<div class="line"><span class="lineno">  190</span>            underlyingValueDirty[k][i] = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3a1c92a195e42623083ca6b63627e2f2">pathUndDirty_</a>[k];</div>
<div class="line"><span class="lineno">  191</span>            <span class="keywordflow">if</span> (k &gt; 0 &amp;&amp; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae0d016159a83b9b0be2c946a545f93de">isTrappedDate_</a>[k - 1])</div>
<div class="line"><span class="lineno">  192</span>                underlyingValueTrapped[k - 1][i] = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3a1c92a195e42623083ca6b63627e2f2">pathUndDirty_</a>[k] - <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a238a3f081bc362aea8acc85848fa55e0">pathUndTrapped_</a>[k - 1];</div>
<div class="line"><span class="lineno">  193</span>        }</div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">for</span> (Size j = 0; j &lt; numIdx; ++j) {</div>
<div class="line"><span class="lineno">  195</span>            Array v(sample.value.assetNumber());</div>
<div class="line"><span class="lineno">  196</span>            <span class="keywordflow">for</span> (Size k = 0; k &lt; sample.value.assetNumber(); ++k) {</div>
<div class="line"><span class="lineno">  197</span>                v[k] = sample.value[k][<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a59285a80dad46ff000be9adfe651e062">indexes_</a>[j] + 1];</div>
<div class="line"><span class="lineno">  198</span>            }</div>
<div class="line"><span class="lineno">  199</span>            paths[j][i].swap(v);</div>
<div class="line"><span class="lineno">  200</span>        }</div>
<div class="line"><span class="lineno">  201</span>    }</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>    <span class="comment">// roll back over live ex / sim dates (1,2...) and today (0)</span></div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordtype">bool</span> isLastExercise = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">for</span> (Size ts = numIdx; ts &gt; 0; --ts) {</div>
<div class="line"><span class="lineno">  206</span>        <span class="comment">// event type and indexes</span></div>
<div class="line"><span class="lineno">  207</span>        Size exIdx = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a60744c2ee5a90705e87b570e1d2578a0">exerciseIdx_</a>[ts - 1];</div>
<div class="line"><span class="lineno">  208</span>        Size simIdx = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a217fa6d14c58bd5d71ea12d59ce09c93">simulationIdx_</a>[ts - 1];</div>
<div class="line"><span class="lineno">  209</span>        <span class="keywordtype">bool</span> isExercise = exIdx != Null&lt;Size&gt;();</div>
<div class="line"><span class="lineno">  210</span>        <span class="keywordtype">bool</span> isSimulation = simIdx != Null&lt;Size&gt;();</div>
<div class="line"><span class="lineno">  211</span>        <span class="comment">// conditional expectation of underlying value</span></div>
<div class="line"><span class="lineno">  212</span>        <span class="keywordflow">if</span> (calibration) {</div>
<div class="line"><span class="lineno">  213</span>            <span class="keywordflow">if</span> (isExercise) {</div>
<div class="line"><span class="lineno">  214</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ac1f812025543a8d1d94d98cfe3b3b02e">coeffsUndEx_</a>[exIdx] = regression(paths[ts - 1], underlyingValueEx[exIdx + 1], <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>);</div>
<div class="line"><span class="lineno">  215</span>            }</div>
<div class="line"><span class="lineno">  216</span>            <span class="keywordflow">if</span> (isSimulation) {</div>
<div class="line"><span class="lineno">  217</span>                Size tmpTs = ts;</div>
<div class="line"><span class="lineno">  218</span>                <span class="keywordflow">while</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad4b863df9136b28d8e4327ea50c6659b">regressionOnExerciseOnly_</a> &amp;&amp; tmpTs &lt;= numIdx &amp;&amp; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a60744c2ee5a90705e87b570e1d2578a0">exerciseIdx_</a>[tmpTs - 1] == Null&lt;Size&gt;()) {</div>
<div class="line"><span class="lineno">  219</span>                    ++tmpTs;</div>
<div class="line"><span class="lineno">  220</span>                }</div>
<div class="line"><span class="lineno">  221</span>                <span class="keywordflow">if</span> (tmpTs &gt; numIdx)</div>
<div class="line"><span class="lineno">  222</span>                    tmpTs = ts;</div>
<div class="line"><span class="lineno">  223</span>                <span class="comment">// skip if we know that all underlying flows are zero</span></div>
<div class="line"><span class="lineno">  224</span>                <span class="keywordflow">if</span> (simIdx &lt;= <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa6531936b4303db1ffed84115b336a81">maxUndValDirtyIdx_</a>) {</div>
<div class="line"><span class="lineno">  225</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af481981fce8133a000e2d4bf116b560f">coeffsUndDirty_</a>[simIdx] = regression(paths[tmpTs - 1], underlyingValueDirty[simIdx + 1], <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>);</div>
<div class="line"><span class="lineno">  226</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae0d016159a83b9b0be2c946a545f93de">isTrappedDate_</a>[simIdx])</div>
<div class="line"><span class="lineno">  227</span>                        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#abffbb58aced3fa4ba8a91e2da648d67f">coeffsUndTrapped_</a>[simIdx] =</div>
<div class="line"><span class="lineno">  228</span>                            regression(paths[tmpTs - 1], underlyingValueTrapped[simIdx], <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>);</div>
<div class="line"><span class="lineno">  229</span>                } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  230</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af481981fce8133a000e2d4bf116b560f">coeffsUndDirty_</a>[simIdx] = Array(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>.size(), 0.0);</div>
<div class="line"><span class="lineno">  231</span>            }</div>
<div class="line"><span class="lineno">  232</span>        }</div>
<div class="line"><span class="lineno">  233</span>        <span class="comment">// on the last exercise date the payoff is max(underlying,0.0) ...</span></div>
<div class="line"><span class="lineno">  234</span>        <span class="keywordflow">if</span> (isExercise) {</div>
<div class="line"><span class="lineno">  235</span>            <span class="keywordflow">if</span> (isLastExercise) {</div>
<div class="line"><span class="lineno">  236</span>                <span class="keywordflow">for</span> (Size i = 0; i &lt; N; ++i) {</div>
<div class="line"><span class="lineno">  237</span>                    <span class="keywordflow">if</span> (evalRegression(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ac1f812025543a8d1d94d98cfe3b3b02e">coeffsUndEx_</a>[exIdx], paths[ts - 1][i], <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>) &gt; 0) {</div>
<div class="line"><span class="lineno">  238</span>                        option[i] = underlyingValueEx[exIdx + 1][i];</div>
<div class="line"><span class="lineno">  239</span>                    }</div>
<div class="line"><span class="lineno">  240</span>                }</div>
<div class="line"><span class="lineno">  241</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aad73fb65c7ba123b97db8e50f22e811a">coeffsItm_</a>[exIdx] = Array(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>.size(), 0.0); <span class="comment">// on last exercise cv = 0</span></div>
<div class="line"><span class="lineno">  242</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  243</span>                x.clear();</div>
<div class="line"><span class="lineno">  244</span>                y.clear();</div>
<div class="line"><span class="lineno">  245</span>                itmPaths.clear();</div>
<div class="line"><span class="lineno">  246</span>                exerciseValue.clear();</div>
<div class="line"><span class="lineno">  247</span>                <span class="comment">// otherwise compute the exercise value and collect the itm cont vals...</span></div>
<div class="line"><span class="lineno">  248</span>                <span class="keywordflow">for</span> (Size i = 0; i &lt; N; ++i) {</div>
<div class="line"><span class="lineno">  249</span>                    Real tmp = evalRegression(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ac1f812025543a8d1d94d98cfe3b3b02e">coeffsUndEx_</a>[exIdx], paths[ts - 1][i], <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>);</div>
<div class="line"><span class="lineno">  250</span>                    <span class="keywordflow">if</span> (tmp &gt; 0.0) {</div>
<div class="line"><span class="lineno">  251</span>                        exerciseValue.push_back(tmp);</div>
<div class="line"><span class="lineno">  252</span>                        itmPaths.push_back(i);</div>
<div class="line"><span class="lineno">  253</span>                        <span class="keywordflow">if</span> (calibration) {</div>
<div class="line"><span class="lineno">  254</span>                            x.push_back(paths[ts - 1][i]);</div>
<div class="line"><span class="lineno">  255</span>                            y.push_back(option[i]);</div>
<div class="line"><span class="lineno">  256</span>                        }</div>
<div class="line"><span class="lineno">  257</span>                    }</div>
<div class="line"><span class="lineno">  258</span>                }</div>
<div class="line"><span class="lineno">  259</span>            }</div>
<div class="line"><span class="lineno">  260</span>            <span class="comment">// calibrate the continuation value coefficients</span></div>
<div class="line"><span class="lineno">  261</span>            <span class="keywordflow">if</span> (calibration) {</div>
<div class="line"><span class="lineno">  262</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>.size() &lt;= x.size()) {</div>
<div class="line"><span class="lineno">  263</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aad73fb65c7ba123b97db8e50f22e811a">coeffsItm_</a>[exIdx] = regression(x, y, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>);</div>
<div class="line"><span class="lineno">  264</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  265</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aad73fb65c7ba123b97db8e50f22e811a">coeffsItm_</a>[exIdx] = Array(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>.size(), 0.0);</div>
<div class="line"><span class="lineno">  266</span>                }</div>
<div class="line"><span class="lineno">  267</span>            }</div>
<div class="line"><span class="lineno">  268</span>        }</div>
<div class="line"><span class="lineno">  269</span>        <span class="keywordflow">if</span> (calibration &amp;&amp; isSimulation) {</div>
<div class="line"><span class="lineno">  270</span>            <span class="comment">// full continuation value coefficients</span></div>
<div class="line"><span class="lineno">  271</span>            <span class="keywordflow">if</span> (isLastExercise)</div>
<div class="line"><span class="lineno">  272</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af6a053bba3235e01f602d2403d9124cf">coeffsFull_</a>[simIdx] = Array(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>.size(), 0.0);</div>
<div class="line"><span class="lineno">  273</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  274</span>                <span class="comment">// compute coefficients on next exercise date</span></div>
<div class="line"><span class="lineno">  275</span>                Size tmpTs = ts;</div>
<div class="line"><span class="lineno">  276</span>                <span class="keywordflow">while</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad4b863df9136b28d8e4327ea50c6659b">regressionOnExerciseOnly_</a> &amp;&amp; tmpTs &lt;= numIdx &amp;&amp; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a60744c2ee5a90705e87b570e1d2578a0">exerciseIdx_</a>[tmpTs - 1] == Null&lt;Size&gt;())</div>
<div class="line"><span class="lineno">  277</span>                    ++tmpTs;</div>
<div class="line"><span class="lineno">  278</span>                QL_REQUIRE(tmpTs &lt;= numIdx, &quot;tmpTs &gt; numIdx, <span class="keyword">this</span> is unexpected<span class="stringliteral">&quot;);</span></div>
<div class="line"><span class="lineno">  279</span><span class="stringliteral">                coeffsFull_[simIdx] = regression(paths[tmpTs - 1], option, basisFns_);</span></div>
<div class="line"><span class="lineno">  280</span><span class="stringliteral">            }</span></div>
<div class="line"><span class="lineno">  281</span><span class="stringliteral">        }</span></div>
<div class="line"><span class="lineno">  282</span><span class="stringliteral">        if (isExercise) {</span></div>
<div class="line"><span class="lineno">  283</span><span class="stringliteral">            // early exercise decision + option value update</span></div>
<div class="line"><span class="lineno">  284</span><span class="stringliteral">            for (Size i = 0; i &lt; itmPaths.size(); ++i) {</span></div>
<div class="line"><span class="lineno">  285</span><span class="stringliteral">                Real cv = evalRegression(coeffsItm_[exIdx], paths[ts - 1][itmPaths[i]], basisFns_);</span></div>
<div class="line"><span class="lineno">  286</span><span class="stringliteral">                if (exerciseValue[i] &gt; cv) {</span></div>
<div class="line"><span class="lineno">  287</span><span class="stringliteral">                    option[itmPaths[i]] = underlyingValueEx[exIdx + 1][itmPaths[i]];</span></div>
<div class="line"><span class="lineno">  288</span><span class="stringliteral">                }</span></div>
<div class="line"><span class="lineno">  289</span><span class="stringliteral">            }</span></div>
<div class="line"><span class="lineno">  290</span><span class="stringliteral">            isLastExercise = false;</span></div>
<div class="line"><span class="lineno">  291</span><span class="stringliteral">        }</span></div>
<div class="line"><span class="lineno">  292</span><span class="stringliteral">    } // end of roll back</span></div>
<div class="line"><span class="lineno">  293</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  294</span><span class="stringliteral">    // compute underlying value</span></div>
<div class="line"><span class="lineno">  295</span><span class="stringliteral">    resultUnderlyingNpv_ = std::accumulate(underlyingValueDirty[0].begin(), underlyingValueDirty[0].end(), 0.0) /</span></div>
<div class="line"><span class="lineno">  296</span><span class="stringliteral">                           static_cast&lt;Real&gt;(N) * model_-&gt;numeraire(0, 0.0, 0.0, discountCurves_[0]);</span></div>
<div class="line"><span class="lineno">  297</span><span class="stringliteral">    // if we have no exercise, the underlying value is the npv by definition</span></div>
<div class="line"><span class="lineno">  298</span><span class="stringliteral">    resultValue_ = exercise_ == nullptr ? resultUnderlyingNpv_</span></div>
<div class="line"><span class="lineno">  299</span><span class="stringliteral">                                        : std::accumulate(option.begin(), option.end(), 0.0) / static_cast&lt;Real&gt;(N) *</span></div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral">                                              model_-&gt;numeraire(0, 0.0, 0.0, discountCurves_[0]);</span></div>
<div class="line"><span class="lineno">  301</span><span class="stringliteral">}</span></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a0a574bbac8c015e3df3808045b3c08ec"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0a574bbac8c015e3df3808045b3c08ec">QuantExt::McMultiLegBaseEngine::pathGeneratorCalibration_</a></div><div class="ttdeci">boost::shared_ptr&lt; MultiPathGeneratorBase &gt; pathGeneratorCalibration_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00111">mcmultilegbaseengine.hpp:111</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a0f5cf988465d66567e8d2a6597d8eb57"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0f5cf988465d66567e8d2a6597d8eb57">QuantExt::McMultiLegBaseEngine::numEx_</a></div><div class="ttdeci">Size numEx_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00092">mcmultilegbaseengine.hpp:92</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a217fa6d14c58bd5d71ea12d59ce09c93"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a217fa6d14c58bd5d71ea12d59ce09c93">QuantExt::McMultiLegBaseEngine::simulationIdx_</a></div><div class="ttdeci">std::vector&lt; Size &gt; simulationIdx_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00090">mcmultilegbaseengine.hpp:90</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a45dbcc16eed6dc88aae61c28a83585bb"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">QuantExt::McMultiLegBaseEngine::numSim_</a></div><div class="ttdeci">Size numSim_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00092">mcmultilegbaseengine.hpp:92</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a59285a80dad46ff000be9adfe651e062"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a59285a80dad46ff000be9adfe651e062">QuantExt::McMultiLegBaseEngine::indexes_</a></div><div class="ttdeci">std::vector&lt; Size &gt; indexes_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00089">mcmultilegbaseengine.hpp:89</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a60744c2ee5a90705e87b570e1d2578a0"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a60744c2ee5a90705e87b570e1d2578a0">QuantExt::McMultiLegBaseEngine::exerciseIdx_</a></div><div class="ttdeci">std::vector&lt; Size &gt; exerciseIdx_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00090">mcmultilegbaseengine.hpp:90</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_aa6531936b4303db1ffed84115b336a81"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa6531936b4303db1ffed84115b336a81">QuantExt::McMultiLegBaseEngine::maxUndValDirtyIdx_</a></div><div class="ttdeci">Size maxUndValDirtyIdx_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00107">mcmultilegbaseengine.hpp:107</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_aad73fb65c7ba123b97db8e50f22e811a"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aad73fb65c7ba123b97db8e50f22e811a">QuantExt::McMultiLegBaseEngine::coeffsItm_</a></div><div class="ttdeci">std::vector&lt; Array &gt; coeffsItm_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00114">mcmultilegbaseengine.hpp:114</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_abffbb58aced3fa4ba8a91e2da648d67f"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#abffbb58aced3fa4ba8a91e2da648d67f">QuantExt::McMultiLegBaseEngine::coeffsUndTrapped_</a></div><div class="ttdeci">std::vector&lt; Array &gt; coeffsUndTrapped_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00117">mcmultilegbaseengine.hpp:117</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_ac1f812025543a8d1d94d98cfe3b3b02e"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ac1f812025543a8d1d94d98cfe3b3b02e">QuantExt::McMultiLegBaseEngine::coeffsUndEx_</a></div><div class="ttdeci">std::vector&lt; Array &gt; coeffsUndEx_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00115">mcmultilegbaseengine.hpp:115</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_ad98efb624e4e763f09de39b5d1fffe06"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad98efb624e4e763f09de39b5d1fffe06">QuantExt::McMultiLegBaseEngine::computePath</a></div><div class="ttdeci">void computePath(const MultiPath &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8cpp_source.html#l00096">mcmultilegbaseengine.cpp:96</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_ae0d016159a83b9b0be2c946a545f93de"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae0d016159a83b9b0be2c946a545f93de">QuantExt::McMultiLegBaseEngine::isTrappedDate_</a></div><div class="ttdeci">std::vector&lt; bool &gt; isTrappedDate_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00091">mcmultilegbaseengine.hpp:91</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_ae9ec55fe3b1733bd64082cfc9f73e977"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae9ec55fe3b1733bd64082cfc9f73e977">QuantExt::McMultiLegBaseEngine::pathGeneratorPricing_</a></div><div class="ttdeci">boost::shared_ptr&lt; MultiPathGeneratorBase &gt; pathGeneratorPricing_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00111">mcmultilegbaseengine.hpp:111</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_af481981fce8133a000e2d4bf116b560f"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af481981fce8133a000e2d4bf116b560f">QuantExt::McMultiLegBaseEngine::coeffsUndDirty_</a></div><div class="ttdeci">std::vector&lt; Array &gt; coeffsUndDirty_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00118">mcmultilegbaseengine.hpp:118</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_af6a053bba3235e01f602d2403d9124cf"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af6a053bba3235e01f602d2403d9124cf">QuantExt::McMultiLegBaseEngine::coeffsFull_</a></div><div class="ttdeci">std::vector&lt; Array &gt; coeffsFull_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00116">mcmultilegbaseengine.hpp:116</a></div></div>
</div><!-- fragment --><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_mc_multi_leg_base_engine_ab8399ef5e2d2b468cdb5ff80e6d2048a_cgraph.png" border="0" usemap="#aclass_quant_ext_1_1_mc_multi_leg_base_engine_ab8399ef5e2d2b468cdb5ff80e6d2048a_cgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_mc_multi_leg_base_engine_ab8399ef5e2d2b468cdb5ff80e6d2048a_cgraph" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_ab8399ef5e2d2b468cdb5ff80e6d2048a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,72,31"/>
<area shape="rect" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad98efb624e4e763f09de39b5d1fffe06" title=" " alt="" coords="120,5,219,31"/>
</map>
</div>

</div>
</div>
<a id="a082ff96da379d5e17436372ccb3c0972" name="a082ff96da379d5e17436372ccb3c0972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a082ff96da379d5e17436372ccb3c0972">&#9670;&#160;</a></span>calculate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void calculate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8cpp_source.html#l00352">352</a> of file <a class="el" href="mcmultilegbaseengine_8cpp_source.html">mcmultilegbaseengine.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  352</span>                                           {</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>    <span class="comment">// check data set by derived engines</span></div>
<div class="line"><span class="lineno">  355</span>    QL_REQUIRE(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>.size() &gt; 0, <span class="stringliteral">&quot;McMultiLegBaseEngine: no legs given&quot;</span>);</div>
<div class="line"><span class="lineno">  356</span>    QL_REQUIRE(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a2998ea0dd746f75f1d83fe1d7cd3c6ab">currency_</a>.size() == <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>.size(), <span class="stringliteral">&quot;McMultiLegBaseEngine: number of legs (&quot;</span></div>
<div class="line"><span class="lineno">  357</span>                                                    &lt;&lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>.size() &lt;&lt; <span class="stringliteral">&quot;) does not match currencies (&quot;</span></div>
<div class="line"><span class="lineno">  358</span>                                                    &lt;&lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a2998ea0dd746f75f1d83fe1d7cd3c6ab">currency_</a>.size() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  359</span>    QL_REQUIRE(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aec42fcaa87a0eca7ec78d2cf27ae1f5d">payer_</a>.size() == <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>.size(), <span class="stringliteral">&quot;McMultiLegBaseEngine: number of legs (&quot;</span></div>
<div class="line"><span class="lineno">  360</span>                                                 &lt;&lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>.size() &lt;&lt; <span class="stringliteral">&quot;) does not match payer flag (&quot;</span> &lt;&lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aec42fcaa87a0eca7ec78d2cf27ae1f5d">payer_</a>.size()</div>
<div class="line"><span class="lineno">  361</span>                                                 &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>    <span class="comment">// collect simulation times ...</span></div>
<div class="line"><span class="lineno">  364</span>    std::vector&lt;Date&gt; exerciseDates, simulationDates, exSimDates; <span class="comment">// live dates</span></div>
<div class="line"><span class="lineno">  365</span>    <span class="keyword">const</span> Handle&lt;YieldTermStructure&gt;&amp; ts = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;irlgm1f(0)-&gt;termStructure();</div>
<div class="line"><span class="lineno">  366</span>    Date today = Settings::instance().evaluationDate();</div>
<div class="line"><span class="lineno">  367</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.clear();</div>
<div class="line"><span class="lineno">  368</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>.clear();</div>
<div class="line"><span class="lineno">  369</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>.push_back(today);</div>
<div class="line"><span class="lineno">  370</span>    <span class="comment">// ... which can be coupon fixing or payment times ...</span></div>
<div class="line"><span class="lineno">  371</span>    <span class="keywordflow">for</span> (Size i = 0; i &lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>.size(); ++i) {</div>
<div class="line"><span class="lineno">  372</span>        std::vector&lt;Time&gt; legTimes;</div>
<div class="line"><span class="lineno">  373</span>        <span class="keywordflow">for</span> (Size j = 0; j &lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i].size(); ++j) {</div>
<div class="line"><span class="lineno">  374</span>            <span class="comment">// is the payment still relevant?</span></div>
<div class="line"><span class="lineno">  375</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j]-&gt;date() &lt;= today)</div>
<div class="line"><span class="lineno">  376</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  377</span>            Date d = eventDate(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j], today);</div>
<div class="line"><span class="lineno">  378</span>            Real t = ts-&gt;timeFromReference(d);</div>
<div class="line"><span class="lineno">  379</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.push_back(t);</div>
<div class="line"><span class="lineno">  380</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>.push_back(d);</div>
<div class="line"><span class="lineno">  381</span>        }</div>
<div class="line"><span class="lineno">  382</span>    }</div>
<div class="line"><span class="lineno">  383</span>    <span class="comment">// ... or exercise times ...</span></div>
<div class="line"><span class="lineno">  384</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3dba475b3e3956c0cc7b1a2934a8941e">exercise_</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  385</span>        <span class="keywordflow">for</span> (Size i = 0; i &lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3dba475b3e3956c0cc7b1a2934a8941e">exercise_</a>-&gt;dates().size(); ++i) {</div>
<div class="line"><span class="lineno">  386</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3dba475b3e3956c0cc7b1a2934a8941e">exercise_</a>-&gt;dates()[i] &lt;= today)</div>
<div class="line"><span class="lineno">  387</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  388</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.push_back(ts-&gt;timeFromReference(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3dba475b3e3956c0cc7b1a2934a8941e">exercise_</a>-&gt;dates()[i]));</div>
<div class="line"><span class="lineno">  389</span>            exerciseDates.push_back(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3dba475b3e3956c0cc7b1a2934a8941e">exercise_</a>-&gt;dates()[i]);</div>
<div class="line"><span class="lineno">  390</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>.push_back(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3dba475b3e3956c0cc7b1a2934a8941e">exercise_</a>-&gt;dates()[i]);</div>
<div class="line"><span class="lineno">  391</span>        }</div>
<div class="line"><span class="lineno">  392</span>    }</div>
<div class="line"><span class="lineno">  393</span>    <span class="comment">// ... or simulation times ...</span></div>
<div class="line"><span class="lineno">  394</span>    <span class="keywordflow">for</span> (Size i = 0; i &lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a19153caf3115b1c4410f511fa6d14427">simulationDates_</a>.size(); ++i) {</div>
<div class="line"><span class="lineno">  395</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a19153caf3115b1c4410f511fa6d14427">simulationDates_</a>[i] &lt;= today)</div>
<div class="line"><span class="lineno">  396</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  397</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.push_back(ts-&gt;timeFromReference(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a19153caf3115b1c4410f511fa6d14427">simulationDates_</a>[i]));</div>
<div class="line"><span class="lineno">  398</span>        simulationDates.push_back(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a19153caf3115b1c4410f511fa6d14427">simulationDates_</a>[i]);</div>
<div class="line"><span class="lineno">  399</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>.push_back(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a19153caf3115b1c4410f511fa6d14427">simulationDates_</a>[i]);</div>
<div class="line"><span class="lineno">  400</span>    }</div>
<div class="line"><span class="lineno">  401</span>    <span class="comment">// ... join the times and make them unique ...</span></div>
<div class="line"><span class="lineno">  402</span>    std::sort(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.end());</div>
<div class="line"><span class="lineno">  403</span>    <span class="keyword">auto</span> it = std::unique(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.end(), [](Real x, Real y) { return QuantLib::close_enough(x, y); });</div>
<div class="line"><span class="lineno">  404</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.resize(it - <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.begin());</div>
<div class="line"><span class="lineno">  405</span>    <span class="comment">// ... same for the path dates, and check the size matches the times vector ...</span></div>
<div class="line"><span class="lineno">  406</span>    std::sort(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>.end());</div>
<div class="line"><span class="lineno">  407</span>    <span class="keyword">auto</span> it2 = std::unique(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>.end());</div>
<div class="line"><span class="lineno">  408</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>.resize(it2 - <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>.begin());</div>
<div class="line"><span class="lineno">  409</span>    QL_REQUIRE(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>.size() == <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size() + 1, <span class="stringliteral">&quot;McMultiLegBaseEngine::calculate(): path dates size (&quot;</span></div>
<div class="line"><span class="lineno">  410</span>                                                           &lt;&lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af235d611507a6ea9c9f3f8ecce34c91a">pathDates_</a>.size() &lt;&lt; <span class="stringliteral">&quot;) does not match times size (&quot;</span></div>
<div class="line"><span class="lineno">  411</span>                                                           &lt;&lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size() &lt;&lt; <span class="stringliteral">&quot;) + 1, this is unexpected.&quot;</span>);</div>
<div class="line"><span class="lineno">  412</span>    <span class="comment">// ... join exercise and simulation dates and make them unique ...</span></div>
<div class="line"><span class="lineno">  413</span>    exSimDates.insert(exSimDates.end(), exerciseDates.begin(), exerciseDates.end());</div>
<div class="line"><span class="lineno">  414</span>    exSimDates.insert(exSimDates.end(), simulationDates.begin(), simulationDates.end());</div>
<div class="line"><span class="lineno">  415</span>    std::sort(exSimDates.begin(), exSimDates.end());</div>
<div class="line"><span class="lineno">  416</span>    <span class="keyword">auto</span> it3 = std::unique(exSimDates.begin(), exSimDates.end());</div>
<div class="line"><span class="lineno">  417</span>    exSimDates.resize(it3 - exSimDates.begin());</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>    <span class="comment">// determine indexes in time vector</span></div>
<div class="line"><span class="lineno">  420</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a59285a80dad46ff000be9adfe651e062">indexes_</a>.clear();</div>
<div class="line"><span class="lineno">  421</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a60744c2ee5a90705e87b570e1d2578a0">exerciseIdx_</a>.clear();</div>
<div class="line"><span class="lineno">  422</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a217fa6d14c58bd5d71ea12d59ce09c93">simulationIdx_</a>.clear();</div>
<div class="line"><span class="lineno">  423</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0f5cf988465d66567e8d2a6597d8eb57">numEx_</a> = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">numSim_</a> = 0;</div>
<div class="line"><span class="lineno">  424</span>    <span class="keywordflow">for</span> (Size i = 0; i &lt; exSimDates.size(); ++i) {</div>
<div class="line"><span class="lineno">  425</span>        Time t = ts-&gt;timeFromReference(exSimDates[i]);</div>
<div class="line"><span class="lineno">  426</span>        Size index =</div>
<div class="line"><span class="lineno">  427</span>            std::find_if(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.end(), [t](<span class="keyword">const</span> Time s) { return QuantLib::close_enough(s, t); }) -</div>
<div class="line"><span class="lineno">  428</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.begin();</div>
<div class="line"><span class="lineno">  429</span>        QL_REQUIRE(index &lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size(),</div>
<div class="line"><span class="lineno">  430</span>                   <span class="stringliteral">&quot;McMultiLegBaseEngine: did not find index for time &quot;</span> &lt;&lt; t &lt;&lt; <span class="stringliteral">&quot;, this is unexpected.&quot;</span>);</div>
<div class="line"><span class="lineno">  431</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a59285a80dad46ff000be9adfe651e062">indexes_</a>.push_back(index);</div>
<div class="line"><span class="lineno">  432</span>        <span class="keywordflow">if</span> (std::find(exerciseDates.begin(), exerciseDates.end(), exSimDates[i]) != exerciseDates.end()) {</div>
<div class="line"><span class="lineno">  433</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a60744c2ee5a90705e87b570e1d2578a0">exerciseIdx_</a>.push_back(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0f5cf988465d66567e8d2a6597d8eb57">numEx_</a>);</div>
<div class="line"><span class="lineno">  434</span>            ++<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0f5cf988465d66567e8d2a6597d8eb57">numEx_</a>;</div>
<div class="line"><span class="lineno">  435</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  436</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a60744c2ee5a90705e87b570e1d2578a0">exerciseIdx_</a>.push_back(Null&lt;Size&gt;());</div>
<div class="line"><span class="lineno">  437</span>        }</div>
<div class="line"><span class="lineno">  438</span>        <span class="keywordflow">if</span> (std::find(simulationDates.begin(), simulationDates.end(), exSimDates[i]) != simulationDates.end()) {</div>
<div class="line"><span class="lineno">  439</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a217fa6d14c58bd5d71ea12d59ce09c93">simulationIdx_</a>.push_back(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">numSim_</a>);</div>
<div class="line"><span class="lineno">  440</span>            ++<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">numSim_</a>;</div>
<div class="line"><span class="lineno">  441</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  442</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a217fa6d14c58bd5d71ea12d59ce09c93">simulationIdx_</a>.push_back(Null&lt;Size&gt;());</div>
<div class="line"><span class="lineno">  443</span>        }</div>
<div class="line"><span class="lineno">  444</span>    }</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>    <span class="comment">// simulation data for each simulation time (empty where not applicable)</span></div>
<div class="line"><span class="lineno">  447</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa6531936b4303db1ffed84115b336a81">maxUndValDirtyIdx_</a> = 0;</div>
<div class="line"><span class="lineno">  448</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a51cdc56a72e444474c84a8c5c4ed56f8">indexCcyIndex_</a>.clear();</div>
<div class="line"><span class="lineno">  449</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6ed6aacdbfe653540806b3e244f2e9db">payCcyNum_</a>.clear();</div>
<div class="line"><span class="lineno">  450</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a22bd78ddc393720541410a653d9bbb78">payCcyIndex_</a>.clear();</div>
<div class="line"><span class="lineno">  451</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a86f2afe93c0123ba336499d9cc9fd5ba">payFxIndex_</a>.clear();</div>
<div class="line"><span class="lineno">  452</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a52abe2d7f17b8d2923c7216664e919d2">maxExerciseIndex_</a>.clear();</div>
<div class="line"><span class="lineno">  453</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa74ddf7db99427789db81e8354341248">maxDirtyNpvIndex_</a>.clear();</div>
<div class="line"><span class="lineno">  454</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#afc827b682c54aae80098ff1bc2c28232">indexFwdCurve_</a>.clear();</div>
<div class="line"><span class="lineno">  455</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad0ae094436b5192ddb8f7f07c6f3c0a4">indexDscCurve_</a>.clear();</div>
<div class="line"><span class="lineno">  456</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a5c9e4878f5e79eed74ca270373b4fff5">modelIndex_</a>.clear();</div>
<div class="line"><span class="lineno">  457</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a61364b60921c9e86cdbd64e03d99a78d">observationTimeIndex_</a>.clear();</div>
<div class="line"><span class="lineno">  458</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aff144e0ec152ce1a774043796e65d667">fixingDate_</a>.clear();</div>
<div class="line"><span class="lineno">  459</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a89f527a2a83e1828353f94f91fce03b9">gearing_</a>.clear();</div>
<div class="line"><span class="lineno">  460</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a868936b695525bf3b074e76847de0355">spread_</a>.clear();</div>
<div class="line"><span class="lineno">  461</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0e452803c38c6fd649e43a1c3afd5696">accrualTime_</a>.clear();</div>
<div class="line"><span class="lineno">  462</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a17f5394d0b82d4b98081dc4490754339">nominal_</a>.clear();</div>
<div class="line"><span class="lineno">  463</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6bb4dc2decf120597f703af08324562f">payTime_</a>.clear();</div>
<div class="line"><span class="lineno">  464</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a041ca8a88eb254d62ab838e45b899294">cappedRate_</a>.clear();</div>
<div class="line"><span class="lineno">  465</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ac0dc965686946fcf375755edfdac421e">flooredRate_</a>.clear();</div>
<div class="line"><span class="lineno">  466</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a87f0334fc31adaa6ca3bf0a410b4c164">isNakedOption_</a>.clear();</div>
<div class="line"><span class="lineno">  467</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a90d842bb936565c447a6f1756682bfe0">couponIndex_</a>.clear();</div>
<div class="line"><span class="lineno">  468</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a29efec52cb53c87aa260d78941078b10">couponIndexFixingDate_</a>.clear();</div>
<div class="line"><span class="lineno">  469</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa1a5b9c80b024f452b434324ab9dcc0b">couponIndexQuantity_</a>.clear();</div>
<div class="line"><span class="lineno">  470</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno">  471</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a51cdc56a72e444474c84a8c5c4ed56f8">indexCcyIndex_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  472</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6ed6aacdbfe653540806b3e244f2e9db">payCcyNum_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  473</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a22bd78ddc393720541410a653d9bbb78">payCcyIndex_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  474</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a86f2afe93c0123ba336499d9cc9fd5ba">payFxIndex_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  475</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a52abe2d7f17b8d2923c7216664e919d2">maxExerciseIndex_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  476</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa74ddf7db99427789db81e8354341248">maxDirtyNpvIndex_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  477</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#afc827b682c54aae80098ff1bc2c28232">indexFwdCurve_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  478</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad0ae094436b5192ddb8f7f07c6f3c0a4">indexDscCurve_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  479</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a5c9e4878f5e79eed74ca270373b4fff5">modelIndex_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  480</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a61364b60921c9e86cdbd64e03d99a78d">observationTimeIndex_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  481</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aff144e0ec152ce1a774043796e65d667">fixingDate_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  482</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a89f527a2a83e1828353f94f91fce03b9">gearing_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  483</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a868936b695525bf3b074e76847de0355">spread_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  484</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0e452803c38c6fd649e43a1c3afd5696">accrualTime_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  485</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a17f5394d0b82d4b98081dc4490754339">nominal_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  486</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6bb4dc2decf120597f703af08324562f">payTime_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  487</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a041ca8a88eb254d62ab838e45b899294">cappedRate_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  488</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ac0dc965686946fcf375755edfdac421e">flooredRate_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  489</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a87f0334fc31adaa6ca3bf0a410b4c164">isNakedOption_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  490</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a90d842bb936565c447a6f1756682bfe0">couponIndex_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  491</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a29efec52cb53c87aa260d78941078b10">couponIndexFixingDate_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  492</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa1a5b9c80b024f452b434324ab9dcc0b">couponIndexQuantity_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  493</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno">  494</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a81faf4661d37c929bd01c98b6da8c7db">trappedCoupons_</a>.clear();</div>
<div class="line"><span class="lineno">  495</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a81faf4661d37c929bd01c98b6da8c7db">trappedCoupons_</a>.resize(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size());</div>
<div class="line"><span class="lineno">  496</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae0d016159a83b9b0be2c946a545f93de">isTrappedDate_</a>.clear();</div>
<div class="line"><span class="lineno">  497</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae0d016159a83b9b0be2c946a545f93de">isTrappedDate_</a>.resize(simulationDates.size(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>    <span class="comment">// determine last exercise dates before sim dates (used below for trapped coupons)</span></div>
<div class="line"><span class="lineno">  500</span>    std::vector&lt;Date&gt; lastExDateBeforeSim(simulationDates.size(), Date::minDate());</div>
<div class="line"><span class="lineno">  501</span>    <span class="keywordflow">for</span> (Size i = 0; i &lt; simulationDates.size(); ++i) {</div>
<div class="line"><span class="lineno">  502</span>        <span class="keyword">auto</span> it = std::lower_bound(exerciseDates.begin(), exerciseDates.end(), simulationDates[i]);</div>
<div class="line"><span class="lineno">  503</span>        <span class="keywordflow">if</span> (it == exerciseDates.begin())</div>
<div class="line"><span class="lineno">  504</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  505</span>        --it;</div>
<div class="line"><span class="lineno">  506</span>        lastExDateBeforeSim[i] = *it;</div>
<div class="line"><span class="lineno">  507</span>    }</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>    <span class="comment">// loop through all coupons</span></div>
<div class="line"><span class="lineno">  510</span>    <span class="keywordflow">for</span> (Size i = 0; i &lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>.size(); ++i) {</div>
<div class="line"><span class="lineno">  511</span>        <span class="keywordflow">for</span> (Size j = 0; j &lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i].size(); ++j) {</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>            <span class="comment">// is the payment still relevant?</span></div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j]-&gt;date() &lt;= today)</div>
<div class="line"><span class="lineno">  516</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  517</span> </div>
<div class="line"><span class="lineno">  518</span>            <span class="comment">// look up the time index</span></div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>            Date d = eventDate(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j], today);</div>
<div class="line"><span class="lineno">  521</span>            Time t = ts-&gt;timeFromReference(d);</div>
<div class="line"><span class="lineno">  522</span>            Size index =</div>
<div class="line"><span class="lineno">  523</span>                std::find_if(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.end(), [t](<span class="keyword">const</span> Time s) { return QuantLib::close_enough(t, s); }) -</div>
<div class="line"><span class="lineno">  524</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.begin();</div>
<div class="line"><span class="lineno">  525</span>            QL_REQUIRE(index &lt; <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.size(),</div>
<div class="line"><span class="lineno">  526</span>                       <span class="stringliteral">&quot;McMultiLegBaseEngine: did not find index for time &quot;</span> &lt;&lt; t &lt;&lt; <span class="stringliteral">&quot;, this is unexpected.&quot;</span>);</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>            <span class="comment">// this is the maximum exercise / sim date such that the coupon or flow belongs to it or requires</span></div>
<div class="line"><span class="lineno">  529</span>            <span class="comment">// a trapped coupon computation (to determine the mimimal possible observation time for vanilla coupons)</span></div>
<div class="line"><span class="lineno">  530</span>            Date minObsDatePossible = Date::minDate();</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>            <span class="comment">// determine max exercise index coupon or flow belongs to</span></div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>            <span class="keyword">auto</span> cpn = boost::dynamic_pointer_cast&lt;Coupon&gt;(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j]);</div>
<div class="line"><span class="lineno">  535</span>            Date criterionDate = cpn != <span class="keyword">nullptr</span> ? cpn-&gt;accrualStartDate() : <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j]-&gt;date();</div>
<div class="line"><span class="lineno">  536</span>            Size k = 0;</div>
<div class="line"><span class="lineno">  537</span>            <span class="keywordflow">for</span> (Size i = 0; i &lt; exerciseDates.size(); ++i) {</div>
<div class="line"><span class="lineno">  538</span>                <span class="keywordflow">if</span> (exerciseDates[i] &lt;= criterionDate) {</div>
<div class="line"><span class="lineno">  539</span>                    k = i + 1;</div>
<div class="line"><span class="lineno">  540</span>                    minObsDatePossible = std::max(minObsDatePossible, exerciseDates[i]);</div>
<div class="line"><span class="lineno">  541</span>                }</div>
<div class="line"><span class="lineno">  542</span>            }</div>
<div class="line"><span class="lineno">  543</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a52abe2d7f17b8d2923c7216664e919d2">maxExerciseIndex_</a>[index].push_back(k);</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>            <span class="comment">// determine max dirty npv sim index flow belongs to</span></div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>            criterionDate = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j]-&gt;date();</div>
<div class="line"><span class="lineno">  548</span>            k = 0;</div>
<div class="line"><span class="lineno">  549</span>            <span class="keywordflow">for</span> (Size i = 0; i &lt; simulationDates.size(); ++i) {</div>
<div class="line"><span class="lineno">  550</span>                <span class="keywordflow">if</span> (simulationDates[i] &lt; criterionDate) {</div>
<div class="line"><span class="lineno">  551</span>                    k = i + 1;</div>
<div class="line"><span class="lineno">  552</span>                    minObsDatePossible = std::max(minObsDatePossible, simulationDates[i]);</div>
<div class="line"><span class="lineno">  553</span>                }</div>
<div class="line"><span class="lineno">  554</span>            }</div>
<div class="line"><span class="lineno">  555</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa74ddf7db99427789db81e8354341248">maxDirtyNpvIndex_</a>[index].push_back(k);</div>
<div class="line"><span class="lineno">  556</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa6531936b4303db1ffed84115b336a81">maxUndValDirtyIdx_</a> = std::max(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa6531936b4303db1ffed84115b336a81">maxUndValDirtyIdx_</a>, k - 1);</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>            <span class="comment">// populate trapped coupons&#39; sim indexes</span></div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>            std::vector&lt;Size&gt; vec;</div>
<div class="line"><span class="lineno">  561</span>            <span class="keywordflow">if</span> (cpn != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  562</span>                <span class="keywordflow">for</span> (Size i = 0; i &lt; simulationDates.size(); ++i) {</div>
<div class="line"><span class="lineno">  563</span>                    <span class="keywordflow">if</span> (lastExDateBeforeSim[i] &gt; cpn-&gt;accrualStartDate() &amp;&amp; simulationDates[i] &lt; cpn-&gt;date()) {</div>
<div class="line"><span class="lineno">  564</span>                        vec.push_back(i);</div>
<div class="line"><span class="lineno">  565</span>                        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae0d016159a83b9b0be2c946a545f93de">isTrappedDate_</a>[i] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  566</span>                        minObsDatePossible = std::max(minObsDatePossible, simulationDates[i]);</div>
<div class="line"><span class="lineno">  567</span>                    }</div>
<div class="line"><span class="lineno">  568</span>                }</div>
<div class="line"><span class="lineno">  569</span>            }</div>
<div class="line"><span class="lineno">  570</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a81faf4661d37c929bd01c98b6da8c7db">trappedCoupons_</a>[index].push_back(vec);</div>
<div class="line"><span class="lineno">  571</span> </div>
<div class="line"><span class="lineno">  572</span>            <span class="comment">// handle coupon types</span></div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>            Real multiplier = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aec42fcaa87a0eca7ec78d2cf27ae1f5d">payer_</a>[i];</div>
<div class="line"><span class="lineno">  575</span>            <span class="keywordtype">bool</span> allowsVanillaValuation = <span class="keyword">true</span>; <span class="comment">// true if zero vol fwd value can be used for valuation</span></div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>            <span class="keywordflow">if</span> (isFixedCoupon(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j], today)) {</div>
<div class="line"><span class="lineno">  578</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a51cdc56a72e444474c84a8c5c4ed56f8">indexCcyIndex_</a>[index].push_back(Null&lt;Size&gt;());</div>
<div class="line"><span class="lineno">  579</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#afc827b682c54aae80098ff1bc2c28232">indexFwdCurve_</a>[index].push_back(<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  580</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad0ae094436b5192ddb8f7f07c6f3c0a4">indexDscCurve_</a>[index].push_back(<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  581</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a5c9e4878f5e79eed74ca270373b4fff5">modelIndex_</a>[index].push_back(<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  582</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aff144e0ec152ce1a774043796e65d667">fixingDate_</a>[index].push_back(Null&lt;Date&gt;());</div>
<div class="line"><span class="lineno">  583</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a89f527a2a83e1828353f94f91fce03b9">gearing_</a>[index].push_back(1.0);</div>
<div class="line"><span class="lineno">  584</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a868936b695525bf3b074e76847de0355">spread_</a>[index].push_back(cpn != <span class="keyword">nullptr</span> ? cpn-&gt;rate() : 1.0);</div>
<div class="line"><span class="lineno">  585</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a17f5394d0b82d4b98081dc4490754339">nominal_</a>[index].push_back(multiplier * (cpn != <span class="keyword">nullptr</span> ? cpn-&gt;nominal() : <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j]-&gt;amount()));</div>
<div class="line"><span class="lineno">  586</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a041ca8a88eb254d62ab838e45b899294">cappedRate_</a>[index].push_back(QL_MAX_REAL);</div>
<div class="line"><span class="lineno">  587</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ac0dc965686946fcf375755edfdac421e">flooredRate_</a>[index].push_back(-QL_MAX_REAL);</div>
<div class="line"><span class="lineno">  588</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a87f0334fc31adaa6ca3bf0a410b4c164">isNakedOption_</a>[index].push_back(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  589</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  590</span>                <span class="keyword">auto</span> flr = flrcpn(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j]);</div>
<div class="line"><span class="lineno">  591</span>                QL_REQUIRE(flr != <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno">  592</span>                           <span class="stringliteral">&quot;McMultiLegBaseEngine: unexpected coupon type, expected fixed or (cf) floating rate coupon&quot;</span>);</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>                <span class="comment">// proxy ON compounded, averaged and BMA by ibor coupons, ibor coupons are handled below</span></div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>                <span class="keywordflow">if</span> (<span class="keyword">auto</span> on = boost::dynamic_pointer_cast&lt;QuantExt::OvernightIndexedCoupon&gt;(cpn)) {</div>
<div class="line"><span class="lineno">  597</span>                    flr = boost::make_shared&lt;IborCoupon&gt;(</div>
<div class="line"><span class="lineno">  598</span>                        on-&gt;date(), on-&gt;nominal(), on-&gt;accrualStartDate(), on-&gt;accrualEndDate(), on-&gt;fixingDays(),</div>
<div class="line"><span class="lineno">  599</span>                        boost::make_shared&lt;IborIndex&gt;(</div>
<div class="line"><span class="lineno">  600</span>                            <span class="stringliteral">&quot;proxy-ibor&quot;</span>, (on-&gt;accrualEndDate() - on-&gt;accrualStartDate()) * Days, on-&gt;overnightIndex()-&gt;fixingDays(),</div>
<div class="line"><span class="lineno">  601</span>                            on-&gt;overnightIndex()-&gt;currency(), on-&gt;overnightIndex()-&gt;fixingCalendar(),</div>
<div class="line"><span class="lineno">  602</span>                            on-&gt;overnightIndex()-&gt;businessDayConvention(), on-&gt;overnightIndex()-&gt;endOfMonth(),</div>
<div class="line"><span class="lineno">  603</span>                            on-&gt;overnightIndex()-&gt;dayCounter(), on-&gt;overnightIndex()-&gt;forwardingTermStructure()),</div>
<div class="line"><span class="lineno">  604</span>                        on-&gt;gearing(), on-&gt;spread(), on-&gt;referencePeriodStart(), on-&gt;referencePeriodEnd(),</div>
<div class="line"><span class="lineno">  605</span>                        on-&gt;dayCounter(), <span class="keyword">true</span>, Date());</div>
<div class="line"><span class="lineno">  606</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> on = boost::dynamic_pointer_cast&lt;QuantExt::AverageONIndexedCoupon&gt;(cpn)) {</div>
<div class="line"><span class="lineno">  607</span>                    flr = boost::make_shared&lt;IborCoupon&gt;(</div>
<div class="line"><span class="lineno">  608</span>                        on-&gt;date(), on-&gt;nominal(), on-&gt;accrualStartDate(), on-&gt;accrualEndDate(), on-&gt;fixingDays(),</div>
<div class="line"><span class="lineno">  609</span>                        boost::make_shared&lt;IborIndex&gt;(</div>
<div class="line"><span class="lineno">  610</span>                            <span class="stringliteral">&quot;proxy-ibor&quot;</span>, (on-&gt;accrualEndDate() - on-&gt;accrualStartDate()) * Days, on-&gt;overnightIndex()-&gt;fixingDays(),</div>
<div class="line"><span class="lineno">  611</span>                            on-&gt;overnightIndex()-&gt;currency(), on-&gt;overnightIndex()-&gt;fixingCalendar(),</div>
<div class="line"><span class="lineno">  612</span>                            on-&gt;overnightIndex()-&gt;businessDayConvention(), on-&gt;overnightIndex()-&gt;endOfMonth(),</div>
<div class="line"><span class="lineno">  613</span>                            on-&gt;overnightIndex()-&gt;dayCounter(), on-&gt;overnightIndex()-&gt;forwardingTermStructure()),</div>
<div class="line"><span class="lineno">  614</span>                        on-&gt;gearing(), on-&gt;spread(), on-&gt;referencePeriodStart(), on-&gt;referencePeriodEnd(),</div>
<div class="line"><span class="lineno">  615</span>                        on-&gt;dayCounter(), <span class="keyword">true</span>, Date());</div>
<div class="line"><span class="lineno">  616</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> aon = boost::dynamic_pointer_cast&lt;QuantExt::CappedFlooredOvernightIndexedCoupon&gt;(cpn)) {</div>
<div class="line"><span class="lineno">  617</span>                    <span class="keyword">auto</span> on = aon-&gt;underlying();</div>
<div class="line"><span class="lineno">  618</span>                    flr = boost::make_shared&lt;IborCoupon&gt;(</div>
<div class="line"><span class="lineno">  619</span>                        on-&gt;date(), on-&gt;nominal(), on-&gt;accrualStartDate(), on-&gt;accrualEndDate(), on-&gt;fixingDays(),</div>
<div class="line"><span class="lineno">  620</span>                        boost::make_shared&lt;IborIndex&gt;(</div>
<div class="line"><span class="lineno">  621</span>                            <span class="stringliteral">&quot;proxy-ibor&quot;</span>, (on-&gt;accrualEndDate() - on-&gt;accrualStartDate()) * Days, on-&gt;overnightIndex()-&gt;fixingDays(),</div>
<div class="line"><span class="lineno">  622</span>                            on-&gt;overnightIndex()-&gt;currency(), on-&gt;overnightIndex()-&gt;fixingCalendar(),</div>
<div class="line"><span class="lineno">  623</span>                            on-&gt;overnightIndex()-&gt;businessDayConvention(), on-&gt;overnightIndex()-&gt;endOfMonth(),</div>
<div class="line"><span class="lineno">  624</span>                            on-&gt;overnightIndex()-&gt;dayCounter(), on-&gt;overnightIndex()-&gt;forwardingTermStructure()),</div>
<div class="line"><span class="lineno">  625</span>                        on-&gt;gearing(), on-&gt;spread(), on-&gt;referencePeriodStart(), on-&gt;referencePeriodEnd(),</div>
<div class="line"><span class="lineno">  626</span>                        on-&gt;dayCounter(), <span class="keyword">true</span>, Date());</div>
<div class="line"><span class="lineno">  627</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> aon = boost::dynamic_pointer_cast&lt;QuantExt::CappedFlooredAverageONIndexedCoupon&gt;(cpn)) {</div>
<div class="line"><span class="lineno">  628</span>                    <span class="keyword">auto</span> on = aon-&gt;underlying();</div>
<div class="line"><span class="lineno">  629</span>                    flr = boost::make_shared&lt;IborCoupon&gt;(</div>
<div class="line"><span class="lineno">  630</span>                        on-&gt;date(), on-&gt;nominal(), on-&gt;accrualStartDate(), on-&gt;accrualEndDate(), on-&gt;fixingDays(),</div>
<div class="line"><span class="lineno">  631</span>                        boost::make_shared&lt;IborIndex&gt;(</div>
<div class="line"><span class="lineno">  632</span>                            <span class="stringliteral">&quot;proxy-ibor&quot;</span>, (on-&gt;accrualEndDate() - on-&gt;accrualStartDate()) * Days, on-&gt;overnightIndex()-&gt;fixingDays(),</div>
<div class="line"><span class="lineno">  633</span>                            on-&gt;overnightIndex()-&gt;currency(), on-&gt;overnightIndex()-&gt;fixingCalendar(),</div>
<div class="line"><span class="lineno">  634</span>                            on-&gt;overnightIndex()-&gt;businessDayConvention(), on-&gt;overnightIndex()-&gt;endOfMonth(),</div>
<div class="line"><span class="lineno">  635</span>                            on-&gt;overnightIndex()-&gt;dayCounter(), on-&gt;overnightIndex()-&gt;forwardingTermStructure()),</div>
<div class="line"><span class="lineno">  636</span>                        on-&gt;gearing(), on-&gt;spread(), on-&gt;referencePeriodStart(), on-&gt;referencePeriodEnd(),</div>
<div class="line"><span class="lineno">  637</span>                        on-&gt;dayCounter(), <span class="keyword">true</span>, Date());</div>
<div class="line"><span class="lineno">  638</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> bma = boost::dynamic_pointer_cast&lt;QuantLib::AverageBMACoupon&gt;(cpn)) {</div>
<div class="line"><span class="lineno">  639</span>                    <span class="keyword">auto</span> bmaIndex = boost::dynamic_pointer_cast&lt;BMAIndex&gt;(bma-&gt;index());</div>
<div class="line"><span class="lineno">  640</span>                    QL_REQUIRE(bmaIndex, <span class="stringliteral">&quot;McMultiLegBaseEngine: could not cast to BMAIndex, internal error.&quot;</span>);</div>
<div class="line"><span class="lineno">  641</span>                    flr = boost::make_shared&lt;IborCoupon&gt;(</div>
<div class="line"><span class="lineno">  642</span>                        bma-&gt;date(), bma-&gt;nominal(), bma-&gt;accrualStartDate(), bma-&gt;accrualEndDate(), bma-&gt;fixingDays(),</div>
<div class="line"><span class="lineno">  643</span>                        boost::make_shared&lt;IborIndex&gt;(</div>
<div class="line"><span class="lineno">  644</span>                            <span class="stringliteral">&quot;proxy-ibor&quot;</span>, (bma-&gt;accrualEndDate() - bma-&gt;accrualStartDate()) * Days, bmaIndex-&gt;fixingDays(),</div>
<div class="line"><span class="lineno">  645</span>                            bmaIndex-&gt;currency(), bmaIndex-&gt;fixingCalendar(), Following, <span class="keyword">false</span>, bmaIndex-&gt;dayCounter(),</div>
<div class="line"><span class="lineno">  646</span>                            bmaIndex-&gt;forwardingTermStructure()),</div>
<div class="line"><span class="lineno">  647</span>                        bma-&gt;gearing(), bma-&gt;spread(), bma-&gt;referencePeriodStart(), bma-&gt;referencePeriodEnd(),</div>
<div class="line"><span class="lineno">  648</span>                        bma-&gt;dayCounter(), <span class="keyword">false</span>, Date());</div>
<div class="line"><span class="lineno">  649</span>                }</div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span>                <span class="comment">// in arrears?</span></div>
<div class="line"><span class="lineno">  652</span> </div>
<div class="line"><span class="lineno">  653</span>                <span class="keywordflow">if</span> (flr-&gt;isInArrears())</div>
<div class="line"><span class="lineno">  654</span>                    allowsVanillaValuation = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>                <span class="comment">// cap / floors</span></div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>                Real cappedRate = QL_MAX_REAL, flooredRate = -QL_MAX_REAL;</div>
<div class="line"><span class="lineno">  659</span>                <span class="keywordtype">bool</span> isNakedOption = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  660</span>                <span class="keywordflow">if</span> (<span class="keyword">auto</span> cfc = boost::dynamic_pointer_cast&lt;CappedFlooredCoupon&gt;(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j])) {</div>
<div class="line"><span class="lineno">  661</span>                    allowsVanillaValuation = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  662</span>                    <span class="keywordflow">if</span> (cfc-&gt;isCapped())</div>
<div class="line"><span class="lineno">  663</span>                        cappedRate = cfc-&gt;cap();</div>
<div class="line"><span class="lineno">  664</span>                    <span class="keywordflow">if</span> (cfc-&gt;isFloored())</div>
<div class="line"><span class="lineno">  665</span>                        flooredRate = cfc-&gt;floor();</div>
<div class="line"><span class="lineno">  666</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> scfc = boost::dynamic_pointer_cast&lt;StrippedCappedFlooredCoupon&gt;(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j])) {</div>
<div class="line"><span class="lineno">  667</span>                    allowsVanillaValuation = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  668</span>                    isNakedOption = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  669</span>                    <span class="keywordflow">if</span> (scfc-&gt;isCap())</div>
<div class="line"><span class="lineno">  670</span>                        cappedRate = scfc-&gt;cap();</div>
<div class="line"><span class="lineno">  671</span>                    <span class="keywordflow">if</span> (scfc-&gt;isFloor())</div>
<div class="line"><span class="lineno">  672</span>                        flooredRate = scfc-&gt;floor();</div>
<div class="line"><span class="lineno">  673</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> cfonc = boost::dynamic_pointer_cast&lt;QuantExt::CappedFlooredOvernightIndexedCoupon&gt;(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j])) {</div>
<div class="line"><span class="lineno">  674</span>                    allowsVanillaValuation = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  675</span>                    isNakedOption = cfonc-&gt;nakedOption();</div>
<div class="line"><span class="lineno">  676</span>                    <span class="keywordflow">if</span> (cfonc-&gt;isCapped())</div>
<div class="line"><span class="lineno">  677</span>                        cappedRate = cfonc-&gt;cap();</div>
<div class="line"><span class="lineno">  678</span>                    <span class="keywordflow">if</span> (cfonc-&gt;isFloored())</div>
<div class="line"><span class="lineno">  679</span>                        flooredRate = cfonc-&gt;floor();</div>
<div class="line"><span class="lineno">  680</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> cfaonc = boost::dynamic_pointer_cast&lt;QuantExt::CappedFlooredAverageONIndexedCoupon&gt;(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j])) {</div>
<div class="line"><span class="lineno">  681</span>                    allowsVanillaValuation = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  682</span>                    isNakedOption = cfaonc-&gt;nakedOption();</div>
<div class="line"><span class="lineno">  683</span>                    <span class="keywordflow">if</span> (cfaonc-&gt;isCapped())</div>
<div class="line"><span class="lineno">  684</span>                        cappedRate = cfaonc-&gt;cap();</div>
<div class="line"><span class="lineno">  685</span>                    <span class="keywordflow">if</span> (cfaonc-&gt;isFloored())</div>
<div class="line"><span class="lineno">  686</span>                        flooredRate = cfaonc-&gt;floor();</div>
<div class="line"><span class="lineno">  687</span>                }</div>
<div class="line"><span class="lineno">  688</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a041ca8a88eb254d62ab838e45b899294">cappedRate_</a>[index].push_back(cappedRate);</div>
<div class="line"><span class="lineno">  689</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ac0dc965686946fcf375755edfdac421e">flooredRate_</a>[index].push_back(flooredRate);</div>
<div class="line"><span class="lineno">  690</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a87f0334fc31adaa6ca3bf0a410b4c164">isNakedOption_</a>[index].push_back(isNakedOption);</div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span>                <span class="comment">// handle the floating rate coupon types</span></div>
<div class="line"><span class="lineno">  693</span> </div>
<div class="line"><span class="lineno">  694</span>                Size ccyIndex = <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;ccyIndex(flr-&gt;index()-&gt;currency());</div>
<div class="line"><span class="lineno">  695</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aff144e0ec152ce1a774043796e65d667">fixingDate_</a>[index].push_back(flr-&gt;fixingDate());</div>
<div class="line"><span class="lineno">  696</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a89f527a2a83e1828353f94f91fce03b9">gearing_</a>[index].push_back(flr-&gt;gearing());</div>
<div class="line"><span class="lineno">  697</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a868936b695525bf3b074e76847de0355">spread_</a>[index].push_back(flr-&gt;spread());</div>
<div class="line"><span class="lineno">  698</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a17f5394d0b82d4b98081dc4490754339">nominal_</a>[index].push_back(multiplier * flr-&gt;nominal());</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>                <span class="keywordtype">bool</span> cpnrec = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>                <span class="keywordflow">if</span> (<span class="keyword">auto</span> iborcpn = boost::dynamic_pointer_cast&lt;IborCoupon&gt;(flr)) {</div>
<div class="line"><span class="lineno">  703</span>                    <span class="comment">// IBOR</span></div>
<div class="line"><span class="lineno">  704</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a51cdc56a72e444474c84a8c5c4ed56f8">indexCcyIndex_</a>[index].push_back(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;pIdx(<a class="code hl_enumvalue" href="class_quant_ext_1_1_cross_asset_model.html#a6d42c1075c37e4e5e67aa861c5a51dfea4f74d343f26bbd58a8cbbad2cab6a704">CrossAssetModel::AssetType::IR</a>, ccyIndex));</div>
<div class="line"><span class="lineno">  705</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#afc827b682c54aae80098ff1bc2c28232">indexFwdCurve_</a>[index].push_back(boost::make_shared&lt;LgmImpliedYtsFwdFwdCorrected&gt;(</div>
<div class="line"><span class="lineno">  706</span>                        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;lgm(ccyIndex), iborcpn-&gt;iborIndex()-&gt;forwardingTermStructure()));</div>
<div class="line"><span class="lineno">  707</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad0ae094436b5192ddb8f7f07c6f3c0a4">indexDscCurve_</a>[index].push_back(<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  708</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a5c9e4878f5e79eed74ca270373b4fff5">modelIndex_</a>[index].push_back(</div>
<div class="line"><span class="lineno">  709</span>                        iborcpn-&gt;iborIndex()-&gt;clone(Handle&lt;YieldTermStructure&gt;(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#afc827b682c54aae80098ff1bc2c28232">indexFwdCurve_</a>[index].back())));</div>
<div class="line"><span class="lineno">  710</span>                    cpnrec = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  711</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> cmscpn = boost::dynamic_pointer_cast&lt;CmsCoupon&gt;(flr)) {</div>
<div class="line"><span class="lineno">  712</span>                    <span class="comment">// CMS</span></div>
<div class="line"><span class="lineno">  713</span>                    allowsVanillaValuation = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  714</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a51cdc56a72e444474c84a8c5c4ed56f8">indexCcyIndex_</a>[index].push_back(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;pIdx(<a class="code hl_enumvalue" href="class_quant_ext_1_1_cross_asset_model.html#a6d42c1075c37e4e5e67aa861c5a51dfea4f74d343f26bbd58a8cbbad2cab6a704">CrossAssetModel::AssetType::IR</a>, ccyIndex));</div>
<div class="line"><span class="lineno">  715</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#afc827b682c54aae80098ff1bc2c28232">indexFwdCurve_</a>[index].push_back(boost::make_shared&lt;LgmImpliedYtsFwdFwdCorrected&gt;(</div>
<div class="line"><span class="lineno">  716</span>                        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;lgm(ccyIndex), cmscpn-&gt;swapIndex()-&gt;forwardingTermStructure()));</div>
<div class="line"><span class="lineno">  717</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ad0ae094436b5192ddb8f7f07c6f3c0a4">indexDscCurve_</a>[index].push_back(boost::make_shared&lt;LgmImpliedYtsFwdFwdCorrected&gt;(</div>
<div class="line"><span class="lineno">  718</span>                        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;lgm(ccyIndex), cmscpn-&gt;swapIndex()-&gt;discountingTermStructure()));</div>
<div class="line"><span class="lineno">  719</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a5c9e4878f5e79eed74ca270373b4fff5">modelIndex_</a>[index].push_back(</div>
<div class="line"><span class="lineno">  720</span>                        cmscpn-&gt;swapIndex()-&gt;clone(Handle&lt;YieldTermStructure&gt;(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#afc827b682c54aae80098ff1bc2c28232">indexFwdCurve_</a>[index].back())));</div>
<div class="line"><span class="lineno">  721</span>                    cpnrec = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  722</span>                }</div>
<div class="line"><span class="lineno">  723</span>                <span class="comment">// add more coupon types here ...</span></div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>                QL_REQUIRE(cpnrec, <span class="stringliteral">&quot;McMultiLegBaseEngine: floating rate coupon type in leg &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;, coupon &quot;</span> &lt;&lt; j</div>
<div class="line"><span class="lineno">  726</span>                                                                                             &lt;&lt; <span class="stringliteral">&quot; not supported.&quot;</span>);</div>
<div class="line"><span class="lineno">  727</span>            }</div>
<div class="line"><span class="lineno">  728</span> </div>
<div class="line"><span class="lineno">  729</span>            <span class="comment">// indexed coupon</span></div>
<div class="line"><span class="lineno">  730</span>            boost::shared_ptr&lt;Index&gt; couponIndex = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  731</span>            Date couponIndexFixingDate = Null&lt;Date&gt;();</div>
<div class="line"><span class="lineno">  732</span>            Real couponIndexQuantity = Null&lt;Real&gt;();</div>
<div class="line"><span class="lineno">  733</span>            <span class="keywordflow">if</span> (<span class="keyword">auto</span> ic = boost::dynamic_pointer_cast&lt;IndexedCoupon&gt;(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j])) {</div>
<div class="line"><span class="lineno">  734</span>                couponIndex = ic-&gt;index();</div>
<div class="line"><span class="lineno">  735</span>                couponIndexFixingDate = ic-&gt;fixingDate();</div>
<div class="line"><span class="lineno">  736</span>                couponIndexQuantity = ic-&gt;quantity();</div>
<div class="line"><span class="lineno">  737</span>                <span class="keywordflow">if</span> (!QuantLib::close_enough(ic-&gt;multiplier(), 0.0))</div>
<div class="line"><span class="lineno">  738</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a17f5394d0b82d4b98081dc4490754339">nominal_</a>[index][<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a17f5394d0b82d4b98081dc4490754339">nominal_</a>[index].size()-1] /= ic-&gt;multiplier();</div>
<div class="line"><span class="lineno">  739</span>            }</div>
<div class="line"><span class="lineno">  740</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a90d842bb936565c447a6f1756682bfe0">couponIndex_</a>[index].push_back(couponIndex);</div>
<div class="line"><span class="lineno">  741</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a29efec52cb53c87aa260d78941078b10">couponIndexFixingDate_</a>[index].push_back(couponIndexFixingDate);</div>
<div class="line"><span class="lineno">  742</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa1a5b9c80b024f452b434324ab9dcc0b">couponIndexQuantity_</a>[index].push_back(couponIndexQuantity);</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>            <span class="comment">// other data</span></div>
<div class="line"><span class="lineno">  745</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6ed6aacdbfe653540806b3e244f2e9db">payCcyNum_</a>[index].push_back(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;ccyIndex(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a2998ea0dd746f75f1d83fe1d7cd3c6ab">currency_</a>[i]));</div>
<div class="line"><span class="lineno">  746</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a22bd78ddc393720541410a653d9bbb78">payCcyIndex_</a>[index].push_back(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;pIdx(<a class="code hl_enumvalue" href="class_quant_ext_1_1_cross_asset_model.html#a6d42c1075c37e4e5e67aa861c5a51dfea4f74d343f26bbd58a8cbbad2cab6a704">CrossAssetModel::AssetType::IR</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6ed6aacdbfe653540806b3e244f2e9db">payCcyNum_</a>[index].back()));</div>
<div class="line"><span class="lineno">  747</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a86f2afe93c0123ba336499d9cc9fd5ba">payFxIndex_</a>[index].push_back(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6ed6aacdbfe653540806b3e244f2e9db">payCcyNum_</a>[index].back() == 0 ? Null&lt;Size&gt;()</div>
<div class="line"><span class="lineno">  748</span>                                                                       : <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;pIdx(<a class="code hl_enumvalue" href="class_quant_ext_1_1_cross_asset_model.html#a6d42c1075c37e4e5e67aa861c5a51dfeab8b5089c70ae62534970e2d8aa67e96d">CrossAssetModel::AssetType::FX</a>,</div>
<div class="line"><span class="lineno">  749</span>                                                                                      <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6ed6aacdbfe653540806b3e244f2e9db">payCcyNum_</a>[index].back() - 1));</div>
<div class="line"><span class="lineno">  750</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0e452803c38c6fd649e43a1c3afd5696">accrualTime_</a>[index].push_back(cpn != <span class="keyword">nullptr</span> ? cpn-&gt;accrualPeriod() : 1.0);</div>
<div class="line"><span class="lineno">  751</span>            <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a6bb4dc2decf120597f703af08324562f">payTime_</a>[index].push_back(ts-&gt;timeFromReference(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">leg_</a>[i][j]-&gt;date()));</div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span>            <span class="comment">// set minimal possible path index that can be used for a zero vol fwd estimation of a coupon</span></div>
<div class="line"><span class="lineno">  754</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae5c22f2e113eb199586569feabe526ef">minimalObsDate_</a> &amp;&amp; allowsVanillaValuation) {</div>
<div class="line"><span class="lineno">  755</span>                <span class="keywordflow">if</span> (minObsDatePossible == Date::minDate())</div>
<div class="line"><span class="lineno">  756</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a61364b60921c9e86cdbd64e03d99a78d">observationTimeIndex_</a>[index].push_back(0);</div>
<div class="line"><span class="lineno">  757</span>                <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  758</span>                    <span class="keyword">auto</span> it = std::find(exSimDates.begin(), exSimDates.end(), minObsDatePossible);</div>
<div class="line"><span class="lineno">  759</span>                    QL_REQUIRE(it != exSimDates.end(), <span class="stringliteral">&quot;McMultiLegBaseEngine: minObsDatePossible (&quot;</span></div>
<div class="line"><span class="lineno">  760</span>                                                           &lt;&lt; minObsDatePossible</div>
<div class="line"><span class="lineno">  761</span>                                                           &lt;&lt; <span class="stringliteral">&quot;) not found in ex/sim dates, this is unexpected&quot;</span>);</div>
<div class="line"><span class="lineno">  762</span>                    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a61364b60921c9e86cdbd64e03d99a78d">observationTimeIndex_</a>[index].push_back(</div>
<div class="line"><span class="lineno">  763</span>                        std::min(index + 1, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a59285a80dad46ff000be9adfe651e062">indexes_</a>[std::distance(exSimDates.begin(), it)] + 1));</div>
<div class="line"><span class="lineno">  764</span>                }</div>
<div class="line"><span class="lineno">  765</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  766</span>                <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a61364b60921c9e86cdbd64e03d99a78d">observationTimeIndex_</a>[index].push_back(Null&lt;Size&gt;());</div>
<div class="line"><span class="lineno">  767</span>            }</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>        } <span class="comment">// for j (coupons in leg i)</span></div>
<div class="line"><span class="lineno">  770</span>    }     <span class="comment">// for i (legs)</span></div>
<div class="line"><span class="lineno">  771</span> </div>
<div class="line"><span class="lineno">  772</span>    <span class="comment">// build the path generators and do the mc simulation</span></div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>    TimeGrid timeGrid(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>.end());</div>
<div class="line"><span class="lineno">  775</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a0a574bbac8c015e3df3808045b3c08ec">pathGeneratorCalibration_</a> = <a class="code hl_function" href="namespace_quant_ext.html#a293bf46c308777c99d96b720845b4887">makeMultiPathGenerator</a>(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a224e0f81096f705f4e4ad7c4164e71f5">calibrationPathGenerator_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;stateProcess(), timeGrid,</div>
<div class="line"><span class="lineno">  776</span>                                                       <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8c01d037c64ebf1520928a26c29f7288">calibrationSeed_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a98a2cd3689de004cd25c18fa48e05ed9">ordering_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a44bcbd366a24b9989a3295b7202ec3fa">directionIntegers_</a>);</div>
<div class="line"><span class="lineno">  777</span>    <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae9ec55fe3b1733bd64082cfc9f73e977">pathGeneratorPricing_</a> = <a class="code hl_function" href="namespace_quant_ext.html#a293bf46c308777c99d96b720845b4887">makeMultiPathGenerator</a>(<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a77c5de04ceeec9fceef897e615153fdf">pricingPathGenerator_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;stateProcess(), timeGrid,</div>
<div class="line"><span class="lineno">  778</span>                                                   <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa7aed87c2dc058a2d22bd32a2346950a">pricingSeed_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a98a2cd3689de004cd25c18fa48e05ed9">ordering_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a44bcbd366a24b9989a3295b7202ec3fa">directionIntegers_</a>);</div>
<div class="line"><span class="lineno">  779</span>    <span class="comment">// calibration phase</span></div>
<div class="line"><span class="lineno">  780</span>    <a class="code hl_function" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ab8399ef5e2d2b468cdb5ff80e6d2048a">rollback</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>    <span class="comment">// maybe we don&#39;t want a separate pricing run (then we just take the calibration run results)</span></div>
<div class="line"><span class="lineno">  783</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aee5dd2168df60b094e3f6e80dd9aba58">pricingSamples_</a> &gt; 0)</div>
<div class="line"><span class="lineno">  784</span>        <a class="code hl_function" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ab8399ef5e2d2b468cdb5ff80e6d2048a">rollback</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  785</span>}</div>
<div class="ttc" id="aclass_quant_ext_1_1_cross_asset_model_html_a6d42c1075c37e4e5e67aa861c5a51dfeab8b5089c70ae62534970e2d8aa67e96d"><div class="ttname"><a href="class_quant_ext_1_1_cross_asset_model.html#a6d42c1075c37e4e5e67aa861c5a51dfeab8b5089c70ae62534970e2d8aa67e96d">QuantExt::CrossAssetModel::AssetType::FX</a></div><div class="ttdeci">@ FX</div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a2998ea0dd746f75f1d83fe1d7cd3c6ab"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a2998ea0dd746f75f1d83fe1d7cd3c6ab">QuantExt::McMultiLegBaseEngine::currency_</a></div><div class="ttdeci">std::vector&lt; Currency &gt; currency_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00066">mcmultilegbaseengine.hpp:66</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a3dba475b3e3956c0cc7b1a2934a8941e"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3dba475b3e3956c0cc7b1a2934a8941e">QuantExt::McMultiLegBaseEngine::exercise_</a></div><div class="ttdeci">boost::shared_ptr&lt; Exercise &gt; exercise_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00068">mcmultilegbaseengine.hpp:68</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_ab8399ef5e2d2b468cdb5ff80e6d2048a"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ab8399ef5e2d2b468cdb5ff80e6d2048a">QuantExt::McMultiLegBaseEngine::rollback</a></div><div class="ttdeci">void rollback(const bool calibration) const</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8cpp_source.html#l00148">mcmultilegbaseengine.cpp:148</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_aba5b0c618535488bd54b2add54ece224"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">QuantExt::McMultiLegBaseEngine::times_</a></div><div class="ttdeci">std::vector&lt; Real &gt; times_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00088">mcmultilegbaseengine.hpp:88</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_ade1327900ed6bd5963ee61818948c515"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ade1327900ed6bd5963ee61818948c515">QuantExt::McMultiLegBaseEngine::leg_</a></div><div class="ttdeci">std::vector&lt; Leg &gt; leg_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00065">mcmultilegbaseengine.hpp:65</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_aec42fcaa87a0eca7ec78d2cf27ae1f5d"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aec42fcaa87a0eca7ec78d2cf27ae1f5d">QuantExt::McMultiLegBaseEngine::payer_</a></div><div class="ttdeci">std::vector&lt; Real &gt; payer_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00067">mcmultilegbaseengine.hpp:67</a></div></div>
<div class="ttc" id="anamespace_quant_ext_html_a293bf46c308777c99d96b720845b4887"><div class="ttname"><a href="namespace_quant_ext.html#a293bf46c308777c99d96b720845b4887">QuantExt::makeMultiPathGenerator</a></div><div class="ttdeci">boost::shared_ptr&lt; MultiPathGeneratorBase &gt; makeMultiPathGenerator(const SequenceType s, const boost::shared_ptr&lt; StochasticProcess &gt; &amp;process, const TimeGrid &amp;timeGrid, const BigNatural seed, const SobolBrownianGenerator::Ordering ordering, const SobolRsg::DirectionIntegers directionIntegers)</div><div class="ttdoc">Make function for path generators.</div><div class="ttdef"><b>Definition:</b> <a href="multipathgeneratorbase_8cpp_source.html#l00087">multipathgeneratorbase.cpp:87</a></div></div>
</div><!-- fragment --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_mc_multi_leg_base_engine_a082ff96da379d5e17436372ccb3c0972_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_mc_multi_leg_base_engine_a082ff96da379d5e17436372ccb3c0972_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_mc_multi_leg_base_engine_a082ff96da379d5e17436372ccb3c0972_icgraph" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_a082ff96da379d5e17436372ccb3c0972_icgraph">
<area shape="rect" title=" " alt="" coords="276,237,351,262"/>
<area shape="rect" href="class_quant_ext_1_1_mc_cam_currency_swap_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="9,5,224,45"/>
<area shape="rect" href="class_quant_ext_1_1_mc_cam_fx_forward_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="21,69,212,109"/>
<area shape="rect" href="class_quant_ext_1_1_mc_cam_fx_option_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="5,133,228,173"/>
<area shape="rect" href="class_quant_ext_1_1_mc_lgm_fra_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="23,197,210,237"/>
<area shape="rect" href="class_quant_ext_1_1_mc_lgm_swap_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="17,261,217,301"/>
<area shape="rect" href="class_quant_ext_1_1_mc_lgm_swaption_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="6,325,227,365"/>
<area shape="rect" href="class_quant_ext_1_1_mc_lgm_nonstandard_swaption_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="16,389,217,429"/>
<area shape="rect" href="class_quant_ext_1_1_mc_multi_leg_option_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="21,453,212,493"/>
</map>
</div>

</div>
</div>
<a id="aafccc3361087265b251fd59256c81354" name="aafccc3361087265b251fd59256c81354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafccc3361087265b251fd59256c81354">&#9670;&#160;</a></span>amcCalculator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_amc_calculator.html">AmcCalculator</a> &gt; amcCalculator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8cpp_source.html#l00787">787</a> of file <a class="el" href="mcmultilegbaseengine_8cpp_source.html">mcmultilegbaseengine.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  787</span>                                                                         {</div>
<div class="line"><span class="lineno">  788</span>    <span class="keywordflow">return</span> boost::make_shared&lt;MultiLegBaseAmcCalculator&gt;(</div>
<div class="line"><span class="lineno">  789</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;irlgm1f(0)-&gt;currency(), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a8294f887263f7179b52e435cfaeb3446">model_</a>-&gt;stateProcess()-&gt;initialValues(), <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aa543fb00d546bf3b9fb165def03cf1fb">externalModelIndices_</a>,</div>
<div class="line"><span class="lineno">  790</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a3dba475b3e3956c0cc7b1a2934a8941e">exercise_</a> != <span class="keyword">nullptr</span>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a2805e91fa95c78b11a135d5fe7df516e">optionSettlement_</a> == Settlement::Physical, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aba5b0c618535488bd54b2add54ece224">times_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a59285a80dad46ff000be9adfe651e062">indexes_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a60744c2ee5a90705e87b570e1d2578a0">exerciseIdx_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a217fa6d14c58bd5d71ea12d59ce09c93">simulationIdx_</a>,</div>
<div class="line"><span class="lineno">  791</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae0d016159a83b9b0be2c946a545f93de">isTrappedDate_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a45dbcc16eed6dc88aae61c28a83585bb">numSim_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae97465b2b8e93dcb73303587635ff486">resultValue_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#aad73fb65c7ba123b97db8e50f22e811a">coeffsItm_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ac1f812025543a8d1d94d98cfe3b3b02e">coeffsUndEx_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af6a053bba3235e01f602d2403d9124cf">coeffsFull_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#abffbb58aced3fa4ba8a91e2da648d67f">coeffsUndTrapped_</a>,</div>
<div class="line"><span class="lineno">  792</span>        <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#af481981fce8133a000e2d4bf116b560f">coeffsUndDirty_</a>, <a class="code hl_variable" href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a95773caf040602b9ece6a680e0616c10">basisFns_</a>);</div>
<div class="line"><span class="lineno">  793</span>}</div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_a2805e91fa95c78b11a135d5fe7df516e"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#a2805e91fa95c78b11a135d5fe7df516e">QuantExt::McMultiLegBaseEngine::optionSettlement_</a></div><div class="ttdeci">Settlement::Type optionSettlement_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00069">mcmultilegbaseengine.hpp:69</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_html_ae97465b2b8e93dcb73303587635ff486"><div class="ttname"><a href="class_quant_ext_1_1_mc_multi_leg_base_engine.html#ae97465b2b8e93dcb73303587635ff486">QuantExt::McMultiLegBaseEngine::resultValue_</a></div><div class="ttdeci">Real resultValue_</div><div class="ttdef"><b>Definition:</b> <a href="mcmultilegbaseengine_8hpp_source.html#l00121">mcmultilegbaseengine.hpp:121</a></div></div>
</div><!-- fragment --><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_mc_multi_leg_base_engine_aafccc3361087265b251fd59256c81354_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_mc_multi_leg_base_engine_aafccc3361087265b251fd59256c81354_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_mc_multi_leg_base_engine_aafccc3361087265b251fd59256c81354_icgraph" id="aclass_quant_ext_1_1_mc_multi_leg_base_engine_aafccc3361087265b251fd59256c81354_icgraph">
<area shape="rect" title=" " alt="" coords="276,237,381,262"/>
<area shape="rect" href="class_quant_ext_1_1_mc_cam_currency_swap_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="9,5,224,45"/>
<area shape="rect" href="class_quant_ext_1_1_mc_cam_fx_forward_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="21,69,212,109"/>
<area shape="rect" href="class_quant_ext_1_1_mc_cam_fx_option_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="5,133,228,173"/>
<area shape="rect" href="class_quant_ext_1_1_mc_lgm_fra_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="23,197,210,237"/>
<area shape="rect" href="class_quant_ext_1_1_mc_lgm_swap_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="17,261,217,301"/>
<area shape="rect" href="class_quant_ext_1_1_mc_lgm_swaption_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="6,325,227,365"/>
<area shape="rect" href="class_quant_ext_1_1_mc_lgm_nonstandard_swaption_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="16,389,217,429"/>
<area shape="rect" href="class_quant_ext_1_1_mc_multi_leg_option_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="21,453,212,493"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ade1327900ed6bd5963ee61818948c515" name="ade1327900ed6bd5963ee61818948c515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade1327900ed6bd5963ee61818948c515">&#9670;&#160;</a></span>leg_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Leg&gt; leg_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00065">65</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a2998ea0dd746f75f1d83fe1d7cd3c6ab" name="a2998ea0dd746f75f1d83fe1d7cd3c6ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2998ea0dd746f75f1d83fe1d7cd3c6ab">&#9670;&#160;</a></span>currency_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Currency&gt; currency_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00066">66</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="aec42fcaa87a0eca7ec78d2cf27ae1f5d" name="aec42fcaa87a0eca7ec78d2cf27ae1f5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec42fcaa87a0eca7ec78d2cf27ae1f5d">&#9670;&#160;</a></span>payer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Real&gt; payer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00067">67</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a3dba475b3e3956c0cc7b1a2934a8941e" name="a3dba475b3e3956c0cc7b1a2934a8941e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dba475b3e3956c0cc7b1a2934a8941e">&#9670;&#160;</a></span>exercise_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;Exercise&gt; exercise_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00068">68</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a2805e91fa95c78b11a135d5fe7df516e" name="a2805e91fa95c78b11a135d5fe7df516e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2805e91fa95c78b11a135d5fe7df516e">&#9670;&#160;</a></span>optionSettlement_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Settlement::Type optionSettlement_ = Settlement::Physical</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00069">69</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a8294f887263f7179b52e435cfaeb3446" name="a8294f887263f7179b52e435cfaeb3446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8294f887263f7179b52e435cfaeb3446">&#9670;&#160;</a></span>model_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Handle&lt;<a class="el" href="class_quant_ext_1_1_cross_asset_model.html">CrossAssetModel</a>&gt; model_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00072">72</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a224e0f81096f705f4e4ad7c4164e71f5" name="a224e0f81096f705f4e4ad7c4164e71f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a224e0f81096f705f4e4ad7c4164e71f5">&#9670;&#160;</a></span>calibrationPathGenerator_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespace_quant_ext.html#a214062620719990c86bcb3c13c7f51b0">SequenceType</a> calibrationPathGenerator_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00073">73</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a77c5de04ceeec9fceef897e615153fdf" name="a77c5de04ceeec9fceef897e615153fdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77c5de04ceeec9fceef897e615153fdf">&#9670;&#160;</a></span>pricingPathGenerator_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespace_quant_ext.html#a214062620719990c86bcb3c13c7f51b0">SequenceType</a> pricingPathGenerator_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00073">73</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a62dfe4298acb6171f03c001a1b7aebed" name="a62dfe4298acb6171f03c001a1b7aebed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62dfe4298acb6171f03c001a1b7aebed">&#9670;&#160;</a></span>calibrationSamples_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Size calibrationSamples_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00074">74</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="aee5dd2168df60b094e3f6e80dd9aba58" name="aee5dd2168df60b094e3f6e80dd9aba58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee5dd2168df60b094e3f6e80dd9aba58">&#9670;&#160;</a></span>pricingSamples_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Size pricingSamples_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00074">74</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a8c01d037c64ebf1520928a26c29f7288" name="a8c01d037c64ebf1520928a26c29f7288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c01d037c64ebf1520928a26c29f7288">&#9670;&#160;</a></span>calibrationSeed_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Size calibrationSeed_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00074">74</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="aa7aed87c2dc058a2d22bd32a2346950a" name="aa7aed87c2dc058a2d22bd32a2346950a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7aed87c2dc058a2d22bd32a2346950a">&#9670;&#160;</a></span>pricingSeed_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Size pricingSeed_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00074">74</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a9f5cc25da87a57e846f4601d9e86f7d9" name="a9f5cc25da87a57e846f4601d9e86f7d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f5cc25da87a57e846f4601d9e86f7d9">&#9670;&#160;</a></span>discountCurves_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Handle&lt;YieldTermStructure&gt; &gt; discountCurves_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00075">75</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a19153caf3115b1c4410f511fa6d14427" name="a19153caf3115b1c4410f511fa6d14427"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19153caf3115b1c4410f511fa6d14427">&#9670;&#160;</a></span>simulationDates_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;Date&gt; simulationDates_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00076">76</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="aa543fb00d546bf3b9fb165def03cf1fb" name="aa543fb00d546bf3b9fb165def03cf1fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa543fb00d546bf3b9fb165def03cf1fb">&#9670;&#160;</a></span>externalModelIndices_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;Size&gt; externalModelIndices_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00077">77</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a95773caf040602b9ece6a680e0616c10" name="a95773caf040602b9ece6a680e0616c10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95773caf040602b9ece6a680e0616c10">&#9670;&#160;</a></span>basisFns_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;boost::function1&lt;Real, Array&gt; &gt; basisFns_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00081">81</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a98a2cd3689de004cd25c18fa48e05ed9" name="a98a2cd3689de004cd25c18fa48e05ed9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98a2cd3689de004cd25c18fa48e05ed9">&#9670;&#160;</a></span>ordering_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const SobolBrownianGenerator::Ordering ordering_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00083">83</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a44bcbd366a24b9989a3295b7202ec3fa" name="a44bcbd366a24b9989a3295b7202ec3fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44bcbd366a24b9989a3295b7202ec3fa">&#9670;&#160;</a></span>directionIntegers_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SobolRsg::DirectionIntegers directionIntegers_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00084">84</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="ae5c22f2e113eb199586569feabe526ef" name="ae5c22f2e113eb199586569feabe526ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5c22f2e113eb199586569feabe526ef">&#9670;&#160;</a></span>minimalObsDate_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classbool.html">bool</a> minimalObsDate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00085">85</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="ad4b863df9136b28d8e4327ea50c6659b" name="ad4b863df9136b28d8e4327ea50c6659b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4b863df9136b28d8e4327ea50c6659b">&#9670;&#160;</a></span>regressionOnExerciseOnly_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classbool.html">bool</a> regressionOnExerciseOnly_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00085">85</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="aba5b0c618535488bd54b2add54ece224" name="aba5b0c618535488bd54b2add54ece224"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba5b0c618535488bd54b2add54ece224">&#9670;&#160;</a></span>times_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Real&gt; times_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00088">88</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a59285a80dad46ff000be9adfe651e062" name="a59285a80dad46ff000be9adfe651e062"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59285a80dad46ff000be9adfe651e062">&#9670;&#160;</a></span>indexes_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Size&gt; indexes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00089">89</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a60744c2ee5a90705e87b570e1d2578a0" name="a60744c2ee5a90705e87b570e1d2578a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60744c2ee5a90705e87b570e1d2578a0">&#9670;&#160;</a></span>exerciseIdx_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Size&gt; exerciseIdx_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00090">90</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a217fa6d14c58bd5d71ea12d59ce09c93" name="a217fa6d14c58bd5d71ea12d59ce09c93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217fa6d14c58bd5d71ea12d59ce09c93">&#9670;&#160;</a></span>simulationIdx_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Size&gt; simulationIdx_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00090">90</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="ae0d016159a83b9b0be2c946a545f93de" name="ae0d016159a83b9b0be2c946a545f93de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0d016159a83b9b0be2c946a545f93de">&#9670;&#160;</a></span>isTrappedDate_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classbool.html">bool</a>&gt; isTrappedDate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00091">91</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a0f5cf988465d66567e8d2a6597d8eb57" name="a0f5cf988465d66567e8d2a6597d8eb57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f5cf988465d66567e8d2a6597d8eb57">&#9670;&#160;</a></span>numEx_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Size numEx_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00092">92</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a45dbcc16eed6dc88aae61c28a83585bb" name="a45dbcc16eed6dc88aae61c28a83585bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45dbcc16eed6dc88aae61c28a83585bb">&#9670;&#160;</a></span>numSim_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Size numSim_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00092">92</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a4469db25d8a087e4cbb58aada9227a6b" name="a4469db25d8a087e4cbb58aada9227a6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4469db25d8a087e4cbb58aada9227a6b">&#9670;&#160;</a></span>pathUndEx_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Real&gt; pathUndEx_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00093">93</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a3a1c92a195e42623083ca6b63627e2f2" name="a3a1c92a195e42623083ca6b63627e2f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a1c92a195e42623083ca6b63627e2f2">&#9670;&#160;</a></span>pathUndDirty_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Real&gt; pathUndDirty_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00093">93</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a238a3f081bc362aea8acc85848fa55e0" name="a238a3f081bc362aea8acc85848fa55e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a238a3f081bc362aea8acc85848fa55e0">&#9670;&#160;</a></span>pathUndTrapped_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Real&gt; pathUndTrapped_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00093">93</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a51cdc56a72e444474c84a8c5c4ed56f8" name="a51cdc56a72e444474c84a8c5c4ed56f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51cdc56a72e444474c84a8c5c4ed56f8">&#9670;&#160;</a></span>indexCcyIndex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Size&gt; &gt; indexCcyIndex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00094">94</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a6ed6aacdbfe653540806b3e244f2e9db" name="a6ed6aacdbfe653540806b3e244f2e9db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ed6aacdbfe653540806b3e244f2e9db">&#9670;&#160;</a></span>payCcyNum_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Size&gt; &gt; payCcyNum_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00094">94</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a22bd78ddc393720541410a653d9bbb78" name="a22bd78ddc393720541410a653d9bbb78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22bd78ddc393720541410a653d9bbb78">&#9670;&#160;</a></span>payCcyIndex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Size&gt; &gt; payCcyIndex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00094">94</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a86f2afe93c0123ba336499d9cc9fd5ba" name="a86f2afe93c0123ba336499d9cc9fd5ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86f2afe93c0123ba336499d9cc9fd5ba">&#9670;&#160;</a></span>payFxIndex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Size&gt; &gt; payFxIndex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00094">94</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a52abe2d7f17b8d2923c7216664e919d2" name="a52abe2d7f17b8d2923c7216664e919d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52abe2d7f17b8d2923c7216664e919d2">&#9670;&#160;</a></span>maxExerciseIndex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Size&gt; &gt; maxExerciseIndex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00094">94</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="aa74ddf7db99427789db81e8354341248" name="aa74ddf7db99427789db81e8354341248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa74ddf7db99427789db81e8354341248">&#9670;&#160;</a></span>maxDirtyNpvIndex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Size&gt; &gt; maxDirtyNpvIndex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00095">95</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a81faf4661d37c929bd01c98b6da8c7db" name="a81faf4661d37c929bd01c98b6da8c7db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81faf4661d37c929bd01c98b6da8c7db">&#9670;&#160;</a></span>trappedCoupons_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;std::vector&lt;Size&gt; &gt; &gt; trappedCoupons_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00096">96</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="afc827b682c54aae80098ff1bc2c28232" name="afc827b682c54aae80098ff1bc2c28232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc827b682c54aae80098ff1bc2c28232">&#9670;&#160;</a></span>indexFwdCurve_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;boost::shared_ptr&lt;<a class="el" href="class_quant_ext_1_1_lgm_implied_yield_term_structure.html">LgmImpliedYieldTermStructure</a>&gt; &gt; &gt; indexFwdCurve_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00097">97</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="ad0ae094436b5192ddb8f7f07c6f3c0a4" name="ad0ae094436b5192ddb8f7f07c6f3c0a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0ae094436b5192ddb8f7f07c6f3c0a4">&#9670;&#160;</a></span>indexDscCurve_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;boost::shared_ptr&lt;<a class="el" href="class_quant_ext_1_1_lgm_implied_yield_term_structure.html">LgmImpliedYieldTermStructure</a>&gt; &gt; &gt; indexDscCurve_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00097">97</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a5c9e4878f5e79eed74ca270373b4fff5" name="a5c9e4878f5e79eed74ca270373b4fff5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c9e4878f5e79eed74ca270373b4fff5">&#9670;&#160;</a></span>modelIndex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;boost::shared_ptr&lt;<a class="el" href="class_interest_rate_index.html">InterestRateIndex</a>&gt; &gt; &gt; modelIndex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00098">98</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a61364b60921c9e86cdbd64e03d99a78d" name="a61364b60921c9e86cdbd64e03d99a78d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61364b60921c9e86cdbd64e03d99a78d">&#9670;&#160;</a></span>observationTimeIndex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Size&gt; &gt; observationTimeIndex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00099">99</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="aff144e0ec152ce1a774043796e65d667" name="aff144e0ec152ce1a774043796e65d667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff144e0ec152ce1a774043796e65d667">&#9670;&#160;</a></span>fixingDate_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Date&gt; &gt; fixingDate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00100">100</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a89f527a2a83e1828353f94f91fce03b9" name="a89f527a2a83e1828353f94f91fce03b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89f527a2a83e1828353f94f91fce03b9">&#9670;&#160;</a></span>gearing_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Real&gt; &gt; gearing_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00101">101</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a868936b695525bf3b074e76847de0355" name="a868936b695525bf3b074e76847de0355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a868936b695525bf3b074e76847de0355">&#9670;&#160;</a></span>spread_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Real&gt; &gt; spread_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00101">101</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a0e452803c38c6fd649e43a1c3afd5696" name="a0e452803c38c6fd649e43a1c3afd5696"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e452803c38c6fd649e43a1c3afd5696">&#9670;&#160;</a></span>accrualTime_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Real&gt; &gt; accrualTime_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00101">101</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a17f5394d0b82d4b98081dc4490754339" name="a17f5394d0b82d4b98081dc4490754339"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17f5394d0b82d4b98081dc4490754339">&#9670;&#160;</a></span>nominal_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Real&gt; &gt; nominal_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00101">101</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a6bb4dc2decf120597f703af08324562f" name="a6bb4dc2decf120597f703af08324562f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bb4dc2decf120597f703af08324562f">&#9670;&#160;</a></span>payTime_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Real&gt; &gt; payTime_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00101">101</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a041ca8a88eb254d62ab838e45b899294" name="a041ca8a88eb254d62ab838e45b899294"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a041ca8a88eb254d62ab838e45b899294">&#9670;&#160;</a></span>cappedRate_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Real&gt; &gt; cappedRate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00101">101</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="ac0dc965686946fcf375755edfdac421e" name="ac0dc965686946fcf375755edfdac421e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0dc965686946fcf375755edfdac421e">&#9670;&#160;</a></span>flooredRate_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Real&gt; &gt; flooredRate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00102">102</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a87f0334fc31adaa6ca3bf0a410b4c164" name="a87f0334fc31adaa6ca3bf0a410b4c164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87f0334fc31adaa6ca3bf0a410b4c164">&#9670;&#160;</a></span>isNakedOption_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;<a class="el" href="classbool.html">bool</a>&gt; &gt; isNakedOption_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00103">103</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a90d842bb936565c447a6f1756682bfe0" name="a90d842bb936565c447a6f1756682bfe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90d842bb936565c447a6f1756682bfe0">&#9670;&#160;</a></span>couponIndex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;boost::shared_ptr&lt;Index&gt; &gt; &gt; couponIndex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00104">104</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a29efec52cb53c87aa260d78941078b10" name="a29efec52cb53c87aa260d78941078b10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29efec52cb53c87aa260d78941078b10">&#9670;&#160;</a></span>couponIndexFixingDate_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Date&gt; &gt; couponIndexFixingDate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00105">105</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="aa1a5b9c80b024f452b434324ab9dcc0b" name="aa1a5b9c80b024f452b434324ab9dcc0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1a5b9c80b024f452b434324ab9dcc0b">&#9670;&#160;</a></span>couponIndexQuantity_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;Real&gt; &gt; couponIndexQuantity_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00106">106</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="aa6531936b4303db1ffed84115b336a81" name="aa6531936b4303db1ffed84115b336a81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6531936b4303db1ffed84115b336a81">&#9670;&#160;</a></span>maxUndValDirtyIdx_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Size maxUndValDirtyIdx_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00107">107</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="af235d611507a6ea9c9f3f8ecce34c91a" name="af235d611507a6ea9c9f3f8ecce34c91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af235d611507a6ea9c9f3f8ecce34c91a">&#9670;&#160;</a></span>pathDates_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Date&gt; pathDates_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00108">108</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a0a574bbac8c015e3df3808045b3c08ec" name="a0a574bbac8c015e3df3808045b3c08ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a574bbac8c015e3df3808045b3c08ec">&#9670;&#160;</a></span>pathGeneratorCalibration_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="class_quant_ext_1_1_multi_path_generator_base.html">MultiPathGeneratorBase</a>&gt; pathGeneratorCalibration_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00111">111</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="ae9ec55fe3b1733bd64082cfc9f73e977" name="ae9ec55fe3b1733bd64082cfc9f73e977"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9ec55fe3b1733bd64082cfc9f73e977">&#9670;&#160;</a></span>pathGeneratorPricing_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="class_quant_ext_1_1_multi_path_generator_base.html">MultiPathGeneratorBase</a>&gt; pathGeneratorPricing_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00111">111</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="aad73fb65c7ba123b97db8e50f22e811a" name="aad73fb65c7ba123b97db8e50f22e811a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad73fb65c7ba123b97db8e50f22e811a">&#9670;&#160;</a></span>coeffsItm_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Array&gt; coeffsItm_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00114">114</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="ac1f812025543a8d1d94d98cfe3b3b02e" name="ac1f812025543a8d1d94d98cfe3b3b02e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1f812025543a8d1d94d98cfe3b3b02e">&#9670;&#160;</a></span>coeffsUndEx_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Array&gt; coeffsUndEx_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00115">115</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="af6a053bba3235e01f602d2403d9124cf" name="af6a053bba3235e01f602d2403d9124cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6a053bba3235e01f602d2403d9124cf">&#9670;&#160;</a></span>coeffsFull_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Array&gt; coeffsFull_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00116">116</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="abffbb58aced3fa4ba8a91e2da648d67f" name="abffbb58aced3fa4ba8a91e2da648d67f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abffbb58aced3fa4ba8a91e2da648d67f">&#9670;&#160;</a></span>coeffsUndTrapped_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Array&gt; coeffsUndTrapped_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00117">117</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="af481981fce8133a000e2d4bf116b560f" name="af481981fce8133a000e2d4bf116b560f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af481981fce8133a000e2d4bf116b560f">&#9670;&#160;</a></span>coeffsUndDirty_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Array&gt; coeffsUndDirty_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00118">118</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="a4735af14c02f445241b8222ff6fedf25" name="a4735af14c02f445241b8222ff6fedf25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4735af14c02f445241b8222ff6fedf25">&#9670;&#160;</a></span>resultUnderlyingNpv_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Real resultUnderlyingNpv_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00121">121</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
<a id="ae97465b2b8e93dcb73303587635ff486" name="ae97465b2b8e93dcb73303587635ff486"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae97465b2b8e93dcb73303587635ff486">&#9670;&#160;</a></span>resultValue_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Real resultValue_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mcmultilegbaseengine_8hpp_source.html#l00121">121</a> of file <a class="el" href="mcmultilegbaseengine_8hpp_source.html">mcmultilegbaseengine.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.9.5
</small></address>
</body>
</html>
