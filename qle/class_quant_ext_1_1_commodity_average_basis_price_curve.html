<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<title>QuantExt: CommodityAverageBasisPriceCurve&lt; Interpolator &gt; Class Template Reference</title>
<link href="https://fonts.googleapis.com/css?family=Merriweather+Sans|Open+Sans" rel="stylesheet">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="favicon.png">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="quantextextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname"><a href="https://rkapl123.github.io/OREAnnotatedSource/">
       <img src="logo-qle@2x.png" alt="Logo" width="150" height="68" style="float: left; padding: 15px;"/></a>
   <div id="projectbrief">Fully annotated reference manual - version 1.8.11</div>
   </div>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_quant_ext.html">QuantExt</a></li><li class="navelem"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html">CommodityAverageBasisPriceCurve</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="class_quant_ext_1_1_commodity_average_basis_price_curve-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">CommodityAverageBasisPriceCurve&lt; Interpolator &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__termstructures.html">Term Structures</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Commodity average basis price curve.  
 <a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">qle/termstructures/commodityaveragebasispricecurve.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for CommodityAverageBasisPriceCurve&lt; Interpolator &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_commodity_average_basis_price_curve__inherit__graph.png" border="0" usemap="#a_commodity_average_basis_price_curve_3_01_interpolator_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="a_commodity_average_basis_price_curve_3_01_interpolator_01_4_inherit__map" id="a_commodity_average_basis_price_curve_3_01_interpolator_01_4_inherit__map">
<area shape="rect" title="Commodity average basis price curve." alt="" coords="225,827,439,1321"/>
<area shape="rect" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html" title=" " alt="" coords="5,504,261,779"/>
<area shape="rect" href="class_quant_ext_1_1_price_term_structure.html" title="Price term structure." alt="" coords="53,93,213,456"/>
<area shape="rect" title=" " alt="" coords="79,5,187,45"/>
<area shape="rect" title=" " alt="" coords="286,621,378,661"/>
<area shape="rect" title=" " alt="" coords="403,614,536,669"/>
</map>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for CommodityAverageBasisPriceCurve&lt; Interpolator &gt;:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_commodity_average_basis_price_curve__coll__graph.png" border="0" usemap="#a_commodity_average_basis_price_curve_3_01_interpolator_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="a_commodity_average_basis_price_curve_3_01_interpolator_01_4_coll__map" id="a_commodity_average_basis_price_curve_3_01_interpolator_01_4_coll__map">
<area shape="rect" title="Commodity average basis price curve." alt="" coords="1134,812,1349,1204"/>
<area shape="rect" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html" title=" " alt="" coords="272,577,531,749"/>
<area shape="rect" href="class_quant_ext_1_1_price_term_structure.html" title="Price term structure." alt="" coords="80,108,240,471"/>
<area shape="rect" title=" " alt="" coords="106,5,214,45"/>
<area shape="rect" title=" " alt="" coords="265,262,439,317"/>
<area shape="rect" title=" " alt="" coords="464,262,619,317"/>
<area shape="rect" href="classbool.html" title=" " alt="" coords="5,269,56,309"/>
<area shape="rect" title=" " alt="" coords="649,269,701,309"/>
<area shape="rect" title=" " alt="" coords="879,636,1033,691"/>
<area shape="rect" title=" " alt="" coords="605,643,697,683"/>
<area shape="rect" title=" " alt="" coords="721,636,855,691"/>
<area shape="rect" title=" " alt="" coords="1057,629,1247,698"/>
<area shape="rect" title=" " alt="" coords="1309,269,1363,309"/>
<area shape="rect" title=" " alt="" coords="1272,643,1443,683"/>
<area shape="rect" title=" " alt="" coords="1087,269,1273,309"/>
<area shape="rect" title=" " alt="" coords="920,269,1019,309"/>
<area shape="rect" title=" " alt="" coords="950,5,989,45"/>
<area shape="rect" title=" " alt="" coords="1345,5,1383,45"/>
<area shape="rect" title=" " alt="" coords="1641,269,1732,309"/>
<area shape="rect" title=" " alt="" coords="1467,643,1579,683"/>
<area shape="rect" title=" " alt="" coords="1794,643,1905,683"/>
<area shape="rect" title=" " alt="" coords="1562,269,1617,309"/>
<area shape="rect" title=" " alt="" coords="1834,269,1886,309"/>
<area shape="rect" title=" " alt="" coords="1603,643,1699,683"/>
<area shape="rect" title=" " alt="" coords="1723,643,1770,683"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructors</div></td></tr>
<tr class="memitem:a0e0c675675a42dd272a078a0c7962391"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a0e0c675675a42dd272a078a0c7962391">CommodityAverageBasisPriceCurve</a> (const QuantLib::Date &amp;referenceDate, const std::map&lt; QuantLib::Date, QuantLib::Handle&lt; QuantLib::Quote &gt; &gt; &amp;basisData, const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;basisFec, const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt; &amp;index, const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;baseFec, <a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a6106a57ba7bc1ffd3342dfe79c481863">addBasis</a>=true, <a class="el" href="classbool.html">bool</a> priceAsHistFixing=true, const Interpolator &amp;interpolator=Interpolator())</td></tr>
<tr class="memdesc:a0e0c675675a42dd272a078a0c7962391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Curve constructed from dates and quotes.  <a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a0e0c675675a42dd272a078a0c7962391">More...</a><br /></td></tr>
<tr class="separator:a0e0c675675a42dd272a078a0c7962391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Observer interface</div></td></tr>
<tr class="memitem:a44137bb65de2396875934e48a6ee5099"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a44137bb65de2396875934e48a6ee5099">update</a> () override</td></tr>
<tr class="separator:a44137bb65de2396875934e48a6ee5099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">LazyObject interface</div></td></tr>
<tr class="memitem:a1127cccc9668a02247dc139d27121708"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a1127cccc9668a02247dc139d27121708">performCalculations</a> () const override</td></tr>
<tr class="separator:a1127cccc9668a02247dc139d27121708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">TermStructure interface</div></td></tr>
<tr class="memitem:aa4457858904f8ef61bf15fa8266c8a4a"><td class="memItemLeft" align="right" valign="top">QuantLib::Date&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#aa4457858904f8ef61bf15fa8266c8a4a">maxDate</a> () const override</td></tr>
<tr class="separator:aa4457858904f8ef61bf15fa8266c8a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa6e296839b188310dc779c1b8450814"><td class="memItemLeft" align="right" valign="top">QuantLib::Time&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#afa6e296839b188310dc779c1b8450814">maxTime</a> () const override</td></tr>
<tr class="separator:afa6e296839b188310dc779c1b8450814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">PriceTermStructure interface</div></td></tr>
<tr class="memitem:a10843ebae969f58da7cf502f5206aef1"><td class="memItemLeft" align="right" valign="top">QuantLib::Time&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a10843ebae969f58da7cf502f5206aef1">minTime</a> () const override</td></tr>
<tr class="memdesc:a10843ebae969f58da7cf502f5206aef1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The minimum time for which the curve can return values.  <a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a10843ebae969f58da7cf502f5206aef1">More...</a><br /></td></tr>
<tr class="separator:a10843ebae969f58da7cf502f5206aef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9af27f04192f203737779261bbc5395"><td class="memItemLeft" align="right" valign="top">std::vector&lt; QuantLib::Date &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#ac9af27f04192f203737779261bbc5395">pillarDates</a> () const override</td></tr>
<tr class="memdesc:ac9af27f04192f203737779261bbc5395"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pillar dates for the <a class="el" href="class_quant_ext_1_1_price_term_structure.html" title="Price term structure.">PriceTermStructure</a>.  <a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#ac9af27f04192f203737779261bbc5395">More...</a><br /></td></tr>
<tr class="separator:ac9af27f04192f203737779261bbc5395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529048f6bc730f4a7eb29b84721a1f3a"><td class="memItemLeft" align="right" valign="top">const QuantLib::Currency &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a529048f6bc730f4a7eb29b84721a1f3a">currency</a> () const override</td></tr>
<tr class="memdesc:a529048f6bc730f4a7eb29b84721a1f3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The currency in which prices are expressed.  <a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a529048f6bc730f4a7eb29b84721a1f3a">More...</a><br /></td></tr>
<tr class="separator:a529048f6bc730f4a7eb29b84721a1f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Inspectors</div></td></tr>
<tr class="memitem:a732aa9d2d97648fb15927f125206103b"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; QuantLib::Time &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a732aa9d2d97648fb15927f125206103b">times</a> () const</td></tr>
<tr class="separator:a732aa9d2d97648fb15927f125206103b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7c3b530c43d5cf4b0163d0991fce195"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; QuantLib::Real &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#ac7c3b530c43d5cf4b0163d0991fce195">prices</a> () const</td></tr>
<tr class="separator:ac7c3b530c43d5cf4b0163d0991fce195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html">CommodityBasisPriceTermStructure</a></td></tr>
<tr class="memitem:a435f42370699da48ab000da85f8c7da1 inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a435f42370699da48ab000da85f8c7da1">CommodityBasisPriceTermStructure</a> (const QuantLib::Date &amp;referenceDate, const QuantLib::Calendar &amp;cal, const QuantLib::DayCounter &amp;dc, const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;basisFec, const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt; &amp;<a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a7930730871ee2d331e469c8d6456a019">baseIndex</a>, const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;baseFec, <a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a6106a57ba7bc1ffd3342dfe79c481863">addBasis</a>=true, QuantLib::Size <a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a121eac61c516d19209854d23dec16085">monthOffset</a>=0, <a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a5808dd0aaa5f8fcffaf2ce4c7d7cdfdf">averagingBaseCashflow</a>=false, <a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a1c9e9a044b538ba3167908386b9ba177">priceAsHistoricalFixing</a>=true)</td></tr>
<tr class="separator:a435f42370699da48ab000da85f8c7da1 inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e97d4219f8266e4319092da3dec44ee inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a4e97d4219f8266e4319092da3dec44ee">CommodityBasisPriceTermStructure</a> (const QuantLib::Date &amp;referenceDate, const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;basisFec, const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt; &amp;<a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a7930730871ee2d331e469c8d6456a019">baseIndex</a>, const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;baseFec, <a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a6106a57ba7bc1ffd3342dfe79c481863">addBasis</a>=true, QuantLib::Size <a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a121eac61c516d19209854d23dec16085">monthOffset</a>=0, <a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a5808dd0aaa5f8fcffaf2ce4c7d7cdfdf">averagingBaseCashflow</a>=false, <a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a1c9e9a044b538ba3167908386b9ba177">priceAsHistoricalFixing</a>=true)</td></tr>
<tr class="separator:a4e97d4219f8266e4319092da3dec44ee inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a269bea0ba163e173de954ca78a40fe46 inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top">const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a269bea0ba163e173de954ca78a40fe46">basisFutureExpiryCalculator</a> () const</td></tr>
<tr class="memdesc:a269bea0ba163e173de954ca78a40fe46 inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inspectors.  <a href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a269bea0ba163e173de954ca78a40fe46">More...</a><br /></td></tr>
<tr class="separator:a269bea0ba163e173de954ca78a40fe46 inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7930730871ee2d331e469c8d6456a019 inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top">const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a7930730871ee2d331e469c8d6456a019">baseIndex</a> () const</td></tr>
<tr class="separator:a7930730871ee2d331e469c8d6456a019 inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e5f6bceabefe517fcb8d217ecc1266b inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top">const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a8e5f6bceabefe517fcb8d217ecc1266b">baseFutureExpiryCalculator</a> () const</td></tr>
<tr class="separator:a8e5f6bceabefe517fcb8d217ecc1266b inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6106a57ba7bc1ffd3342dfe79c481863 inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a6106a57ba7bc1ffd3342dfe79c481863">addBasis</a> () const</td></tr>
<tr class="separator:a6106a57ba7bc1ffd3342dfe79c481863 inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5808dd0aaa5f8fcffaf2ce4c7d7cdfdf inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a5808dd0aaa5f8fcffaf2ce4c7d7cdfdf">averagingBaseCashflow</a> () const</td></tr>
<tr class="separator:a5808dd0aaa5f8fcffaf2ce4c7d7cdfdf inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c9e9a044b538ba3167908386b9ba177 inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a1c9e9a044b538ba3167908386b9ba177">priceAsHistoricalFixing</a> () const</td></tr>
<tr class="separator:a1c9e9a044b538ba3167908386b9ba177 inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a121eac61c516d19209854d23dec16085 inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top">QuantLib::Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a121eac61c516d19209854d23dec16085">monthOffset</a> () const</td></tr>
<tr class="separator:a121eac61c516d19209854d23dec16085 inherit pub_methods_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_quant_ext_1_1_price_term_structure"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_quant_ext_1_1_price_term_structure')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_quant_ext_1_1_price_term_structure.html">PriceTermStructure</a></td></tr>
<tr class="memitem:a26bd7404a04a53f4c27637134b1f1242 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_price_term_structure.html#a26bd7404a04a53f4c27637134b1f1242">PriceTermStructure</a> (const QuantLib::DayCounter &amp;dc=QuantLib::DayCounter())</td></tr>
<tr class="separator:a26bd7404a04a53f4c27637134b1f1242 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c570f1d8262af22d0089233d63df75 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_price_term_structure.html#ad3c570f1d8262af22d0089233d63df75">PriceTermStructure</a> (const QuantLib::Date &amp;referenceDate, const QuantLib::Calendar &amp;cal=QuantLib::Calendar(), const QuantLib::DayCounter &amp;dc=QuantLib::DayCounter())</td></tr>
<tr class="separator:ad3c570f1d8262af22d0089233d63df75 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76059a93f4dafc3faa883a0a7c57d1c3 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_price_term_structure.html#a76059a93f4dafc3faa883a0a7c57d1c3">PriceTermStructure</a> (QuantLib::Natural settlementDays, const QuantLib::Calendar &amp;cal, const QuantLib::DayCounter &amp;dc=QuantLib::DayCounter())</td></tr>
<tr class="separator:a76059a93f4dafc3faa883a0a7c57d1c3 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41d6bbe6f9461a8b2ba3a3970b9941dc inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_price_term_structure.html#a41d6bbe6f9461a8b2ba3a3970b9941dc">price</a> (QuantLib::Time t, <a class="el" href="classbool.html">bool</a> extrapolate=false) const</td></tr>
<tr class="separator:a41d6bbe6f9461a8b2ba3a3970b9941dc inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023f700a39e44fa7e753e1d28955f95d inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_price_term_structure.html#a023f700a39e44fa7e753e1d28955f95d">price</a> (const QuantLib::Date &amp;d, <a class="el" href="classbool.html">bool</a> extrapolate=false) const</td></tr>
<tr class="separator:a023f700a39e44fa7e753e1d28955f95d inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44137bb65de2396875934e48a6ee5099 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_price_term_structure.html#a44137bb65de2396875934e48a6ee5099">update</a> () override</td></tr>
<tr class="separator:a44137bb65de2396875934e48a6ee5099 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">PriceTermStructure implementation</h2></td></tr>
<tr class="memitem:a8508030328dcccb88ba7ed055203594d"><td class="memItemLeft" align="right" valign="top">std::map&lt; QuantLib::Date, QuantLib::Handle&lt; QuantLib::Quote &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">basisData_</a></td></tr>
<tr class="separator:a8508030328dcccb88ba7ed055203594d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65e9db79bb4ddc5c45111c1a75c7985e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; QuantLib::Date &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a></td></tr>
<tr class="separator:a65e9db79bb4ddc5c45111c1a75c7985e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5935e4ed704f287e841f27d1c29154bd"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Time &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">basisTimes_</a></td></tr>
<tr class="separator:a5935e4ed704f287e841f27d1c29154bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71cecdf321f5707136e26c0d13a160ab"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Real &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">basisValues_</a></td></tr>
<tr class="separator:a71cecdf321f5707136e26c0d13a160ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9714a1d2824c4bb9b2597bedbdb1d8a"><td class="memItemLeft" align="right" valign="top">Interpolation&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#ad9714a1d2824c4bb9b2597bedbdb1d8a">basisInterpolation_</a></td></tr>
<tr class="separator:ad9714a1d2824c4bb9b2597bedbdb1d8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8653ea852fae8ad51b0040a80cffa788"><td class="memItemLeft" align="right" valign="top">QuantLib::Leg&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8653ea852fae8ad51b0040a80cffa788">baseLeg_</a></td></tr>
<tr class="memdesc:a8653ea852fae8ad51b0040a80cffa788"><td class="mdescLeft">&#160;</td><td class="mdescRight">The averaging cashflows will give the base curve prices.  <a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8653ea852fae8ad51b0040a80cffa788">More...</a><br /></td></tr>
<tr class="separator:a8653ea852fae8ad51b0040a80cffa788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ff54f60edf0c0f31859eebf8b4952b"><td class="memItemLeft" align="right" valign="top">std::map&lt; QuantLib::Size, QuantLib::Size &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a69ff54f60edf0c0f31859eebf8b4952b">legIndexMap_</a></td></tr>
<tr class="separator:a69ff54f60edf0c0f31859eebf8b4952b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af75195f0823d2aa2add615401ec35b1d"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#af75195f0823d2aa2add615401ec35b1d">priceImpl</a> (QuantLib::Time t) const override</td></tr>
<tr class="memdesc:af75195f0823d2aa2add615401ec35b1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Price calculation.  <a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#af75195f0823d2aa2add615401ec35b1d">More...</a><br /></td></tr>
<tr class="separator:af75195f0823d2aa2add615401ec35b1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_class_quant_ext_1_1_price_term_structure"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_quant_ext_1_1_price_term_structure')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_quant_ext_1_1_price_term_structure.html">PriceTermStructure</a></td></tr>
<tr class="memitem:a29030fac45f1bd3a7d0bf50131df5068 inherit pro_methods_class_quant_ext_1_1_price_term_structure"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_price_term_structure.html#a29030fac45f1bd3a7d0bf50131df5068">checkRange</a> (QuantLib::Time t, <a class="el" href="classbool.html">bool</a> extrapolate) const</td></tr>
<tr class="memdesc:a29030fac45f1bd3a7d0bf50131df5068 inherit pro_methods_class_quant_ext_1_1_price_term_structure"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extra time range check for minimum time, then calls TermStructure::checkRange.  <a href="class_quant_ext_1_1_price_term_structure.html#a29030fac45f1bd3a7d0bf50131df5068">More...</a><br /></td></tr>
<tr class="separator:a29030fac45f1bd3a7d0bf50131df5068 inherit pro_methods_class_quant_ext_1_1_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html">CommodityBasisPriceTermStructure</a></td></tr>
<tr class="memitem:af804f1e530739f77892153ce24f1a2ad inherit pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#af804f1e530739f77892153ce24f1a2ad">basisFec_</a></td></tr>
<tr class="separator:af804f1e530739f77892153ce24f1a2ad inherit pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f7aa7ce99ebdfbd9af6d23a6479141a inherit pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a6f7aa7ce99ebdfbd9af6d23a6479141a">baseIndex_</a></td></tr>
<tr class="separator:a6f7aa7ce99ebdfbd9af6d23a6479141a inherit pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31add3912dbba60c1ab43ede52e93383 inherit pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a31add3912dbba60c1ab43ede52e93383">baseFec_</a></td></tr>
<tr class="separator:a31add3912dbba60c1ab43ede52e93383 inherit pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50b80958ea29e34b01f42e8976acc04 inherit pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#ac50b80958ea29e34b01f42e8976acc04">addBasis_</a></td></tr>
<tr class="separator:ac50b80958ea29e34b01f42e8976acc04 inherit pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69bd519a3fd3bd177d4cca3f953b0983 inherit pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top">QuantLib::Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a69bd519a3fd3bd177d4cca3f953b0983">monthOffset_</a></td></tr>
<tr class="separator:a69bd519a3fd3bd177d4cca3f953b0983 inherit pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11f35503ae20ce91d6a58246739fa666 inherit pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a11f35503ae20ce91d6a58246739fa666">averagingBaseCashflow_</a></td></tr>
<tr class="separator:a11f35503ae20ce91d6a58246739fa666 inherit pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac53747d5146e778833e7e79122c8956a inherit pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#ac53747d5146e778833e7e79122c8956a">priceAsHistoricalFixing_</a></td></tr>
<tr class="separator:ac53747d5146e778833e7e79122c8956a inherit pro_attribs_class_quant_ext_1_1_commodity_basis_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class Interpolator&gt;<br />
class QuantExt::CommodityAverageBasisPriceCurve&lt; Interpolator &gt;</div><p >Commodity average basis price curve. </p>
<p >Class representing an outright commodity price curve created from a base price curve and a collection of basis quotes that are added to or subtracted from the base curve. This class is intended to be used only for commodity future basis price curves. The base curve is averaged over the period defined the basis quote. </p>

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00047">47</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0e0c675675a42dd272a078a0c7962391" name="a0e0c675675a42dd272a078a0c7962391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e0c675675a42dd272a078a0c7962391">&#9670;&#160;</a></span>CommodityAverageBasisPriceCurve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html">CommodityAverageBasisPriceCurve</a> </td>
          <td>(</td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>referenceDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; QuantLib::Date, QuantLib::Handle&lt; QuantLib::Quote &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>basisData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>basisFec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>baseFec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>addBasis</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>priceAsHistFixing</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Interpolator &amp;&#160;</td>
          <td class="paramname"><em>interpolator</em> = <code>Interpolator()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Curve constructed from dates and quotes. </p>

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00119">119</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  124</span>    : <a class="code hl_function" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a435f42370699da48ab000da85f8c7da1">CommodityBasisPriceTermStructure</a>(referenceDate, basisFec, index, baseFec, <a class="code hl_function" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a6106a57ba7bc1ffd3342dfe79c481863">addBasis</a>, 0, <span class="keyword">true</span>, priceAsHistFixing),</div>
<div class="line"><span class="lineno">  125</span>      QuantLib::InterpolatedCurve&lt;Interpolator&gt;(interpolator), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">basisData_</a>(basisData) {</div>
<div class="line"><span class="lineno">  126</span>    QL_REQUIRE(<a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a6f7aa7ce99ebdfbd9af6d23a6479141a">baseIndex_</a> != <span class="keyword">nullptr</span> &amp;&amp; !<a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a6f7aa7ce99ebdfbd9af6d23a6479141a">baseIndex_</a>-&gt;priceCurve().empty(),</div>
<div class="line"><span class="lineno">  127</span>               <span class="stringliteral">&quot;CommodityAverageBasisPriceCurve requires baseIndex with priceCurve&quot;</span>);</div>
<div class="line"><span class="lineno">  128</span>    <span class="keyword">using </span>QuantLib::Date;</div>
<div class="line"><span class="lineno">  129</span>    <span class="keyword">using </span>QuantLib::Schedule;</div>
<div class="line"><span class="lineno">  130</span>    <span class="keyword">using </span>QuantLib::io::iso_date;</div>
<div class="line"><span class="lineno">  131</span>    <span class="keyword">using </span>QuantLib::io::ordinal;</div>
<div class="line"><span class="lineno">  132</span>    <span class="keyword">using </span>std::distance;</div>
<div class="line"><span class="lineno">  133</span>    <span class="keyword">using </span>std::find;</div>
<div class="line"><span class="lineno">  134</span>    <span class="keyword">using </span>std::max;</div>
<div class="line"><span class="lineno">  135</span>    <span class="keyword">using </span>std::sort;</div>
<div class="line"><span class="lineno">  136</span>    <span class="keyword">using </span>std::vector;</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    <span class="comment">// Observe the quotes</span></div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">basisData_</a>.cbegin(); it != <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">basisData_</a>.cend();) {</div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordflow">if</span> (it-&gt;first &lt; referenceDate) {</div>
<div class="line"><span class="lineno">  141</span>            <span class="comment">// If the basis quote&#39;s date is before the reference date, remove it.</span></div>
<div class="line"><span class="lineno">  142</span>            <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">basisData_</a>.erase(it++);</div>
<div class="line"><span class="lineno">  143</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  144</span>            <span class="comment">// Otherwise, process the basis quote</span></div>
<div class="line"><span class="lineno">  145</span>            <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.push_back(it-&gt;first);</div>
<div class="line"><span class="lineno">  146</span>            <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">basisTimes_</a>.push_back(timeFromReference(it-&gt;first));</div>
<div class="line"><span class="lineno">  147</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#ac50b80958ea29e34b01f42e8976acc04">addBasis_</a>)</div>
<div class="line"><span class="lineno">  148</span>                <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">basisValues_</a>.push_back(it-&gt;second-&gt;value());</div>
<div class="line"><span class="lineno">  149</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  150</span>                <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">basisValues_</a>.push_back(-it-&gt;second-&gt;value());</div>
<div class="line"><span class="lineno">  151</span>            registerWith(it-&gt;second);</div>
<div class="line"><span class="lineno">  152</span>            ++it;</div>
<div class="line"><span class="lineno">  153</span>        }</div>
<div class="line"><span class="lineno">  154</span>    }</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    <span class="comment">// Set up the interpolation to be used on the basis</span></div>
<div class="line"><span class="lineno">  157</span>    <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#ad9714a1d2824c4bb9b2597bedbdb1d8a">basisInterpolation_</a> = interpolator.interpolate(<a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">basisTimes_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">basisTimes_</a>.end(), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">basisValues_</a>.begin());</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <span class="comment">// Initialise this curve&#39;s times with the basis pillars. We will add more pillars below.</span></div>
<div class="line"><span class="lineno">  160</span>    this-&gt;times_ = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">basisTimes_</a>;</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>    <span class="comment">// Get the first basis contract expiry date strictly prior to the curve reference date.</span></div>
<div class="line"><span class="lineno">  163</span>    Date start = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#af804f1e530739f77892153ce24f1a2ad">basisFec_</a>-&gt;priorExpiry(<span class="keyword">false</span>, referenceDate);</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    <span class="comment">// Get the first basis contract expiry date on or after the max date. Here, max date is defined as the maximum of</span></div>
<div class="line"><span class="lineno">  166</span>    <span class="comment">// 1) last pillar date of base price curve and 2) basis curve data.</span></div>
<div class="line"><span class="lineno">  167</span>    Date <a class="code hl_function" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#aa4457858904f8ef61bf15fa8266c8a4a">maxDate</a> = <a class="code hl_function" href="namespace_quant_ext.html#a0780e43df89be3d7f7671eca2418cdd1">max</a>(<a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a6f7aa7ce99ebdfbd9af6d23a6479141a">baseIndex_</a>-&gt;priceCurve()-&gt;maxDate(), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">basisData_</a>.rbegin()-&gt;first);</div>
<div class="line"><span class="lineno">  168</span>    Date end = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#af804f1e530739f77892153ce24f1a2ad">basisFec_</a>-&gt;nextExpiry(<span class="keyword">true</span>, <a class="code hl_function" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#aa4457858904f8ef61bf15fa8266c8a4a">maxDate</a>);</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    <span class="comment">// Create the leg schedule using a vector of dates which are the successive basis contract expiry dates</span></div>
<div class="line"><span class="lineno">  171</span>    QL_REQUIRE(start &lt; end, <span class="stringliteral">&quot;Expected that the start date, &quot;</span> &lt;&lt; io::iso_date(start)</div>
<div class="line"><span class="lineno">  172</span>                                                             &lt;&lt; <span class="stringliteral">&quot;, would be strictly less than the end date, &quot;</span></div>
<div class="line"><span class="lineno">  173</span>                                                             &lt;&lt; io::iso_date(end) &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>);</div>
<div class="line"><span class="lineno">  174</span>    vector&lt;Date&gt; expiries{ start + 1 * Days };</div>
<div class="line"><span class="lineno">  175</span>    vector&lt;Time&gt; scheduleTimes;</div>
<div class="line"><span class="lineno">  176</span>    <span class="keywordflow">while</span> (start &lt; end) {</div>
<div class="line"><span class="lineno">  177</span>        start = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#af804f1e530739f77892153ce24f1a2ad">basisFec_</a>-&gt;nextExpiry(<span class="keyword">true</span>, start + 1 * Days);</div>
<div class="line"><span class="lineno">  178</span>        expiries.push_back(start);</div>
<div class="line"><span class="lineno">  179</span>        Time t = timeFromReference(start);</div>
<div class="line"><span class="lineno">  180</span>        <span class="comment">// Only add to this-&gt;times_ if it is not already there. We can use dates_ for this check.</span></div>
<div class="line"><span class="lineno">  181</span>        <span class="keywordflow">if</span> (find(<a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.end(), start) == <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.end()) {</div>
<div class="line"><span class="lineno">  182</span>            this-&gt;times_.push_back(t);</div>
<div class="line"><span class="lineno">  183</span>            <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.push_back(start);</div>
<div class="line"><span class="lineno">  184</span>        }</div>
<div class="line"><span class="lineno">  185</span>        scheduleTimes.push_back(t);</div>
<div class="line"><span class="lineno">  186</span>    }</div>
<div class="line"><span class="lineno">  187</span>    QL_REQUIRE(start == end, <span class="stringliteral">&quot;Expected that the start date, &quot;</span> &lt;&lt; io::iso_date(start) &lt;&lt; <span class="stringliteral">&quot;, to equal the end date, &quot;</span></div>
<div class="line"><span class="lineno">  188</span>                                                              &lt;&lt; io::iso_date(end)</div>
<div class="line"><span class="lineno">  189</span>                                                              &lt;&lt; <span class="stringliteral">&quot;, after creating the sequence of expiry dates.&quot;</span>);</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    <span class="comment">// Sort the times and dates vector and ensure no duplicates in the times vector.</span></div>
<div class="line"><span class="lineno">  192</span>    sort(this-&gt;times_.begin(), this-&gt;times_.end());</div>
<div class="line"><span class="lineno">  193</span>    sort(<a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.end());</div>
<div class="line"><span class="lineno">  194</span>    <span class="keyword">auto</span> it = unique(this-&gt;times_.begin(), this-&gt;times_.end(), [](<span class="keywordtype">double</span> s, <span class="keywordtype">double</span> t) { return close(s, t); });</div>
<div class="line"><span class="lineno">  195</span>    QL_REQUIRE(it == this-&gt;times_.end(), <span class="stringliteral">&quot;Unexpected duplicate time, &quot;</span> &lt;&lt; *it &lt;&lt; <span class="stringliteral">&quot;, in the times vector.&quot;</span>);</div>
<div class="line"><span class="lineno">  196</span>    this-&gt;data_.resize(this-&gt;times_.size());</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>    <span class="comment">// Populate the leg of cashflows.</span></div>
<div class="line"><span class="lineno">  199</span>    <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8653ea852fae8ad51b0040a80cffa788">baseLeg_</a> = CommodityIndexedAverageLeg(Schedule(expiries), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a6f7aa7ce99ebdfbd9af6d23a6479141a">baseIndex_</a>)</div>
<div class="line"><span class="lineno">  200</span>                   .withFutureExpiryCalculator(<a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a31add3912dbba60c1ab43ede52e93383">baseFec_</a>)</div>
<div class="line"><span class="lineno">  201</span>                   .useFuturePrice(<span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">  202</span>                   .withQuantities(1.0);</div>
<div class="line"><span class="lineno">  203</span>    QL_REQUIRE(<a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8653ea852fae8ad51b0040a80cffa788">baseLeg_</a>.size() == scheduleTimes.size(), <span class="stringliteral">&quot;Unexpected number of averaging cashflows in the leg: &quot;</span></div>
<div class="line"><span class="lineno">  204</span>                                                            &lt;&lt; <span class="stringliteral">&quot;got &quot;</span> &lt;&lt; <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8653ea852fae8ad51b0040a80cffa788">baseLeg_</a>.size() &lt;&lt; <span class="stringliteral">&quot; but expected &quot;</span></div>
<div class="line"><span class="lineno">  205</span>                                                            &lt;&lt; scheduleTimes.size());</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>    <span class="comment">// Populate the legIndexMap_</span></div>
<div class="line"><span class="lineno">  208</span>    <span class="keywordflow">for</span> (Size i = 0; i &lt; this-&gt;times_.size(); i++) {</div>
<div class="line"><span class="lineno">  209</span>        <span class="keywordflow">for</span> (Size j = 0; j &lt; scheduleTimes.size(); j++) {</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>            <span class="keywordflow">if</span> (this-&gt;times_[i] &lt; scheduleTimes[j] || close(this-&gt;times_[i], scheduleTimes[j])) {</div>
<div class="line"><span class="lineno">  212</span>                QL_REQUIRE(<a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a69ff54f60edf0c0f31859eebf8b4952b">legIndexMap_</a>.find(i) == <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a69ff54f60edf0c0f31859eebf8b4952b">legIndexMap_</a>.end(),</div>
<div class="line"><span class="lineno">  213</span>                           <span class="stringliteral">&quot;Should not already have a mapping for the &quot;</span> &lt;&lt; ordinal(i) &lt;&lt; <span class="stringliteral">&quot; time.&quot;</span>);</div>
<div class="line"><span class="lineno">  214</span>                <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a69ff54f60edf0c0f31859eebf8b4952b">legIndexMap_</a>[i] = j;</div>
<div class="line"><span class="lineno">  215</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  216</span>            }</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>            <span class="keywordflow">if</span> (j == scheduleTimes.size()) {</div>
<div class="line"><span class="lineno">  219</span>                QL_FAIL(<span class="stringliteral">&quot;Could not map the &quot;</span> &lt;&lt; ordinal(i) &lt;&lt; <span class="stringliteral">&quot; time, &quot;</span> &lt;&lt; this-&gt;times_[i] &lt;&lt; <span class="stringliteral">&quot;, to a cashflow.&quot;</span>);</div>
<div class="line"><span class="lineno">  220</span>            }</div>
<div class="line"><span class="lineno">  221</span>        }</div>
<div class="line"><span class="lineno">  222</span>    }</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>    <span class="comment">// Set up the underlying interpolation on times_ and data_</span></div>
<div class="line"><span class="lineno">  225</span>    QuantLib::InterpolatedCurve&lt;Interpolator&gt;::setupInterpolation();</div>
<div class="line"><span class="lineno">  226</span>}</div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_average_basis_price_curve_html_a5935e4ed704f287e841f27d1c29154bd"><div class="ttname"><a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">QuantExt::CommodityAverageBasisPriceCurve::basisTimes_</a></div><div class="ttdeci">std::vector&lt; Time &gt; basisTimes_</div><div class="ttdef"><b>Definition:</b> <a href="commodityaveragebasispricecurve_8hpp_source.html#l00105">commodityaveragebasispricecurve.hpp:105</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_average_basis_price_curve_html_a65e9db79bb4ddc5c45111c1a75c7985e"><div class="ttname"><a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">QuantExt::CommodityAverageBasisPriceCurve::dates_</a></div><div class="ttdeci">std::vector&lt; QuantLib::Date &gt; dates_</div><div class="ttdef"><b>Definition:</b> <a href="commodityaveragebasispricecurve_8hpp_source.html#l00100">commodityaveragebasispricecurve.hpp:100</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_average_basis_price_curve_html_a69ff54f60edf0c0f31859eebf8b4952b"><div class="ttname"><a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a69ff54f60edf0c0f31859eebf8b4952b">QuantExt::CommodityAverageBasisPriceCurve::legIndexMap_</a></div><div class="ttdeci">std::map&lt; QuantLib::Size, QuantLib::Size &gt; legIndexMap_</div><div class="ttdef"><b>Definition:</b> <a href="commodityaveragebasispricecurve_8hpp_source.html#l00115">commodityaveragebasispricecurve.hpp:115</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_average_basis_price_curve_html_a71cecdf321f5707136e26c0d13a160ab"><div class="ttname"><a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">QuantExt::CommodityAverageBasisPriceCurve::basisValues_</a></div><div class="ttdeci">std::vector&lt; Real &gt; basisValues_</div><div class="ttdef"><b>Definition:</b> <a href="commodityaveragebasispricecurve_8hpp_source.html#l00106">commodityaveragebasispricecurve.hpp:106</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_average_basis_price_curve_html_a8508030328dcccb88ba7ed055203594d"><div class="ttname"><a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">QuantExt::CommodityAverageBasisPriceCurve::basisData_</a></div><div class="ttdeci">std::map&lt; QuantLib::Date, QuantLib::Handle&lt; QuantLib::Quote &gt; &gt; basisData_</div><div class="ttdef"><b>Definition:</b> <a href="commodityaveragebasispricecurve_8hpp_source.html#l00098">commodityaveragebasispricecurve.hpp:98</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_average_basis_price_curve_html_a8653ea852fae8ad51b0040a80cffa788"><div class="ttname"><a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8653ea852fae8ad51b0040a80cffa788">QuantExt::CommodityAverageBasisPriceCurve::baseLeg_</a></div><div class="ttdeci">QuantLib::Leg baseLeg_</div><div class="ttdoc">The averaging cashflows will give the base curve prices.</div><div class="ttdef"><b>Definition:</b> <a href="commodityaveragebasispricecurve_8hpp_source.html#l00110">commodityaveragebasispricecurve.hpp:110</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_average_basis_price_curve_html_aa4457858904f8ef61bf15fa8266c8a4a"><div class="ttname"><a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#aa4457858904f8ef61bf15fa8266c8a4a">QuantExt::CommodityAverageBasisPriceCurve::maxDate</a></div><div class="ttdeci">QuantLib::Date maxDate() const override</div><div class="ttdef"><b>Definition:</b> <a href="commodityaveragebasispricecurve_8hpp_source.html#l00263">commodityaveragebasispricecurve.hpp:263</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_average_basis_price_curve_html_ad9714a1d2824c4bb9b2597bedbdb1d8a"><div class="ttname"><a href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#ad9714a1d2824c4bb9b2597bedbdb1d8a">QuantExt::CommodityAverageBasisPriceCurve::basisInterpolation_</a></div><div class="ttdeci">Interpolation basisInterpolation_</div><div class="ttdef"><b>Definition:</b> <a href="commodityaveragebasispricecurve_8hpp_source.html#l00107">commodityaveragebasispricecurve.hpp:107</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_term_structure_html_a31add3912dbba60c1ab43ede52e93383"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a31add3912dbba60c1ab43ede52e93383">QuantExt::CommodityBasisPriceTermStructure::baseFec_</a></div><div class="ttdeci">boost::shared_ptr&lt; FutureExpiryCalculator &gt; baseFec_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricetermstructure_8hpp_source.html#l00074">commoditybasispricetermstructure.hpp:74</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_term_structure_html_a435f42370699da48ab000da85f8c7da1"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a435f42370699da48ab000da85f8c7da1">QuantExt::CommodityBasisPriceTermStructure::CommodityBasisPriceTermStructure</a></div><div class="ttdeci">CommodityBasisPriceTermStructure(const QuantLib::Date &amp;referenceDate, const QuantLib::Calendar &amp;cal, const QuantLib::DayCounter &amp;dc, const boost::shared_ptr&lt; FutureExpiryCalculator &gt; &amp;basisFec, const boost::shared_ptr&lt; CommodityIndex &gt; &amp;baseIndex, const boost::shared_ptr&lt; FutureExpiryCalculator &gt; &amp;baseFec, bool addBasis=true, QuantLib::Size monthOffset=0, bool averagingBaseCashflow=false, bool priceAsHistoricalFixing=true)</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricetermstructure_8hpp_source.html#l00036">commoditybasispricetermstructure.hpp:36</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_term_structure_html_a6106a57ba7bc1ffd3342dfe79c481863"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a6106a57ba7bc1ffd3342dfe79c481863">QuantExt::CommodityBasisPriceTermStructure::addBasis</a></div><div class="ttdeci">bool addBasis() const</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricetermstructure_8hpp_source.html#l00066">commoditybasispricetermstructure.hpp:66</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_term_structure_html_a6f7aa7ce99ebdfbd9af6d23a6479141a"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a6f7aa7ce99ebdfbd9af6d23a6479141a">QuantExt::CommodityBasisPriceTermStructure::baseIndex_</a></div><div class="ttdeci">boost::shared_ptr&lt; CommodityIndex &gt; baseIndex_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricetermstructure_8hpp_source.html#l00073">commoditybasispricetermstructure.hpp:73</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_term_structure_html_ac50b80958ea29e34b01f42e8976acc04"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#ac50b80958ea29e34b01f42e8976acc04">QuantExt::CommodityBasisPriceTermStructure::addBasis_</a></div><div class="ttdeci">bool addBasis_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricetermstructure_8hpp_source.html#l00075">commoditybasispricetermstructure.hpp:75</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_term_structure_html_af804f1e530739f77892153ce24f1a2ad"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#af804f1e530739f77892153ce24f1a2ad">QuantExt::CommodityBasisPriceTermStructure::basisFec_</a></div><div class="ttdeci">boost::shared_ptr&lt; FutureExpiryCalculator &gt; basisFec_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricetermstructure_8hpp_source.html#l00072">commoditybasispricetermstructure.hpp:72</a></div></div>
<div class="ttc" id="anamespace_quant_ext_html_a0780e43df89be3d7f7671eca2418cdd1"><div class="ttname"><a href="namespace_quant_ext.html#a0780e43df89be3d7f7671eca2418cdd1">QuantExt::max</a></div><div class="ttdeci">RandomVariable max(RandomVariable x, const RandomVariable &amp;y)</div><div class="ttdef"><b>Definition:</b> <a href="qle_2math_2randomvariable_8cpp_source.html#l00636">randomvariable.cpp:636</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_commodity_average_basis_price_curve_a0e0c675675a42dd272a078a0c7962391_cgraph.png" border="0" usemap="#aclass_quant_ext_1_1_commodity_average_basis_price_curve_a0e0c675675a42dd272a078a0c7962391_cgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_commodity_average_basis_price_curve_a0e0c675675a42dd272a078a0c7962391_cgraph" id="aclass_quant_ext_1_1_commodity_average_basis_price_curve_a0e0c675675a42dd272a078a0c7962391_cgraph">
<area shape="rect" title="Curve constructed from dates and quotes." alt="" coords="5,105,203,145"/>
<area shape="rect" href="namespace_quant_ext.html#a0780e43df89be3d7f7671eca2418cdd1" title=" " alt="" coords="321,5,432,31"/>
<area shape="rect" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#aa4457858904f8ef61bf15fa8266c8a4a" title=" " alt="" coords="339,55,414,80"/>
<area shape="rect" href="class_quant_ext_1_1_commodity_indexed_average_leg.html#a08cf0ee30fe45d98f3d3b502567a25fc" title=" " alt="" coords="279,105,475,145"/>
<area shape="rect" href="class_quant_ext_1_1_commodity_indexed_average_leg.html#ab859e7fba8fe577ba8ae0192118b86db" title=" " alt="" coords="251,169,503,209"/>
<area shape="rect" href="class_quant_ext_1_1_commodity_indexed_average_leg.html#a9a0d5a7277800380a87eabb8dbe46422" title=" " alt="" coords="279,233,475,273"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a44137bb65de2396875934e48a6ee5099" name="a44137bb65de2396875934e48a6ee5099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44137bb65de2396875934e48a6ee5099">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void update</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00228">228</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  228</span>                                                                                         {</div>
<div class="line"><span class="lineno">  229</span>    QuantLib::LazyObject::update();</div>
<div class="line"><span class="lineno">  230</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1127cccc9668a02247dc139d27121708" name="a1127cccc9668a02247dc139d27121708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1127cccc9668a02247dc139d27121708">&#9670;&#160;</a></span>performCalculations()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void performCalculations</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00232">232</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  232</span>                                                                                                            {</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>    <span class="comment">// Update the basis interpolation object</span></div>
<div class="line"><span class="lineno">  235</span>    Size basisIdx = 0;</div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; kv : <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">basisData_</a>) {</div>
<div class="line"><span class="lineno">  237</span>        <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">basisValues_</a>[basisIdx] = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#ac50b80958ea29e34b01f42e8976acc04">addBasis_</a> ? kv.second-&gt;value() : -kv.second-&gt;value();</div>
<div class="line"><span class="lineno">  238</span>        basisIdx++;</div>
<div class="line"><span class="lineno">  239</span>    }</div>
<div class="line"><span class="lineno">  240</span>    <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#ad9714a1d2824c4bb9b2597bedbdb1d8a">basisInterpolation_</a>.update();</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>    <span class="comment">// Update this curve&#39;s interpolation</span></div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordflow">for</span> (Size i = 0; i &lt; this-&gt;times_.size(); i++) {</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>        Real baseValue = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a8653ea852fae8ad51b0040a80cffa788">baseLeg_</a>[<a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a69ff54f60edf0c0f31859eebf8b4952b">legIndexMap_</a>.at(i)]-&gt;amount();</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>        <span class="comment">// Get the basis with flat extrapolation</span></div>
<div class="line"><span class="lineno">  248</span>        Real basis = 0.0;</div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">if</span> (this-&gt;times_[i] &lt; <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">basisTimes_</a>.front()) {</div>
<div class="line"><span class="lineno">  250</span>            basis = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">basisValues_</a>.front();</div>
<div class="line"><span class="lineno">  251</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this-&gt;times_[i] &gt; <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">basisTimes_</a>.back()) {</div>
<div class="line"><span class="lineno">  252</span>            basis = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">basisValues_</a>.back();</div>
<div class="line"><span class="lineno">  253</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  254</span>            basis = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#ad9714a1d2824c4bb9b2597bedbdb1d8a">basisInterpolation_</a>(this-&gt;times_[i], <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  255</span>        }</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>        <span class="comment">// Update the outright value</span></div>
<div class="line"><span class="lineno">  258</span>        this-&gt;data_[i] = baseValue + basis;</div>
<div class="line"><span class="lineno">  259</span>    }</div>
<div class="line"><span class="lineno">  260</span>    this-&gt;interpolation_.update();</div>
<div class="line"><span class="lineno">  261</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa4457858904f8ef61bf15fa8266c8a4a" name="aa4457858904f8ef61bf15fa8266c8a4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4457858904f8ef61bf15fa8266c8a4a">&#9670;&#160;</a></span>maxDate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Date maxDate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00263">263</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  263</span>                                                                                                        {</div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.back();</div>
<div class="line"><span class="lineno">  265</span>}</div>
</div><!-- fragment --><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_commodity_average_basis_price_curve_aa4457858904f8ef61bf15fa8266c8a4a_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_commodity_average_basis_price_curve_aa4457858904f8ef61bf15fa8266c8a4a_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_commodity_average_basis_price_curve_aa4457858904f8ef61bf15fa8266c8a4a_icgraph" id="aclass_quant_ext_1_1_commodity_average_basis_price_curve_aa4457858904f8ef61bf15fa8266c8a4a_icgraph">
<area shape="rect" title=" " alt="" coords="251,13,325,38"/>
<area shape="rect" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a0e0c675675a42dd272a078a0c7962391" title="Curve constructed from dates and quotes." alt="" coords="5,5,203,45"/>
</map>
</div>

</div>
</div>
<a id="afa6e296839b188310dc779c1b8450814" name="afa6e296839b188310dc779c1b8450814"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa6e296839b188310dc779c1b8450814">&#9670;&#160;</a></span>maxTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Time maxTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00267">267</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  267</span>                                                                                                        {</div>
<div class="line"><span class="lineno">  268</span>    <span class="keywordflow">return</span> this-&gt;times_.back();</div>
<div class="line"><span class="lineno">  269</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a10843ebae969f58da7cf502f5206aef1" name="a10843ebae969f58da7cf502f5206aef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10843ebae969f58da7cf502f5206aef1">&#9670;&#160;</a></span>minTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Time minTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The minimum time for which the curve can return values. </p>

<p>Reimplemented from <a class="el" href="class_quant_ext_1_1_price_term_structure.html#a115a880594ef516bcf0f0ff47f88e190">PriceTermStructure</a>.</p>

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00271">271</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  271</span>                                                                                                        {</div>
<div class="line"><span class="lineno">  272</span>    <span class="keywordflow">return</span> this-&gt;times_.front();</div>
<div class="line"><span class="lineno">  273</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9af27f04192f203737779261bbc5395" name="ac9af27f04192f203737779261bbc5395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9af27f04192f203737779261bbc5395">&#9670;&#160;</a></span>pillarDates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; QuantLib::Date &gt; pillarDates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The pillar dates for the <a class="el" href="class_quant_ext_1_1_price_term_structure.html" title="Price term structure.">PriceTermStructure</a>. </p>

<p>Implements <a class="el" href="class_quant_ext_1_1_price_term_structure.html#a0ef86e5a04e02e3f35130d1f1599fd16">PriceTermStructure</a>.</p>

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00276">276</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  276</span>                                                                                         {</div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="class_quant_ext_1_1_commodity_average_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>;</div>
<div class="line"><span class="lineno">  278</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a529048f6bc730f4a7eb29b84721a1f3a" name="a529048f6bc730f4a7eb29b84721a1f3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a529048f6bc730f4a7eb29b84721a1f3a">&#9670;&#160;</a></span>currency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const QuantLib::Currency &amp; currency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The currency in which prices are expressed. </p>

<p>Implements <a class="el" href="class_quant_ext_1_1_price_term_structure.html#a7629f21c37cc3d5710c95e091ef230be">PriceTermStructure</a>.</p>

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00082">82</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   82</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_term_structure.html#a6f7aa7ce99ebdfbd9af6d23a6479141a">baseIndex_</a>-&gt;priceCurve()-&gt;currency(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a732aa9d2d97648fb15927f125206103b" name="a732aa9d2d97648fb15927f125206103b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a732aa9d2d97648fb15927f125206103b">&#9670;&#160;</a></span>times()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; QuantLib::Time &gt; &amp; times </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00087">87</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   87</span>{ <span class="keywordflow">return</span> this-&gt;times_; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac7c3b530c43d5cf4b0163d0991fce195" name="ac7c3b530c43d5cf4b0163d0991fce195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7c3b530c43d5cf4b0163d0991fce195">&#9670;&#160;</a></span>prices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; QuantLib::Real &gt; &amp; prices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00088">88</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   88</span>{ <span class="keywordflow">return</span> this-&gt;data_; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af75195f0823d2aa2add615401ec35b1d" name="af75195f0823d2aa2add615401ec35b1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af75195f0823d2aa2add615401ec35b1d">&#9670;&#160;</a></span>priceImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Real priceImpl </td>
          <td>(</td>
          <td class="paramtype">QuantLib::Time&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Price calculation. </p>

<p>Implements <a class="el" href="class_quant_ext_1_1_price_term_structure.html#a3dc2676e6958a64ec34eedd9e5d1836d">PriceTermStructure</a>.</p>

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00281">281</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  281</span>                                                                                          {</div>
<div class="line"><span class="lineno">  282</span>    calculate();</div>
<div class="line"><span class="lineno">  283</span>    <span class="keywordflow">return</span> this-&gt;interpolation_(t, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  284</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8508030328dcccb88ba7ed055203594d" name="a8508030328dcccb88ba7ed055203594d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8508030328dcccb88ba7ed055203594d">&#9670;&#160;</a></span>basisData_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;QuantLib::Date, QuantLib::Handle&lt;QuantLib::Quote&gt; &gt; basisData_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00098">98</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="a65e9db79bb4ddc5c45111c1a75c7985e" name="a65e9db79bb4ddc5c45111c1a75c7985e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65e9db79bb4ddc5c45111c1a75c7985e">&#9670;&#160;</a></span>dates_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;QuantLib::Date&gt; dates_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00100">100</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="a5935e4ed704f287e841f27d1c29154bd" name="a5935e4ed704f287e841f27d1c29154bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5935e4ed704f287e841f27d1c29154bd">&#9670;&#160;</a></span>basisTimes_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Time&gt; basisTimes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Interpolator used for interpolating the basis if needed. Basis interpolation uses the same interpolator as the curve itself. A second template parameter could be added for this in future if it needs to be relaxed. </p>

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00105">105</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="a71cecdf321f5707136e26c0d13a160ab" name="a71cecdf321f5707136e26c0d13a160ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71cecdf321f5707136e26c0d13a160ab">&#9670;&#160;</a></span>basisValues_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Real&gt; basisValues_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00106">106</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="ad9714a1d2824c4bb9b2597bedbdb1d8a" name="ad9714a1d2824c4bb9b2597bedbdb1d8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9714a1d2824c4bb9b2597bedbdb1d8a">&#9670;&#160;</a></span>basisInterpolation_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Interpolation basisInterpolation_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00107">107</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="a8653ea852fae8ad51b0040a80cffa788" name="a8653ea852fae8ad51b0040a80cffa788"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8653ea852fae8ad51b0040a80cffa788">&#9670;&#160;</a></span>baseLeg_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Leg baseLeg_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The averaging cashflows will give the base curve prices. </p>

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00110">110</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="a69ff54f60edf0c0f31859eebf8b4952b" name="a69ff54f60edf0c0f31859eebf8b4952b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69ff54f60edf0c0f31859eebf8b4952b">&#9670;&#160;</a></span>legIndexMap_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;QuantLib::Size, QuantLib::Size&gt; legIndexMap_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Map where the key is the index of a time in the times_ vector and the value is the index of the cashflow in the baseLeg_ to associate with that time. </p>

<p class="definition">Definition at line <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html#l00115">115</a> of file <a class="el" href="commodityaveragebasispricecurve_8hpp_source.html">commodityaveragebasispricecurve.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.9.5
</small></address>
</body>
</html>
