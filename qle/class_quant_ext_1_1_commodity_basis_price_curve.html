<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<title>QuantExt: CommodityBasisPriceCurve&lt; Interpolator &gt; Class Template Reference</title>
<link href="https://fonts.googleapis.com/css?family=Merriweather+Sans|Open+Sans" rel="stylesheet">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="favicon.png">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="quantextextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname"><a href="https://rkapl123.github.io/OREAnnotatedSource/">
       <img src="logo-qle@2x.png" alt="Logo" width="150" height="68" style="float: left; padding: 15px;"/></a>
   <div id="projectbrief">Fully annotated reference manual - version 1.8</div>
   </div>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_quant_ext.html">QuantExt</a></li><li class="navelem"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html">CommodityBasisPriceCurve</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="class_quant_ext_1_1_commodity_basis_price_curve-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">CommodityBasisPriceCurve&lt; Interpolator &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__termstructures.html">Term Structures</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Commodity basis price curve.  
 <a href="class_quant_ext_1_1_commodity_basis_price_curve.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="commoditybasispricecurve_8hpp_source.html">qle/termstructures/commoditybasispricecurve.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for CommodityBasisPriceCurve&lt; Interpolator &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_commodity_basis_price_curve__inherit__graph.png" border="0" usemap="#a_commodity_basis_price_curve_3_01_interpolator_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="a_commodity_basis_price_curve_3_01_interpolator_01_4_inherit__map" id="a_commodity_basis_price_curve_3_01_interpolator_01_4_inherit__map">
<area shape="rect" title="Commodity basis price curve." alt="" coords="131,504,341,1087"/>
<area shape="rect" href="class_quant_ext_1_1_price_term_structure.html" title="Price term structure." alt="" coords="5,93,165,456"/>
<area shape="rect" title=" " alt="" coords="31,5,139,45"/>
<area shape="rect" title=" " alt="" coords="190,255,282,295"/>
<area shape="rect" title=" " alt="" coords="307,247,440,302"/>
</map>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for CommodityBasisPriceCurve&lt; Interpolator &gt;:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_commodity_basis_price_curve__coll__graph.png" border="0" usemap="#a_commodity_basis_price_curve_3_01_interpolator_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="a_commodity_basis_price_curve_3_01_interpolator_01_4_coll__map" id="a_commodity_basis_price_curve_3_01_interpolator_01_4_coll__map">
<area shape="rect" title="Commodity basis price curve." alt="" coords="1143,695,1353,1087"/>
<area shape="rect" href="class_quant_ext_1_1_price_term_structure.html" title="Price term structure." alt="" coords="5,255,165,617"/>
<area shape="rect" title=" " alt="" coords="30,115,138,155"/>
<area shape="rect" title=" " alt="" coords="193,416,285,456"/>
<area shape="rect" title=" " alt="" coords="309,409,443,463"/>
<area shape="rect" title=" " alt="" coords="933,401,1123,471"/>
<area shape="rect" title=" " alt="" coords="699,115,752,155"/>
<area shape="rect" title=" " alt="" coords="603,416,773,456"/>
<area shape="rect" title=" " alt="" coords="1148,394,1348,478"/>
<area shape="rect" title=" " alt="" coords="777,115,962,155"/>
<area shape="rect" title=" " alt="" coords="1093,115,1192,155"/>
<area shape="rect" title=" " alt="" coords="1373,409,1526,463"/>
<area shape="rect" title=" " alt="" coords="1123,5,1162,45"/>
<area shape="rect" title=" " alt="" coords="726,5,765,45"/>
<area shape="rect" title=" " alt="" coords="396,115,487,155"/>
<area shape="rect" title=" " alt="" coords="1685,409,1859,463"/>
<area shape="rect" title=" " alt="" coords="1884,409,2039,463"/>
<area shape="rect" title=" " alt="" coords="2063,409,2263,463"/>
<area shape="rect" href="classbool.html" title=" " alt="" coords="2287,416,2337,456"/>
<area shape="rect" title=" " alt="" coords="1815,115,1867,155"/>
<area shape="rect" title=" " alt="" coords="467,416,579,456"/>
<area shape="rect" title=" " alt="" coords="798,416,909,456"/>
<area shape="rect" title=" " alt="" coords="162,115,217,155"/>
<area shape="rect" title=" " alt="" coords="579,115,631,155"/>
<area shape="rect" title=" " alt="" coords="2363,416,2459,456"/>
<area shape="rect" title=" " alt="" coords="1568,108,1779,163"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructors</div></td></tr>
<tr class="memitem:a2f858b475b0212a00decd403807407eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a2f858b475b0212a00decd403807407eb">CommodityBasisPriceCurve</a> (const QuantLib::Date &amp;referenceDate, const std::map&lt; QuantLib::Date, QuantLib::Handle&lt; QuantLib::Quote &gt; &gt; &amp;basisData, const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;basisFec, const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt; &amp;index, const QuantLib::Handle&lt; <a class="el" href="class_quant_ext_1_1_price_term_structure.html">PriceTermStructure</a> &gt; &amp;basePts, const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;baseFec, <a class="el" href="classbool.html">bool</a> addBasis=true, QuantLib::Size monthOffset=0, const Interpolator &amp;interpolator=Interpolator())</td></tr>
<tr class="memdesc:a2f858b475b0212a00decd403807407eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Curve constructed from dates and quotes.  <a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a2f858b475b0212a00decd403807407eb">More...</a><br /></td></tr>
<tr class="separator:a2f858b475b0212a00decd403807407eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Observer interface</div></td></tr>
<tr class="memitem:a44137bb65de2396875934e48a6ee5099"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a44137bb65de2396875934e48a6ee5099">update</a> () override</td></tr>
<tr class="separator:a44137bb65de2396875934e48a6ee5099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">LazyObject interface</div></td></tr>
<tr class="memitem:a1127cccc9668a02247dc139d27121708"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a1127cccc9668a02247dc139d27121708">performCalculations</a> () const override</td></tr>
<tr class="separator:a1127cccc9668a02247dc139d27121708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">TermStructure interface</div></td></tr>
<tr class="memitem:aa4457858904f8ef61bf15fa8266c8a4a"><td class="memItemLeft" align="right" valign="top">QuantLib::Date&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#aa4457858904f8ef61bf15fa8266c8a4a">maxDate</a> () const override</td></tr>
<tr class="separator:aa4457858904f8ef61bf15fa8266c8a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa6e296839b188310dc779c1b8450814"><td class="memItemLeft" align="right" valign="top">QuantLib::Time&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#afa6e296839b188310dc779c1b8450814">maxTime</a> () const override</td></tr>
<tr class="separator:afa6e296839b188310dc779c1b8450814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">PriceTermStructure interface</div></td></tr>
<tr class="memitem:a10843ebae969f58da7cf502f5206aef1"><td class="memItemLeft" align="right" valign="top">QuantLib::Time&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a10843ebae969f58da7cf502f5206aef1">minTime</a> () const override</td></tr>
<tr class="memdesc:a10843ebae969f58da7cf502f5206aef1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The minimum time for which the curve can return values.  <a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a10843ebae969f58da7cf502f5206aef1">More...</a><br /></td></tr>
<tr class="separator:a10843ebae969f58da7cf502f5206aef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9af27f04192f203737779261bbc5395"><td class="memItemLeft" align="right" valign="top">std::vector&lt; QuantLib::Date &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#ac9af27f04192f203737779261bbc5395">pillarDates</a> () const override</td></tr>
<tr class="memdesc:ac9af27f04192f203737779261bbc5395"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pillar dates for the <a class="el" href="class_quant_ext_1_1_price_term_structure.html" title="Price term structure.">PriceTermStructure</a>.  <a href="class_quant_ext_1_1_commodity_basis_price_curve.html#ac9af27f04192f203737779261bbc5395">More...</a><br /></td></tr>
<tr class="separator:ac9af27f04192f203737779261bbc5395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529048f6bc730f4a7eb29b84721a1f3a"><td class="memItemLeft" align="right" valign="top">const QuantLib::Currency &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a529048f6bc730f4a7eb29b84721a1f3a">currency</a> () const override</td></tr>
<tr class="memdesc:a529048f6bc730f4a7eb29b84721a1f3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The currency in which prices are expressed.  <a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a529048f6bc730f4a7eb29b84721a1f3a">More...</a><br /></td></tr>
<tr class="separator:a529048f6bc730f4a7eb29b84721a1f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Inspectors</div></td></tr>
<tr class="memitem:a732aa9d2d97648fb15927f125206103b"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; QuantLib::Time &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a732aa9d2d97648fb15927f125206103b">times</a> () const</td></tr>
<tr class="separator:a732aa9d2d97648fb15927f125206103b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7c3b530c43d5cf4b0163d0991fce195"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; QuantLib::Real &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#ac7c3b530c43d5cf4b0163d0991fce195">prices</a> () const</td></tr>
<tr class="separator:ac7c3b530c43d5cf4b0163d0991fce195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_quant_ext_1_1_price_term_structure"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_quant_ext_1_1_price_term_structure')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_quant_ext_1_1_price_term_structure.html">PriceTermStructure</a></td></tr>
<tr class="memitem:a26bd7404a04a53f4c27637134b1f1242 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_price_term_structure.html#a26bd7404a04a53f4c27637134b1f1242">PriceTermStructure</a> (const QuantLib::DayCounter &amp;dc=QuantLib::DayCounter())</td></tr>
<tr class="separator:a26bd7404a04a53f4c27637134b1f1242 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c570f1d8262af22d0089233d63df75 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_price_term_structure.html#ad3c570f1d8262af22d0089233d63df75">PriceTermStructure</a> (const QuantLib::Date &amp;referenceDate, const QuantLib::Calendar &amp;cal=QuantLib::Calendar(), const QuantLib::DayCounter &amp;dc=QuantLib::DayCounter())</td></tr>
<tr class="separator:ad3c570f1d8262af22d0089233d63df75 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76059a93f4dafc3faa883a0a7c57d1c3 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_price_term_structure.html#a76059a93f4dafc3faa883a0a7c57d1c3">PriceTermStructure</a> (QuantLib::Natural settlementDays, const QuantLib::Calendar &amp;cal, const QuantLib::DayCounter &amp;dc=QuantLib::DayCounter())</td></tr>
<tr class="separator:a76059a93f4dafc3faa883a0a7c57d1c3 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41d6bbe6f9461a8b2ba3a3970b9941dc inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_price_term_structure.html#a41d6bbe6f9461a8b2ba3a3970b9941dc">price</a> (QuantLib::Time t, <a class="el" href="classbool.html">bool</a> extrapolate=false) const</td></tr>
<tr class="separator:a41d6bbe6f9461a8b2ba3a3970b9941dc inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023f700a39e44fa7e753e1d28955f95d inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_price_term_structure.html#a023f700a39e44fa7e753e1d28955f95d">price</a> (const QuantLib::Date &amp;d, <a class="el" href="classbool.html">bool</a> extrapolate=false) const</td></tr>
<tr class="separator:a023f700a39e44fa7e753e1d28955f95d inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44137bb65de2396875934e48a6ee5099 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_price_term_structure.html#a44137bb65de2396875934e48a6ee5099">update</a> () override</td></tr>
<tr class="separator:a44137bb65de2396875934e48a6ee5099 inherit pub_methods_class_quant_ext_1_1_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">PriceTermStructure implementation</h2></td></tr>
<tr class="memitem:a8508030328dcccb88ba7ed055203594d"><td class="memItemLeft" align="right" valign="top">std::map&lt; QuantLib::Date, QuantLib::Handle&lt; QuantLib::Quote &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">basisData_</a></td></tr>
<tr class="separator:a8508030328dcccb88ba7ed055203594d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af804f1e530739f77892153ce24f1a2ad"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#af804f1e530739f77892153ce24f1a2ad">basisFec_</a></td></tr>
<tr class="separator:af804f1e530739f77892153ce24f1a2ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a826b25ec9f7b0f5d45fc654c2918c267"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a826b25ec9f7b0f5d45fc654c2918c267">index_</a></td></tr>
<tr class="separator:a826b25ec9f7b0f5d45fc654c2918c267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a419f35deaf91c2a1460dd318d7d6a8"><td class="memItemLeft" align="right" valign="top">QuantLib::Handle&lt; <a class="el" href="class_quant_ext_1_1_price_term_structure.html">PriceTermStructure</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a2a419f35deaf91c2a1460dd318d7d6a8">basePts_</a></td></tr>
<tr class="separator:a2a419f35deaf91c2a1460dd318d7d6a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31add3912dbba60c1ab43ede52e93383"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a31add3912dbba60c1ab43ede52e93383">baseFec_</a></td></tr>
<tr class="separator:a31add3912dbba60c1ab43ede52e93383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50b80958ea29e34b01f42e8976acc04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#ac50b80958ea29e34b01f42e8976acc04">addBasis_</a></td></tr>
<tr class="separator:ac50b80958ea29e34b01f42e8976acc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69bd519a3fd3bd177d4cca3f953b0983"><td class="memItemLeft" align="right" valign="top">QuantLib::Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a69bd519a3fd3bd177d4cca3f953b0983">monthOffset_</a></td></tr>
<tr class="separator:a69bd519a3fd3bd177d4cca3f953b0983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65e9db79bb4ddc5c45111c1a75c7985e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; QuantLib::Date &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a></td></tr>
<tr class="separator:a65e9db79bb4ddc5c45111c1a75c7985e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5935e4ed704f287e841f27d1c29154bd"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Time &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">basisTimes_</a></td></tr>
<tr class="separator:a5935e4ed704f287e841f27d1c29154bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71cecdf321f5707136e26c0d13a160ab"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Real &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">basisValues_</a></td></tr>
<tr class="separator:a71cecdf321f5707136e26c0d13a160ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9714a1d2824c4bb9b2597bedbdb1d8a"><td class="memItemLeft" align="right" valign="top">Interpolation&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#ad9714a1d2824c4bb9b2597bedbdb1d8a">basisInterpolation_</a></td></tr>
<tr class="separator:ad9714a1d2824c4bb9b2597bedbdb1d8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8ffff063a6e1d798b5e124768bba71"><td class="memItemLeft" align="right" valign="top">std::map&lt; QuantLib::Date, boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_indexed_cash_flow.html">CommodityIndexedCashFlow</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a1e8ffff063a6e1d798b5e124768bba71">baseLeg_</a></td></tr>
<tr class="memdesc:a1e8ffff063a6e1d798b5e124768bba71"><td class="mdescLeft">&#160;</td><td class="mdescRight">The commodity cashflows will give the base curve prices.  <a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a1e8ffff063a6e1d798b5e124768bba71">More...</a><br /></td></tr>
<tr class="separator:a1e8ffff063a6e1d798b5e124768bba71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ff54f60edf0c0f31859eebf8b4952b"><td class="memItemLeft" align="right" valign="top">std::map&lt; QuantLib::Size, QuantLib::Size &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a69ff54f60edf0c0f31859eebf8b4952b">legIndexMap_</a></td></tr>
<tr class="separator:a69ff54f60edf0c0f31859eebf8b4952b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af75195f0823d2aa2add615401ec35b1d"><td class="memItemLeft" align="right" valign="top">QuantLib::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#af75195f0823d2aa2add615401ec35b1d">priceImpl</a> (QuantLib::Time t) const override</td></tr>
<tr class="memdesc:af75195f0823d2aa2add615401ec35b1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Price calculation.  <a href="class_quant_ext_1_1_commodity_basis_price_curve.html#af75195f0823d2aa2add615401ec35b1d">More...</a><br /></td></tr>
<tr class="separator:af75195f0823d2aa2add615401ec35b1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40781bb8e19da36b3f8d0b9331afab54"><td class="memItemLeft" align="right" valign="top">QuantLib::Date&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a40781bb8e19da36b3f8d0b9331afab54">getContractDate</a> (const QuantLib::Date &amp;expiry, const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;fec) const</td></tr>
<tr class="memdesc:a40781bb8e19da36b3f8d0b9331afab54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the contract date from an expiry date.  <a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a40781bb8e19da36b3f8d0b9331afab54">More...</a><br /></td></tr>
<tr class="separator:a40781bb8e19da36b3f8d0b9331afab54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c809f1edea18ffc9bc344ae8c9ea2e3"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_indexed_cash_flow.html">CommodityIndexedCashFlow</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a8c809f1edea18ffc9bc344ae8c9ea2e3">makeCashflow</a> (const QuantLib::Date &amp;start, const QuantLib::Date &amp;end) const</td></tr>
<tr class="memdesc:a8c809f1edea18ffc9bc344ae8c9ea2e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a commodity indexed cashflow.  <a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a8c809f1edea18ffc9bc344ae8c9ea2e3">More...</a><br /></td></tr>
<tr class="separator:a8c809f1edea18ffc9bc344ae8c9ea2e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_class_quant_ext_1_1_price_term_structure"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_quant_ext_1_1_price_term_structure')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_quant_ext_1_1_price_term_structure.html">PriceTermStructure</a></td></tr>
<tr class="memitem:a29030fac45f1bd3a7d0bf50131df5068 inherit pro_methods_class_quant_ext_1_1_price_term_structure"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_price_term_structure.html#a29030fac45f1bd3a7d0bf50131df5068">checkRange</a> (QuantLib::Time t, <a class="el" href="classbool.html">bool</a> extrapolate) const</td></tr>
<tr class="memdesc:a29030fac45f1bd3a7d0bf50131df5068 inherit pro_methods_class_quant_ext_1_1_price_term_structure"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extra time range check for minimum time, then calls TermStructure::checkRange.  <a href="class_quant_ext_1_1_price_term_structure.html#a29030fac45f1bd3a7d0bf50131df5068">More...</a><br /></td></tr>
<tr class="separator:a29030fac45f1bd3a7d0bf50131df5068 inherit pro_methods_class_quant_ext_1_1_price_term_structure"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class Interpolator&gt;<br />
class QuantExt::CommodityBasisPriceCurve&lt; Interpolator &gt;</div><p >Commodity basis price curve. </p>
<p >Class representing an outright commodity price curve created from a base price curve and a collection of basis quotes that are added to or subtracted from the base curve. This class is intended to be used only for commodity future basis price curves.</p>
<p >There is an assumption in the curve construction that the frequency of the base future contract is the same as the frequency of the basis future contract. In other words, if the base future contract is monthly then the basis future contract is monthly for example. </p>

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00051">51</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2f858b475b0212a00decd403807407eb" name="a2f858b475b0212a00decd403807407eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f858b475b0212a00decd403807407eb">&#9670;&#160;</a></span>CommodityBasisPriceCurve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_ext_1_1_commodity_basis_price_curve.html">CommodityBasisPriceCurve</a> </td>
          <td>(</td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>referenceDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; QuantLib::Date, QuantLib::Handle&lt; QuantLib::Quote &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>basisData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>basisFec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Handle&lt; <a class="el" href="class_quant_ext_1_1_price_term_structure.html">PriceTermStructure</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>basePts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>baseFec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>addBasis</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Size&#160;</td>
          <td class="paramname"><em>monthOffset</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Interpolator &amp;&#160;</td>
          <td class="paramname"><em>interpolator</em> = <code>Interpolator()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Curve constructed from dates and quotes. </p>

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00138">138</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  143</span>    : <a class="code hl_function" href="class_quant_ext_1_1_price_term_structure.html#a26bd7404a04a53f4c27637134b1f1242">PriceTermStructure</a>(referenceDate, QuantLib::NullCalendar(), basePts-&gt;dayCounter()),</div>
<div class="line"><span class="lineno">  144</span>      QuantLib::InterpolatedCurve&lt;Interpolator&gt;(interpolator), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">basisData_</a>(basisData), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#af804f1e530739f77892153ce24f1a2ad">basisFec_</a>(basisFec),</div>
<div class="line"><span class="lineno">  145</span>      <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a826b25ec9f7b0f5d45fc654c2918c267">index_</a>(index), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a2a419f35deaf91c2a1460dd318d7d6a8">basePts_</a>(basePts), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a31add3912dbba60c1ab43ede52e93383">baseFec_</a>(baseFec), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#ac50b80958ea29e34b01f42e8976acc04">addBasis_</a>(addBasis), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a69bd519a3fd3bd177d4cca3f953b0983">monthOffset_</a>(monthOffset) {</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>    <span class="keyword">using </span>QuantLib::Date;</div>
<div class="line"><span class="lineno">  148</span>    <span class="keyword">using </span>QuantLib::Schedule;</div>
<div class="line"><span class="lineno">  149</span>    <span class="keyword">using </span>QuantLib::io::iso_date;</div>
<div class="line"><span class="lineno">  150</span>    <span class="keyword">using </span>QuantLib::io::ordinal;</div>
<div class="line"><span class="lineno">  151</span>    <span class="keyword">using </span>std::distance;</div>
<div class="line"><span class="lineno">  152</span>    <span class="keyword">using </span>std::find;</div>
<div class="line"><span class="lineno">  153</span>    <span class="keyword">using </span>std::max;</div>
<div class="line"><span class="lineno">  154</span>    <span class="keyword">using </span>std::min;</div>
<div class="line"><span class="lineno">  155</span>    <span class="keyword">using </span>std::sort;</div>
<div class="line"><span class="lineno">  156</span>    <span class="keyword">using </span>std::vector;</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>    registerWith(<a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a2a419f35deaf91c2a1460dd318d7d6a8">basePts_</a>);</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>    <span class="comment">// Observe the quotes</span></div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">basisData_</a>.cbegin(); it != <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">basisData_</a>.cend();) {</div>
<div class="line"><span class="lineno">  162</span>        <span class="keywordflow">if</span> (it-&gt;first &lt; referenceDate) {</div>
<div class="line"><span class="lineno">  163</span>            <span class="comment">// If the basis quote&#39;s date is before the reference date, remove it.</span></div>
<div class="line"><span class="lineno">  164</span>            <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">basisData_</a>.erase(it++);</div>
<div class="line"><span class="lineno">  165</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  166</span>            <span class="comment">// Otherwise, process the basis quote</span></div>
<div class="line"><span class="lineno">  167</span>            <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.push_back(it-&gt;first);</div>
<div class="line"><span class="lineno">  168</span>            <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">basisTimes_</a>.push_back(timeFromReference(it-&gt;first));</div>
<div class="line"><span class="lineno">  169</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#ac50b80958ea29e34b01f42e8976acc04">addBasis_</a>)</div>
<div class="line"><span class="lineno">  170</span>                <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">basisValues_</a>.push_back(it-&gt;second-&gt;value());</div>
<div class="line"><span class="lineno">  171</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  172</span>                <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">basisValues_</a>.push_back(-it-&gt;second-&gt;value());</div>
<div class="line"><span class="lineno">  173</span>            registerWith(it-&gt;second);</div>
<div class="line"><span class="lineno">  174</span>            ++it;</div>
<div class="line"><span class="lineno">  175</span>        }</div>
<div class="line"><span class="lineno">  176</span>    }</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>    <span class="comment">// Set up the interpolation to be used on the basis</span></div>
<div class="line"><span class="lineno">  179</span>    <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#ad9714a1d2824c4bb9b2597bedbdb1d8a">basisInterpolation_</a> = interpolator.interpolate(<a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">basisTimes_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">basisTimes_</a>.end(), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">basisValues_</a>.begin());</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>    <span class="comment">// Initialise this curve&#39;s times with the basis pillars. We will add more pillars below.</span></div>
<div class="line"><span class="lineno">  182</span>    this-&gt;times_ = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">basisTimes_</a>;</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>    <span class="comment">// Get the first basis contract expiry date on or after the curve reference date.</span></div>
<div class="line"><span class="lineno">  185</span>    Date basisExpiry = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#af804f1e530739f77892153ce24f1a2ad">basisFec_</a>-&gt;nextExpiry(<span class="keyword">true</span>, referenceDate);</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>    <span class="comment">// Get the first basis contract expiry date on or after the max date. Here, max date is defined as the maximum of</span></div>
<div class="line"><span class="lineno">  188</span>    <span class="comment">// 1) last pillar date of base price curve and 2) basis curve data.</span></div>
<div class="line"><span class="lineno">  189</span>    Date <a class="code hl_function" href="class_quant_ext_1_1_commodity_basis_price_curve.html#aa4457858904f8ef61bf15fa8266c8a4a">maxDate</a> = <a class="code hl_function" href="namespace_quant_ext.html#a0780e43df89be3d7f7671eca2418cdd1">max</a>(<a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a2a419f35deaf91c2a1460dd318d7d6a8">basePts_</a>-&gt;maxDate(), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">basisData_</a>.rbegin()-&gt;first);</div>
<div class="line"><span class="lineno">  190</span>    Date end = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#af804f1e530739f77892153ce24f1a2ad">basisFec_</a>-&gt;nextExpiry(<span class="keyword">true</span>, <a class="code hl_function" href="class_quant_ext_1_1_commodity_basis_price_curve.html#aa4457858904f8ef61bf15fa8266c8a4a">maxDate</a>);</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>    <span class="comment">// Populate the base cashflows.</span></div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">while</span> (basisExpiry &lt;= end) {</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>        Date basisContractDate = <a class="code hl_function" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a40781bb8e19da36b3f8d0b9331afab54">getContractDate</a>(basisExpiry, <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#af804f1e530739f77892153ce24f1a2ad">basisFec_</a>);</div>
<div class="line"><span class="lineno">  196</span>        Date periodStart = basisContractDate - <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a69bd519a3fd3bd177d4cca3f953b0983">monthOffset_</a> * Months;</div>
<div class="line"><span class="lineno">  197</span>        Date periodEnd = (periodStart + 1 * Months) - 1 * Days;</div>
<div class="line"><span class="lineno">  198</span>        <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a1e8ffff063a6e1d798b5e124768bba71">baseLeg_</a>[basisExpiry] = <a class="code hl_function" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a8c809f1edea18ffc9bc344ae8c9ea2e3">makeCashflow</a>(periodStart, periodEnd);</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>        <span class="comment">// Only add to this-&gt;times_ if it is not already there. We can use dates_ for this check.</span></div>
<div class="line"><span class="lineno">  201</span>        <span class="keywordflow">if</span> (find(<a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.end(), basisExpiry) == <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.end()) {</div>
<div class="line"><span class="lineno">  202</span>            this-&gt;times_.push_back(timeFromReference(basisExpiry));</div>
<div class="line"><span class="lineno">  203</span>            <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.push_back(basisExpiry);</div>
<div class="line"><span class="lineno">  204</span>        }</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>        basisExpiry = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#af804f1e530739f77892153ce24f1a2ad">basisFec_</a>-&gt;nextExpiry(<span class="keyword">true</span>, basisExpiry + 1 * Days);</div>
<div class="line"><span class="lineno">  207</span>    }</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    <span class="comment">// Sort the times and dates vector and ensure no duplicates in the times vector.</span></div>
<div class="line"><span class="lineno">  210</span>    sort(this-&gt;times_.begin(), this-&gt;times_.end());</div>
<div class="line"><span class="lineno">  211</span>    sort(<a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.begin(), <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.end());</div>
<div class="line"><span class="lineno">  212</span>    <span class="keyword">auto</span> it = unique(this-&gt;times_.begin(), this-&gt;times_.end(), [](<span class="keywordtype">double</span> s, <span class="keywordtype">double</span> t) { return close(s, t); });</div>
<div class="line"><span class="lineno">  213</span>    QL_REQUIRE(it == this-&gt;times_.end(), <span class="stringliteral">&quot;Unexpected duplicate time, &quot;</span> &lt;&lt; *it &lt;&lt; <span class="stringliteral">&quot;, in the times vector.&quot;</span>);</div>
<div class="line"><span class="lineno">  214</span>    this-&gt;data_.resize(this-&gt;times_.size());</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>    <span class="comment">// Set up the underlying interpolation on times_ and data_</span></div>
<div class="line"><span class="lineno">  217</span>    QuantLib::InterpolatedCurve&lt;Interpolator&gt;::setupInterpolation();</div>
<div class="line"><span class="lineno">  218</span>}</div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_a1e8ffff063a6e1d798b5e124768bba71"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a1e8ffff063a6e1d798b5e124768bba71">QuantExt::CommodityBasisPriceCurve::baseLeg_</a></div><div class="ttdeci">std::map&lt; QuantLib::Date, boost::shared_ptr&lt; CommodityIndexedCashFlow &gt; &gt; baseLeg_</div><div class="ttdoc">The commodity cashflows will give the base curve prices.</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00121">commoditybasispricecurve.hpp:121</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_a2a419f35deaf91c2a1460dd318d7d6a8"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a2a419f35deaf91c2a1460dd318d7d6a8">QuantExt::CommodityBasisPriceCurve::basePts_</a></div><div class="ttdeci">QuantLib::Handle&lt; PriceTermStructure &gt; basePts_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00106">commoditybasispricecurve.hpp:106</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_a31add3912dbba60c1ab43ede52e93383"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a31add3912dbba60c1ab43ede52e93383">QuantExt::CommodityBasisPriceCurve::baseFec_</a></div><div class="ttdeci">boost::shared_ptr&lt; FutureExpiryCalculator &gt; baseFec_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00107">commoditybasispricecurve.hpp:107</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_a40781bb8e19da36b3f8d0b9331afab54"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a40781bb8e19da36b3f8d0b9331afab54">QuantExt::CommodityBasisPriceCurve::getContractDate</a></div><div class="ttdeci">QuantLib::Date getContractDate(const QuantLib::Date &amp;expiry, const boost::shared_ptr&lt; FutureExpiryCalculator &gt; &amp;fec) const</div><div class="ttdoc">Get the contract date from an expiry date.</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00285">commoditybasispricecurve.hpp:285</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_a5935e4ed704f287e841f27d1c29154bd"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">QuantExt::CommodityBasisPriceCurve::basisTimes_</a></div><div class="ttdeci">std::vector&lt; Time &gt; basisTimes_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00116">commoditybasispricecurve.hpp:116</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_a65e9db79bb4ddc5c45111c1a75c7985e"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">QuantExt::CommodityBasisPriceCurve::dates_</a></div><div class="ttdeci">std::vector&lt; QuantLib::Date &gt; dates_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00111">commoditybasispricecurve.hpp:111</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_a69bd519a3fd3bd177d4cca3f953b0983"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a69bd519a3fd3bd177d4cca3f953b0983">QuantExt::CommodityBasisPriceCurve::monthOffset_</a></div><div class="ttdeci">QuantLib::Size monthOffset_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00109">commoditybasispricecurve.hpp:109</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_a71cecdf321f5707136e26c0d13a160ab"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">QuantExt::CommodityBasisPriceCurve::basisValues_</a></div><div class="ttdeci">std::vector&lt; Real &gt; basisValues_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00117">commoditybasispricecurve.hpp:117</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_a826b25ec9f7b0f5d45fc654c2918c267"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a826b25ec9f7b0f5d45fc654c2918c267">QuantExt::CommodityBasisPriceCurve::index_</a></div><div class="ttdeci">boost::shared_ptr&lt; CommodityIndex &gt; index_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00105">commoditybasispricecurve.hpp:105</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_a8508030328dcccb88ba7ed055203594d"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">QuantExt::CommodityBasisPriceCurve::basisData_</a></div><div class="ttdeci">std::map&lt; QuantLib::Date, QuantLib::Handle&lt; QuantLib::Quote &gt; &gt; basisData_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00103">commoditybasispricecurve.hpp:103</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_a8c809f1edea18ffc9bc344ae8c9ea2e3"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#a8c809f1edea18ffc9bc344ae8c9ea2e3">QuantExt::CommodityBasisPriceCurve::makeCashflow</a></div><div class="ttdeci">boost::shared_ptr&lt; CommodityIndexedCashFlow &gt; makeCashflow(const QuantLib::Date &amp;start, const QuantLib::Date &amp;end) const</div><div class="ttdoc">Make a commodity indexed cashflow.</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00314">commoditybasispricecurve.hpp:314</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_aa4457858904f8ef61bf15fa8266c8a4a"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#aa4457858904f8ef61bf15fa8266c8a4a">QuantExt::CommodityBasisPriceCurve::maxDate</a></div><div class="ttdeci">QuantLib::Date maxDate() const override</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00262">commoditybasispricecurve.hpp:262</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_ac50b80958ea29e34b01f42e8976acc04"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#ac50b80958ea29e34b01f42e8976acc04">QuantExt::CommodityBasisPriceCurve::addBasis_</a></div><div class="ttdeci">bool addBasis_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00108">commoditybasispricecurve.hpp:108</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_ad9714a1d2824c4bb9b2597bedbdb1d8a"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#ad9714a1d2824c4bb9b2597bedbdb1d8a">QuantExt::CommodityBasisPriceCurve::basisInterpolation_</a></div><div class="ttdeci">Interpolation basisInterpolation_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00118">commoditybasispricecurve.hpp:118</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_basis_price_curve_html_af804f1e530739f77892153ce24f1a2ad"><div class="ttname"><a href="class_quant_ext_1_1_commodity_basis_price_curve.html#af804f1e530739f77892153ce24f1a2ad">QuantExt::CommodityBasisPriceCurve::basisFec_</a></div><div class="ttdeci">boost::shared_ptr&lt; FutureExpiryCalculator &gt; basisFec_</div><div class="ttdef"><b>Definition:</b> <a href="commoditybasispricecurve_8hpp_source.html#l00104">commoditybasispricecurve.hpp:104</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_price_term_structure_html_a26bd7404a04a53f4c27637134b1f1242"><div class="ttname"><a href="class_quant_ext_1_1_price_term_structure.html#a26bd7404a04a53f4c27637134b1f1242">QuantExt::PriceTermStructure::PriceTermStructure</a></div><div class="ttdeci">PriceTermStructure(const QuantLib::DayCounter &amp;dc=QuantLib::DayCounter())</div><div class="ttdef"><b>Definition:</b> <a href="pricetermstructure_8cpp_source.html#l00025">pricetermstructure.cpp:25</a></div></div>
<div class="ttc" id="anamespace_quant_ext_html_a0780e43df89be3d7f7671eca2418cdd1"><div class="ttname"><a href="namespace_quant_ext.html#a0780e43df89be3d7f7671eca2418cdd1">QuantExt::max</a></div><div class="ttdeci">RandomVariable max(RandomVariable x, const RandomVariable &amp;y)</div><div class="ttdef"><b>Definition:</b> <a href="qle_2math_2randomvariable_8cpp_source.html#l00387">randomvariable.cpp:387</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_commodity_basis_price_curve_a2f858b475b0212a00decd403807407eb_cgraph.png" border="0" usemap="#aclass_quant_ext_1_1_commodity_basis_price_curve_a2f858b475b0212a00decd403807407eb_cgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_commodity_basis_price_curve_a2f858b475b0212a00decd403807407eb_cgraph" id="aclass_quant_ext_1_1_commodity_basis_price_curve_a2f858b475b0212a00decd403807407eb_cgraph">
<area shape="rect" title="Curve constructed from dates and quotes." alt="" coords="5,80,188,105"/>
<area shape="rect" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a40781bb8e19da36b3f8d0b9331afab54" title="Get the contract date from an expiry date." alt="" coords="236,5,352,31"/>
<area shape="rect" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a8c809f1edea18ffc9bc344ae8c9ea2e3" title="Make a commodity indexed cashflow." alt="" coords="241,55,347,80"/>
<area shape="rect" href="namespace_quant_ext.html#a0780e43df89be3d7f7671eca2418cdd1" title=" " alt="" coords="239,104,349,129"/>
<area shape="rect" href="class_quant_ext_1_1_commodity_basis_price_curve.html#aa4457858904f8ef61bf15fa8266c8a4a" title=" " alt="" coords="257,153,331,179"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a44137bb65de2396875934e48a6ee5099" name="a44137bb65de2396875934e48a6ee5099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44137bb65de2396875934e48a6ee5099">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void update</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00220">220</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  220</span>{ QuantLib::LazyObject::update(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1127cccc9668a02247dc139d27121708" name="a1127cccc9668a02247dc139d27121708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1127cccc9668a02247dc139d27121708">&#9670;&#160;</a></span>performCalculations()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void performCalculations</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00222">222</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  222</span>                                                                                                     {</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>    <span class="comment">// Update the basis interpolation object</span></div>
<div class="line"><span class="lineno">  225</span>    Size basisIdx = 0;</div>
<div class="line"><span class="lineno">  226</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; kv : <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a8508030328dcccb88ba7ed055203594d">basisData_</a>) {</div>
<div class="line"><span class="lineno">  227</span>        <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">basisValues_</a>[basisIdx] = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#ac50b80958ea29e34b01f42e8976acc04">addBasis_</a> ? kv.second-&gt;value() : -kv.second-&gt;value();</div>
<div class="line"><span class="lineno">  228</span>        basisIdx++;</div>
<div class="line"><span class="lineno">  229</span>    }</div>
<div class="line"><span class="lineno">  230</span>    <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#ad9714a1d2824c4bb9b2597bedbdb1d8a">basisInterpolation_</a>.update();</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>    <span class="comment">// Update this curve&#39;s interpolation</span></div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">for</span> (Size i = 0; i &lt; this-&gt;times_.size(); i++) {</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>        Real baseValue = 0.0;</div>
<div class="line"><span class="lineno">  236</span>        <span class="keyword">auto</span> it = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a1e8ffff063a6e1d798b5e124768bba71">baseLeg_</a>.find(<a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>[i]);</div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">if</span> (it != <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a1e8ffff063a6e1d798b5e124768bba71">baseLeg_</a>.end()) {</div>
<div class="line"><span class="lineno">  238</span>            <span class="comment">// If we have associated the basis date with a base cashflow.</span></div>
<div class="line"><span class="lineno">  239</span>            baseValue = it-&gt;second-&gt;amount();</div>
<div class="line"><span class="lineno">  240</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  241</span>            <span class="comment">// If we didn&#39;t associate the basis date with a base cashflow, just ask the base pts at t. This will have</span></div>
<div class="line"><span class="lineno">  242</span>            <span class="comment">// happened if the basis date that was passed in was not a basis contract expiry date wrt basisFec_.</span></div>
<div class="line"><span class="lineno">  243</span>            baseValue = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a2a419f35deaf91c2a1460dd318d7d6a8">basePts_</a>-&gt;price(this-&gt;times_[i], <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  244</span>        }</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>        <span class="comment">// Get the basis with flat extrapolation</span></div>
<div class="line"><span class="lineno">  247</span>        Real basis = 0.0;</div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordflow">if</span> (this-&gt;times_[i] &lt; <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">basisTimes_</a>.front()) {</div>
<div class="line"><span class="lineno">  249</span>            basis = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">basisValues_</a>.front();</div>
<div class="line"><span class="lineno">  250</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this-&gt;times_[i] &gt; <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a5935e4ed704f287e841f27d1c29154bd">basisTimes_</a>.back()) {</div>
<div class="line"><span class="lineno">  251</span>            basis = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a71cecdf321f5707136e26c0d13a160ab">basisValues_</a>.back();</div>
<div class="line"><span class="lineno">  252</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  253</span>            basis = <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#ad9714a1d2824c4bb9b2597bedbdb1d8a">basisInterpolation_</a>(this-&gt;times_[i], <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  254</span>        }</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>        <span class="comment">// Update the outright value</span></div>
<div class="line"><span class="lineno">  257</span>        this-&gt;data_[i] = baseValue + basis;</div>
<div class="line"><span class="lineno">  258</span>    }</div>
<div class="line"><span class="lineno">  259</span>    this-&gt;interpolation_.update();</div>
<div class="line"><span class="lineno">  260</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa4457858904f8ef61bf15fa8266c8a4a" name="aa4457858904f8ef61bf15fa8266c8a4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4457858904f8ef61bf15fa8266c8a4a">&#9670;&#160;</a></span>maxDate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Date maxDate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00262">262</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  262</span>                                                                                                 {</div>
<div class="line"><span class="lineno">  263</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>.back();</div>
<div class="line"><span class="lineno">  264</span>}</div>
</div><!-- fragment --><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_commodity_basis_price_curve_aa4457858904f8ef61bf15fa8266c8a4a_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_commodity_basis_price_curve_aa4457858904f8ef61bf15fa8266c8a4a_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_commodity_basis_price_curve_aa4457858904f8ef61bf15fa8266c8a4a_icgraph" id="aclass_quant_ext_1_1_commodity_basis_price_curve_aa4457858904f8ef61bf15fa8266c8a4a_icgraph">
<area shape="rect" title=" " alt="" coords="236,5,311,31"/>
<area shape="rect" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a2f858b475b0212a00decd403807407eb" title="Curve constructed from dates and quotes." alt="" coords="5,5,188,31"/>
</map>
</div>

</div>
</div>
<a id="afa6e296839b188310dc779c1b8450814" name="afa6e296839b188310dc779c1b8450814"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa6e296839b188310dc779c1b8450814">&#9670;&#160;</a></span>maxTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Time maxTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00266">266</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  266</span>                                                                                                 {</div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordflow">return</span> this-&gt;times_.back();</div>
<div class="line"><span class="lineno">  268</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a10843ebae969f58da7cf502f5206aef1" name="a10843ebae969f58da7cf502f5206aef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10843ebae969f58da7cf502f5206aef1">&#9670;&#160;</a></span>minTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Time minTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The minimum time for which the curve can return values. </p>

<p>Reimplemented from <a class="el" href="class_quant_ext_1_1_price_term_structure.html#a115a880594ef516bcf0f0ff47f88e190">PriceTermStructure</a>.</p>

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00270">270</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  270</span>                                                                                                 {</div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordflow">return</span> this-&gt;times_.front();</div>
<div class="line"><span class="lineno">  272</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9af27f04192f203737779261bbc5395" name="ac9af27f04192f203737779261bbc5395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9af27f04192f203737779261bbc5395">&#9670;&#160;</a></span>pillarDates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; QuantLib::Date &gt; pillarDates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The pillar dates for the <a class="el" href="class_quant_ext_1_1_price_term_structure.html" title="Price term structure.">PriceTermStructure</a>. </p>

<p>Implements <a class="el" href="class_quant_ext_1_1_price_term_structure.html#a0ef86e5a04e02e3f35130d1f1599fd16">PriceTermStructure</a>.</p>

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00274">274</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  274</span>                                                                                                                {</div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a65e9db79bb4ddc5c45111c1a75c7985e">dates_</a>;</div>
<div class="line"><span class="lineno">  276</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a529048f6bc730f4a7eb29b84721a1f3a" name="a529048f6bc730f4a7eb29b84721a1f3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a529048f6bc730f4a7eb29b84721a1f3a">&#9670;&#160;</a></span>currency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const QuantLib::Currency &amp; currency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The currency in which prices are expressed. </p>

<p>Implements <a class="el" href="class_quant_ext_1_1_price_term_structure.html#a7629f21c37cc3d5710c95e091ef230be">PriceTermStructure</a>.</p>

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00087">87</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   87</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a2a419f35deaf91c2a1460dd318d7d6a8">basePts_</a>-&gt;currency(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a732aa9d2d97648fb15927f125206103b" name="a732aa9d2d97648fb15927f125206103b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a732aa9d2d97648fb15927f125206103b">&#9670;&#160;</a></span>times()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; QuantLib::Time &gt; &amp; times </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00092">92</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   92</span>{ <span class="keywordflow">return</span> this-&gt;times_; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac7c3b530c43d5cf4b0163d0991fce195" name="ac7c3b530c43d5cf4b0163d0991fce195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7c3b530c43d5cf4b0163d0991fce195">&#9670;&#160;</a></span>prices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; QuantLib::Real &gt; &amp; prices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00093">93</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   93</span>{ <span class="keywordflow">return</span> this-&gt;data_; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af75195f0823d2aa2add615401ec35b1d" name="af75195f0823d2aa2add615401ec35b1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af75195f0823d2aa2add615401ec35b1d">&#9670;&#160;</a></span>priceImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Real priceImpl </td>
          <td>(</td>
          <td class="paramtype">QuantLib::Time&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Price calculation. </p>

<p>Implements <a class="el" href="class_quant_ext_1_1_price_term_structure.html#a3dc2676e6958a64ec34eedd9e5d1836d">PriceTermStructure</a>.</p>

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00278">278</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  278</span>                                                                                                                 {</div>
<div class="line"><span class="lineno">  279</span>    calculate();</div>
<div class="line"><span class="lineno">  280</span>    <span class="keywordflow">return</span> this-&gt;interpolation_(t, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  281</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a40781bb8e19da36b3f8d0b9331afab54" name="a40781bb8e19da36b3f8d0b9331afab54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40781bb8e19da36b3f8d0b9331afab54">&#9670;&#160;</a></span>getContractDate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Date getContractDate </td>
          <td>(</td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>expiry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>fec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the contract date from an expiry date. </p>

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00285">285</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  286</span>                                                                                                                  {</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>    <span class="keyword">using </span>QuantLib::Date;</div>
<div class="line"><span class="lineno">  289</span>    <span class="keyword">using </span>QuantLib::io::iso_date;</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>    <span class="comment">// Try the expiry date&#39;s associated contract month and year. Start with the expiry month and year itself.</span></div>
<div class="line"><span class="lineno">  292</span>    <span class="comment">// Assume that expiry is within 12 months of the contract month and year.</span></div>
<div class="line"><span class="lineno">  293</span>    Date result(1, expiry.month(), expiry.year());</div>
<div class="line"><span class="lineno">  294</span>    Date calcExpiry = fec-&gt;expiryDate(result, 0);</div>
<div class="line"><span class="lineno">  295</span>    Size maxIncrement = 12;</div>
<div class="line"><span class="lineno">  296</span>    <span class="keywordflow">while</span> (calcExpiry != expiry &amp;&amp; maxIncrement &gt; 0) {</div>
<div class="line"><span class="lineno">  297</span>        <span class="keywordflow">if</span> (calcExpiry &lt; expiry)</div>
<div class="line"><span class="lineno">  298</span>            result += 1 * Months;</div>
<div class="line"><span class="lineno">  299</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  300</span>            result -= 1 * Months;</div>
<div class="line"><span class="lineno">  301</span>        calcExpiry = fec-&gt;expiryDate(result, 0);</div>
<div class="line"><span class="lineno">  302</span>        maxIncrement--;</div>
<div class="line"><span class="lineno">  303</span>    }</div>
<div class="line"><span class="lineno">  304</span> </div>
<div class="line"><span class="lineno">  305</span>    QL_REQUIRE(calcExpiry == expiry, <span class="stringliteral">&quot;Expected the calculated expiry, &quot;</span> &lt;&lt; iso_date(calcExpiry)</div>
<div class="line"><span class="lineno">  306</span>                                                                        &lt;&lt; <span class="stringliteral">&quot;, to equal the expiry, &quot;</span> &lt;&lt; iso_date(expiry)</div>
<div class="line"><span class="lineno">  307</span>                                                                        &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>);</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  310</span>}</div>
</div><!-- fragment --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_commodity_basis_price_curve_a40781bb8e19da36b3f8d0b9331afab54_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_commodity_basis_price_curve_a40781bb8e19da36b3f8d0b9331afab54_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_commodity_basis_price_curve_a40781bb8e19da36b3f8d0b9331afab54_icgraph" id="aclass_quant_ext_1_1_commodity_basis_price_curve_a40781bb8e19da36b3f8d0b9331afab54_icgraph">
<area shape="rect" title="Get the contract date from an expiry date." alt="" coords="236,5,352,31"/>
<area shape="rect" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a2f858b475b0212a00decd403807407eb" title="Curve constructed from dates and quotes." alt="" coords="5,5,188,31"/>
</map>
</div>

</div>
</div>
<a id="a8c809f1edea18ffc9bc344ae8c9ea2e3" name="a8c809f1edea18ffc9bc344ae8c9ea2e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c809f1edea18ffc9bc344ae8c9ea2e3">&#9670;&#160;</a></span>makeCashflow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_commodity_indexed_cash_flow.html">CommodityIndexedCashFlow</a> &gt; makeCashflow </td>
          <td>(</td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Make a commodity indexed cashflow. </p>

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00314">314</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  314</span>                                                                                                             {</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>    <span class="keywordflow">return</span> boost::make_shared&lt;CommodityIndexedCashFlow&gt;(</div>
<div class="line"><span class="lineno">  317</span>        1.0, start, end, <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a826b25ec9f7b0f5d45fc654c2918c267">index_</a>, 0, QuantLib::NullCalendar(), QuantLib::Unadjusted, 0, QuantLib::NullCalendar(), 0.0,</div>
<div class="line"><span class="lineno">  318</span>        1.0, <a class="code hl_enumvalue" href="class_quant_ext_1_1_commodity_indexed_cash_flow.html#ad4543fa3ccf34fd7094241b04092cef0a2bd5c65ff97989296e5b853db7bb2f51">CommodityIndexedCashFlow::PaymentTiming::InArrears</a>, <span class="keyword">true</span>, <span class="keyword">true</span>, <span class="keyword">true</span>, 0, <a class="code hl_variable" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a31add3912dbba60c1ab43ede52e93383">baseFec_</a>);</div>
<div class="line"><span class="lineno">  319</span>}</div>
<div class="ttc" id="aclass_quant_ext_1_1_commodity_indexed_cash_flow_html_ad4543fa3ccf34fd7094241b04092cef0a2bd5c65ff97989296e5b853db7bb2f51"><div class="ttname"><a href="class_quant_ext_1_1_commodity_indexed_cash_flow.html#ad4543fa3ccf34fd7094241b04092cef0a2bd5c65ff97989296e5b853db7bb2f51">QuantExt::CommodityIndexedCashFlow::PaymentTiming::InArrears</a></div><div class="ttdeci">@ InArrears</div></div>
</div><!-- fragment --><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_commodity_basis_price_curve_a8c809f1edea18ffc9bc344ae8c9ea2e3_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_commodity_basis_price_curve_a8c809f1edea18ffc9bc344ae8c9ea2e3_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_commodity_basis_price_curve_a8c809f1edea18ffc9bc344ae8c9ea2e3_icgraph" id="aclass_quant_ext_1_1_commodity_basis_price_curve_a8c809f1edea18ffc9bc344ae8c9ea2e3_icgraph">
<area shape="rect" title="Make a commodity indexed cashflow." alt="" coords="236,5,343,31"/>
<area shape="rect" href="class_quant_ext_1_1_commodity_basis_price_curve.html#a2f858b475b0212a00decd403807407eb" title="Curve constructed from dates and quotes." alt="" coords="5,5,188,31"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8508030328dcccb88ba7ed055203594d" name="a8508030328dcccb88ba7ed055203594d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8508030328dcccb88ba7ed055203594d">&#9670;&#160;</a></span>basisData_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;QuantLib::Date, QuantLib::Handle&lt;QuantLib::Quote&gt; &gt; basisData_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00103">103</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="af804f1e530739f77892153ce24f1a2ad" name="af804f1e530739f77892153ce24f1a2ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af804f1e530739f77892153ce24f1a2ad">&#9670;&#160;</a></span>basisFec_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a>&gt; basisFec_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00104">104</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="a826b25ec9f7b0f5d45fc654c2918c267" name="a826b25ec9f7b0f5d45fc654c2918c267"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a826b25ec9f7b0f5d45fc654c2918c267">&#9670;&#160;</a></span>index_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="class_quant_ext_1_1_commodity_index.html">CommodityIndex</a>&gt; index_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00105">105</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="a2a419f35deaf91c2a1460dd318d7d6a8" name="a2a419f35deaf91c2a1460dd318d7d6a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a419f35deaf91c2a1460dd318d7d6a8">&#9670;&#160;</a></span>basePts_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Handle&lt;<a class="el" href="class_quant_ext_1_1_price_term_structure.html">PriceTermStructure</a>&gt; basePts_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00106">106</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="a31add3912dbba60c1ab43ede52e93383" name="a31add3912dbba60c1ab43ede52e93383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31add3912dbba60c1ab43ede52e93383">&#9670;&#160;</a></span>baseFec_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="class_quant_ext_1_1_future_expiry_calculator.html">FutureExpiryCalculator</a>&gt; baseFec_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00107">107</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="ac50b80958ea29e34b01f42e8976acc04" name="ac50b80958ea29e34b01f42e8976acc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac50b80958ea29e34b01f42e8976acc04">&#9670;&#160;</a></span>addBasis_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> addBasis_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00108">108</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="a69bd519a3fd3bd177d4cca3f953b0983" name="a69bd519a3fd3bd177d4cca3f953b0983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69bd519a3fd3bd177d4cca3f953b0983">&#9670;&#160;</a></span>monthOffset_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Size monthOffset_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00109">109</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="a65e9db79bb4ddc5c45111c1a75c7985e" name="a65e9db79bb4ddc5c45111c1a75c7985e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65e9db79bb4ddc5c45111c1a75c7985e">&#9670;&#160;</a></span>dates_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;QuantLib::Date&gt; dates_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00111">111</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="a5935e4ed704f287e841f27d1c29154bd" name="a5935e4ed704f287e841f27d1c29154bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5935e4ed704f287e841f27d1c29154bd">&#9670;&#160;</a></span>basisTimes_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Time&gt; basisTimes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Interpolator used for interpolating the basis if needed. Basis interpolation uses the same interpolator as the curve itself. A second template parameter could be added for this in future if it needs to be relaxed. </p>

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00116">116</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="a71cecdf321f5707136e26c0d13a160ab" name="a71cecdf321f5707136e26c0d13a160ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71cecdf321f5707136e26c0d13a160ab">&#9670;&#160;</a></span>basisValues_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Real&gt; basisValues_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00117">117</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="ad9714a1d2824c4bb9b2597bedbdb1d8a" name="ad9714a1d2824c4bb9b2597bedbdb1d8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9714a1d2824c4bb9b2597bedbdb1d8a">&#9670;&#160;</a></span>basisInterpolation_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Interpolation basisInterpolation_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00118">118</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="a1e8ffff063a6e1d798b5e124768bba71" name="a1e8ffff063a6e1d798b5e124768bba71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e8ffff063a6e1d798b5e124768bba71">&#9670;&#160;</a></span>baseLeg_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;QuantLib::Date, boost::shared_ptr&lt;<a class="el" href="class_quant_ext_1_1_commodity_indexed_cash_flow.html">CommodityIndexedCashFlow</a>&gt; &gt; baseLeg_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The commodity cashflows will give the base curve prices. </p>

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00121">121</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>

</div>
</div>
<a id="a69ff54f60edf0c0f31859eebf8b4952b" name="a69ff54f60edf0c0f31859eebf8b4952b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69ff54f60edf0c0f31859eebf8b4952b">&#9670;&#160;</a></span>legIndexMap_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;QuantLib::Size, QuantLib::Size&gt; legIndexMap_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Map where the key is the index of a time in the times_ vector and the value is the index of the cashflow in the baseLeg_ to associate with that time. </p>

<p class="definition">Definition at line <a class="el" href="commoditybasispricecurve_8hpp_source.html#l00126">126</a> of file <a class="el" href="commoditybasispricecurve_8hpp_source.html">commoditybasispricecurve.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.9.5
</small></address>
</body>
</html>
