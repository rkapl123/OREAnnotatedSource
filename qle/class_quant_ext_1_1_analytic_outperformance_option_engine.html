<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<title>QuantExt: AnalyticOutperformanceOptionEngine Class Reference</title>
<link href="https://fonts.googleapis.com/css?family=Merriweather+Sans|Open+Sans" rel="stylesheet">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="favicon.png">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="quantextextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname"><a href="https://rkapl123.github.io/OREAnnotatedSource/">
       <img src="logo-qle@2x.png" alt="Logo" width="150" height="68" style="float: left; padding: 15px;"/></a>
   <div id="projectbrief">Fully annotated reference manual - version 1.8.12</div>
   </div>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_quant_ext.html">QuantExt</a></li><li class="navelem"><a class="el" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html">AnalyticOutperformanceOptionEngine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_quant_ext_1_1_analytic_outperformance_option_engine-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">AnalyticOutperformanceOptionEngine Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Pricing engine for European outperformance options using analytical formulae.  
 <a href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html">qle/pricingengines/analyticoutperformanceoptionengine.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for AnalyticOutperformanceOptionEngine:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_analytic_outperformance_option_engine__inherit__graph.png" border="0" usemap="#a_analytic_outperformance_option_engine_inherit__map" alt="Inheritance graph"/></div>
<map name="a_analytic_outperformance_option_engine_inherit__map" id="a_analytic_outperformance_option_engine_inherit__map">
<area shape="rect" title="Pricing engine for European outperformance options using analytical formulae." alt="" coords="13,211,227,427"/>
<area shape="rect" href="class_quant_ext_1_1_outperformance_option_1_1engine.html" title="base class for outperformance option engines" alt="" coords="88,123,152,163"/>
<area shape="rect" title=" " alt="" coords="5,5,235,75"/>
</map>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for AnalyticOutperformanceOptionEngine:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_analytic_outperformance_option_engine__coll__graph.png" border="0" usemap="#a_analytic_outperformance_option_engine_coll__map" alt="Collaboration graph"/></div>
<map name="a_analytic_outperformance_option_engine_coll__map" id="a_analytic_outperformance_option_engine_coll__map">
<area shape="rect" title="Pricing engine for European outperformance options using analytical formulae." alt="" coords="250,284,467,441"/>
<area shape="rect" href="class_quant_ext_1_1_outperformance_option_1_1engine.html" title="base class for outperformance option engines" alt="" coords="88,159,152,199"/>
<area shape="rect" title=" " alt="" coords="5,5,235,75"/>
<area shape="rect" title=" " alt="" coords="177,152,378,207"/>
<area shape="rect" title=" " alt="" coords="403,152,605,207"/>
<area shape="rect" title=" " alt="" coords="471,20,537,60"/>
<area shape="rect" title=" " alt="" coords="630,159,682,199"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac0db86470fd0189714e57aad8ef120d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#ac0db86470fd0189714e57aad8ef120d9">AnalyticOutperformanceOptionEngine</a> (const ext::shared_ptr&lt; GeneralizedBlackScholesProcess &gt; &amp;process1, const ext::shared_ptr&lt; GeneralizedBlackScholesProcess &gt; &amp;process2, const Handle&lt; <a class="el" href="class_quant_ext_1_1_correlation_term_structure.html">CorrelationTermStructure</a> &gt; &amp;<a class="el" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a2e21e5aeac93f5e130aa014f0f09ddb7">correlation</a>, QuantLib::Size integrationPoints)</td></tr>
<tr class="separator:ac0db86470fd0189714e57aad8ef120d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61eb1a24e5329ccc296715a40dc3a19a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a61eb1a24e5329ccc296715a40dc3a19a">calculate</a> () const override</td></tr>
<tr class="separator:a61eb1a24e5329ccc296715a40dc3a19a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a2e21e5aeac93f5e130aa014f0f09ddb7"><td class="memItemLeft" align="right" valign="top">Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a2e21e5aeac93f5e130aa014f0f09ddb7">correlation</a> (Time t, Real strike=1) const</td></tr>
<tr class="separator:a2e21e5aeac93f5e130aa014f0f09ddb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d510e88fc119ae3563f1b7341c1f9f4"><td class="memItemLeft" align="right" valign="top">Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">rho</a> (Time t) const</td></tr>
<tr class="separator:a4d510e88fc119ae3563f1b7341c1f9f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af52008d9fa8b26e4cb02b0478a7d288d"><td class="memItemLeft" align="right" valign="top">Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#af52008d9fa8b26e4cb02b0478a7d288d">integrand</a> (const Real x, Real phi, Real k, Real m1, Real m2, Real v1, Real v2, Real s1, Real s2, Real i1, Real i2, Real fixingTime) const</td></tr>
<tr class="separator:af52008d9fa8b26e4cb02b0478a7d288d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f47a5f22a4bb7551c369c24db5c2eb3"><td class="memItemLeft" align="right" valign="top">Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a1f47a5f22a4bb7551c369c24db5c2eb3">getTodaysFxConversionRate</a> (const QuantLib::ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_fx_index.html">QuantExt::FxIndex</a> &gt; &amp;fxIndex) const</td></tr>
<tr class="separator:a1f47a5f22a4bb7551c369c24db5c2eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a40130e69f12f6a7b01e0b071f127cf08"><td class="memItemLeft" align="right" valign="top">ext::shared_ptr&lt; GeneralizedBlackScholesProcess &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a40130e69f12f6a7b01e0b071f127cf08">process1_</a></td></tr>
<tr class="separator:a40130e69f12f6a7b01e0b071f127cf08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09fceea60150abdef9b9664a0d055c2e"><td class="memItemLeft" align="right" valign="top">ext::shared_ptr&lt; GeneralizedBlackScholesProcess &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a09fceea60150abdef9b9664a0d055c2e">process2_</a></td></tr>
<tr class="separator:a09fceea60150abdef9b9664a0d055c2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4185bd3a15585bd0f2a40d005d22f520"><td class="memItemLeft" align="right" valign="top">Handle&lt; <a class="el" href="class_quant_ext_1_1_correlation_term_structure.html">CorrelationTermStructure</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4185bd3a15585bd0f2a40d005d22f520">correlationCurve_</a></td></tr>
<tr class="separator:a4185bd3a15585bd0f2a40d005d22f520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8c8a1804f504aa0db436c06ac8e7ec2"><td class="memItemLeft" align="right" valign="top">QuantLib::Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#ac8c8a1804f504aa0db436c06ac8e7ec2">integrationPoints_</a></td></tr>
<tr class="separator:ac8c8a1804f504aa0db436c06ac8e7ec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:aeb363f3becf227b87f2de6b651d6c8b3"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#aeb363f3becf227b87f2de6b651d6c8b3">integrand_f</a></td></tr>
<tr class="separator:aeb363f3becf227b87f2de6b651d6c8b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Pricing engine for European outperformance options using analytical formulae. </p>

<p class="definition">Definition at line <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html#l00035">35</a> of file <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html">analyticoutperformanceoptionengine.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac0db86470fd0189714e57aad8ef120d9" name="ac0db86470fd0189714e57aad8ef120d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0db86470fd0189714e57aad8ef120d9">&#9670;&#160;</a></span>AnalyticOutperformanceOptionEngine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html">AnalyticOutperformanceOptionEngine</a> </td>
          <td>(</td>
          <td class="paramtype">const ext::shared_ptr&lt; GeneralizedBlackScholesProcess &gt; &amp;&#160;</td>
          <td class="paramname"><em>process1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ext::shared_ptr&lt; GeneralizedBlackScholesProcess &gt; &amp;&#160;</td>
          <td class="paramname"><em>process2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Handle&lt; <a class="el" href="class_quant_ext_1_1_correlation_term_structure.html">CorrelationTermStructure</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>correlation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantLib::Size&#160;</td>
          <td class="paramname"><em>integrationPoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="analyticoutperformanceoptionengine_8cpp_source.html#l00047">47</a> of file <a class="el" href="analyticoutperformanceoptionengine_8cpp_source.html">analyticoutperformanceoptionengine.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   51</span>    : <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a40130e69f12f6a7b01e0b071f127cf08">process1_</a>(process1), <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a09fceea60150abdef9b9664a0d055c2e">process2_</a>(process2), <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4185bd3a15585bd0f2a40d005d22f520">correlationCurve_</a>(<a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a2e21e5aeac93f5e130aa014f0f09ddb7">correlation</a>), <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#ac8c8a1804f504aa0db436c06ac8e7ec2">integrationPoints_</a>(integrationPoints) {</div>
<div class="line"><span class="lineno">   52</span>    registerWith(<a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a40130e69f12f6a7b01e0b071f127cf08">process1_</a>);</div>
<div class="line"><span class="lineno">   53</span>    registerWith(<a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a09fceea60150abdef9b9664a0d055c2e">process2_</a>);</div>
<div class="line"><span class="lineno">   54</span>}</div>
<div class="ttc" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_html_a09fceea60150abdef9b9664a0d055c2e"><div class="ttname"><a href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a09fceea60150abdef9b9664a0d055c2e">QuantExt::AnalyticOutperformanceOptionEngine::process2_</a></div><div class="ttdeci">ext::shared_ptr&lt; GeneralizedBlackScholesProcess &gt; process2_</div><div class="ttdef"><b>Definition:</b> <a href="analyticoutperformanceoptionengine_8hpp_source.html#l00052">analyticoutperformanceoptionengine.hpp:52</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_html_a2e21e5aeac93f5e130aa014f0f09ddb7"><div class="ttname"><a href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a2e21e5aeac93f5e130aa014f0f09ddb7">QuantExt::AnalyticOutperformanceOptionEngine::correlation</a></div><div class="ttdeci">Real correlation(Time t, Real strike=1) const</div><div class="ttdef"><b>Definition:</b> <a href="analyticoutperformanceoptionengine_8hpp_source.html#l00043">analyticoutperformanceoptionengine.hpp:43</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_html_a40130e69f12f6a7b01e0b071f127cf08"><div class="ttname"><a href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a40130e69f12f6a7b01e0b071f127cf08">QuantExt::AnalyticOutperformanceOptionEngine::process1_</a></div><div class="ttdeci">ext::shared_ptr&lt; GeneralizedBlackScholesProcess &gt; process1_</div><div class="ttdef"><b>Definition:</b> <a href="analyticoutperformanceoptionengine_8hpp_source.html#l00051">analyticoutperformanceoptionengine.hpp:51</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_html_a4185bd3a15585bd0f2a40d005d22f520"><div class="ttname"><a href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4185bd3a15585bd0f2a40d005d22f520">QuantExt::AnalyticOutperformanceOptionEngine::correlationCurve_</a></div><div class="ttdeci">Handle&lt; CorrelationTermStructure &gt; correlationCurve_</div><div class="ttdef"><b>Definition:</b> <a href="analyticoutperformanceoptionengine_8hpp_source.html#l00054">analyticoutperformanceoptionengine.hpp:54</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_html_ac8c8a1804f504aa0db436c06ac8e7ec2"><div class="ttname"><a href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#ac8c8a1804f504aa0db436c06ac8e7ec2">QuantExt::AnalyticOutperformanceOptionEngine::integrationPoints_</a></div><div class="ttdeci">QuantLib::Size integrationPoints_</div><div class="ttdef"><b>Definition:</b> <a href="analyticoutperformanceoptionengine_8hpp_source.html#l00055">analyticoutperformanceoptionengine.hpp:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a61eb1a24e5329ccc296715a40dc3a19a" name="a61eb1a24e5329ccc296715a40dc3a19a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61eb1a24e5329ccc296715a40dc3a19a">&#9670;&#160;</a></span>calculate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void calculate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="analyticoutperformanceoptionengine_8cpp_source.html#l00114">114</a> of file <a class="el" href="analyticoutperformanceoptionengine_8cpp_source.html">analyticoutperformanceoptionengine.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  114</span>                                                         {</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>    QL_REQUIRE(<a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.exercise-&gt;type() == Exercise::European, <span class="stringliteral">&quot;not an European option&quot;</span>);</div>
<div class="line"><span class="lineno">  117</span>        </div>
<div class="line"><span class="lineno">  118</span>    Option::Type optionType = <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.optionType;</div>
<div class="line"><span class="lineno">  119</span>    Real phi = optionType == Option::Call ? 1.0 : -1.0;</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    Real strike = <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.strikeReturn;</div>
<div class="line"><span class="lineno">  122</span>    QL_REQUIRE(strike &gt;= 0, <span class="stringliteral">&quot;non-negative strike expected&quot;</span>);</div>
<div class="line"><span class="lineno">  123</span>    </div>
<div class="line"><span class="lineno">  124</span>    Time fixingTime = <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a40130e69f12f6a7b01e0b071f127cf08">process1_</a>-&gt;time(<a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.exercise-&gt;lastDate());</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>    Real fx1 = <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.fxIndex1 ? <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a1f47a5f22a4bb7551c369c24db5c2eb3">getTodaysFxConversionRate</a>(<a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.fxIndex1) : 1.0;</div>
<div class="line"><span class="lineno">  127</span>    Real fx2 = <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.fxIndex2 ? <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a1f47a5f22a4bb7551c369c24db5c2eb3">getTodaysFxConversionRate</a>(<a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.fxIndex2) : 1.0;</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>    Real s1 = <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a40130e69f12f6a7b01e0b071f127cf08">process1_</a>-&gt;stateVariable()-&gt;value(); </div>
<div class="line"><span class="lineno">  130</span>    Real s2 = <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a09fceea60150abdef9b9664a0d055c2e">process2_</a>-&gt;stateVariable()-&gt;value();</div>
<div class="line"><span class="lineno">  131</span>    Real i1 = <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.initialValue1 * fx1;</div>
<div class="line"><span class="lineno">  132</span>    Real i2 = <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.initialValue2 * fx2;</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>    Real v1 = <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a40130e69f12f6a7b01e0b071f127cf08">process1_</a>-&gt;blackVolatility()-&gt;blackVol(</div>
<div class="line"><span class="lineno">  135</span>                                            <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.exercise-&gt;lastDate(), s1);</div>
<div class="line"><span class="lineno">  136</span>    Real v2 = <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a09fceea60150abdef9b9664a0d055c2e">process2_</a>-&gt;blackVolatility()-&gt;blackVol(</div>
<div class="line"><span class="lineno">  137</span>                                            <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.exercise-&gt;lastDate(), s2);</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>    Real riskFreeRate1 = <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a40130e69f12f6a7b01e0b071f127cf08">process1_</a>-&gt;riskFreeRate()-&gt;zeroRate(</div>
<div class="line"><span class="lineno">  140</span>                <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.exercise-&gt;lastDate(),</div>
<div class="line"><span class="lineno">  141</span>                <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a40130e69f12f6a7b01e0b071f127cf08">process1_</a>-&gt;riskFreeRate()-&gt;dayCounter(),</div>
<div class="line"><span class="lineno">  142</span>                Continuous, NoFrequency);</div>
<div class="line"><span class="lineno">  143</span>    Real riskFreeRate2 = <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a09fceea60150abdef9b9664a0d055c2e">process2_</a>-&gt;riskFreeRate()-&gt;zeroRate(</div>
<div class="line"><span class="lineno">  144</span>                <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.exercise-&gt;lastDate(),</div>
<div class="line"><span class="lineno">  145</span>                <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a09fceea60150abdef9b9664a0d055c2e">process2_</a>-&gt;riskFreeRate()-&gt;dayCounter(),</div>
<div class="line"><span class="lineno">  146</span>                Continuous, NoFrequency);</div>
<div class="line"><span class="lineno">  147</span>    Real dividendYield1 = <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a40130e69f12f6a7b01e0b071f127cf08">process1_</a>-&gt;dividendYield()-&gt;zeroRate(</div>
<div class="line"><span class="lineno">  148</span>                <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.exercise-&gt;lastDate(),</div>
<div class="line"><span class="lineno">  149</span>                <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a40130e69f12f6a7b01e0b071f127cf08">process1_</a>-&gt;dividendYield()-&gt;dayCounter(),</div>
<div class="line"><span class="lineno">  150</span>                Continuous, NoFrequency);</div>
<div class="line"><span class="lineno">  151</span>    Real dividendYield2 = <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a09fceea60150abdef9b9664a0d055c2e">process2_</a>-&gt;dividendYield()-&gt;zeroRate(</div>
<div class="line"><span class="lineno">  152</span>                <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.exercise-&gt;lastDate(),</div>
<div class="line"><span class="lineno">  153</span>                <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a09fceea60150abdef9b9664a0d055c2e">process2_</a>-&gt;dividendYield()-&gt;dayCounter(),</div>
<div class="line"><span class="lineno">  154</span>                Continuous, NoFrequency);</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    Real m1 = riskFreeRate1 - dividendYield1;</div>
<div class="line"><span class="lineno">  157</span>    Real m2 = riskFreeRate2 - dividendYield2;</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    Real k = strike;</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    Real res = 0.0;</div>
<div class="line"><span class="lineno">  162</span>    </div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordtype">bool</span> hasBarrier = (<a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.knockInPrice != Null&lt;Real&gt;()) || (<a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.knockOutPrice != Null&lt;Real&gt;());</div>
<div class="line"><span class="lineno">  164</span>    Real <a class="code hl_function" href="group__crossassetmodel.html#gacbdbb9d4459bd0383883978d21f14345">integral</a> = 0;</div>
<div class="line"><span class="lineno">  165</span>    <span class="keywordflow">if</span> (hasBarrier) {</div>
<div class="line"><span class="lineno">  166</span>        Real my = (m2 - 0.5 * v2 * v2) * fixingTime; </div>
<div class="line"><span class="lineno">  167</span>        Real vy = v2 * std::sqrt(fixingTime);</div>
<div class="line"><span class="lineno">  168</span>        </div>
<div class="line"><span class="lineno">  169</span>        Real precision = 1.0e-6;</div>
<div class="line"><span class="lineno">  170</span>        </div>
<div class="line"><span class="lineno">  171</span>        Real upperBound = Null&lt;Real&gt;();</div>
<div class="line"><span class="lineno">  172</span>        Real lowerBound = Null&lt;Real&gt;();</div>
<div class="line"><span class="lineno">  173</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.knockOutPrice != Null&lt;Real&gt;()) {</div>
<div class="line"><span class="lineno">  174</span>            Real koPrice = fx2 * <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.knockOutPrice;</div>
<div class="line"><span class="lineno">  175</span>            <span class="comment">// for the integration variable y : upperBound = log( knockOutPrice / initialPrice2)</span></div>
<div class="line"><span class="lineno">  176</span>            <span class="comment">// in Brigo the variable change v = (y - my) / vy is made</span></div>
<div class="line"><span class="lineno">  177</span>            <span class="comment">// we make a further variable change  x = v / sqrt(2)</span></div>
<div class="line"><span class="lineno">  178</span>            upperBound = (std::log(koPrice / s2) - my) / ( vy * M_SQRT2);</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.knockInPrice == Null&lt;Real&gt;()) {</div>
<div class="line"><span class="lineno">  181</span>                <span class="comment">// we estimate the infinite boundary</span></div>
<div class="line"><span class="lineno">  182</span>                lowerBound = -2 * std::fabs(upperBound);</div>
<div class="line"><span class="lineno">  183</span>                <span class="keywordflow">while</span>(<a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#af52008d9fa8b26e4cb02b0478a7d288d">integrand</a>(lowerBound, phi, k, m1, m2, v1, v2, s1, s2, i1, i2, fixingTime) &gt; precision)</div>
<div class="line"><span class="lineno">  184</span>                    lowerBound *=2.0;</div>
<div class="line"><span class="lineno">  185</span>            }</div>
<div class="line"><span class="lineno">  186</span>        }</div>
<div class="line"><span class="lineno">  187</span>        </div>
<div class="line"><span class="lineno">  188</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.knockInPrice != Null&lt;Real&gt;()) {</div>
<div class="line"><span class="lineno">  189</span>            Real kiPrice = fx2 * <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.knockInPrice;</div>
<div class="line"><span class="lineno">  190</span>            <span class="comment">// for the integration variable y : lowerBound = log( knockInPrice / initialPrice2)</span></div>
<div class="line"><span class="lineno">  191</span>            <span class="comment">// in Brigo the variable change v = (y - my) / vy is made</span></div>
<div class="line"><span class="lineno">  192</span>            <span class="comment">// we make a further variable change  x = v / sqrt(2)</span></div>
<div class="line"><span class="lineno">  193</span>            lowerBound = (std::log(kiPrice / s2) - my) / ( vy * M_SQRT2);</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.knockOutPrice == Null&lt;Real&gt;()) {</div>
<div class="line"><span class="lineno">  196</span>                <span class="comment">// we estimate the infinite boundary</span></div>
<div class="line"><span class="lineno">  197</span>                upperBound = 2 * std::fabs(lowerBound);</div>
<div class="line"><span class="lineno">  198</span>                <span class="keywordflow">while</span>(<a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#af52008d9fa8b26e4cb02b0478a7d288d">integrand</a>(upperBound, phi, k, m1, m2, v1, v2, s1, s2, i1, i2, fixingTime) &gt; precision)</div>
<div class="line"><span class="lineno">  199</span>                    upperBound *=2.0;</div>
<div class="line"><span class="lineno">  200</span>            }</div>
<div class="line"><span class="lineno">  201</span>        }</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>        QuantLib::ext::shared_ptr&lt;Integrator&gt; integratorBounded = QuantLib::ext::make_shared&lt;GaussKronrodNonAdaptive&gt;(precision, 1000000, 1.0);</div>
<div class="line"><span class="lineno">  204</span>        </div>
<div class="line"><span class="lineno">  205</span>        QL_REQUIRE(upperBound != Null&lt;Real&gt;(), <span class="stringliteral">&quot;AnalyticOutperformanceOptionEngine: expected valid upper bound.&quot;</span>);</div>
<div class="line"><span class="lineno">  206</span>        QL_REQUIRE(lowerBound != Null&lt;Real&gt;(), <span class="stringliteral">&quot;AnalyticOutperformanceOptionEngine: expected valid lower bound.&quot;</span>);</div>
<div class="line"><span class="lineno">  207</span>        QL_REQUIRE(upperBound &gt; lowerBound, <span class="stringliteral">&quot;incorrect knock in levels provided&quot;</span>);</div>
<div class="line"><span class="lineno">  208</span>        <a class="code hl_function" href="group__crossassetmodel.html#gacbdbb9d4459bd0383883978d21f14345">integral</a> +=  (*integratorBounded)(<a class="code hl_friend" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#aeb363f3becf227b87f2de6b651d6c8b3">integrand_f</a>(<span class="keyword">this</span>, phi, k, m1, m2, v1, v2, s1, s2, i1, i2, fixingTime), lowerBound, upperBound);</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  211</span>        QuantLib::ext::shared_ptr&lt;GaussianQuadrature&gt; integrator = QuantLib::ext::make_shared&lt;GaussHermiteIntegration&gt;(<a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#ac8c8a1804f504aa0db436c06ac8e7ec2">integrationPoints_</a>);</div>
<div class="line"><span class="lineno">  212</span>        <a class="code hl_function" href="group__crossassetmodel.html#gacbdbb9d4459bd0383883978d21f14345">integral</a> +=</div>
<div class="line"><span class="lineno">  213</span>            (*integrator)(<a class="code hl_friend" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#aeb363f3becf227b87f2de6b651d6c8b3">integrand_f</a>(<span class="keyword">this</span>, phi, k, m1, m2, v1, v2, s1, s2, i1, i2, fixingTime));</div>
<div class="line"><span class="lineno">  214</span>    }</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>    res += (<a class="code hl_function" href="group__crossassetmodel.html#gacbdbb9d4459bd0383883978d21f14345">integral</a> / M_SQRTPI);</div>
<div class="line"><span class="lineno">  217</span>    DiscountFactor riskFreeDiscount =</div>
<div class="line"><span class="lineno">  218</span>        <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a40130e69f12f6a7b01e0b071f127cf08">process1_</a>-&gt;riskFreeRate()-&gt;discount(<a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.exercise-&gt;lastDate());</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.value = res * riskFreeDiscount * <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.notional;</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>    Real variance1 = <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a40130e69f12f6a7b01e0b071f127cf08">process1_</a>-&gt;blackVolatility()-&gt;blackVariance(</div>
<div class="line"><span class="lineno">  223</span>                                            <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.exercise-&gt;lastDate(), s1);</div>
<div class="line"><span class="lineno">  224</span>    Real variance2 = <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a09fceea60150abdef9b9664a0d055c2e">process2_</a>-&gt;blackVolatility()-&gt;blackVariance(</div>
<div class="line"><span class="lineno">  225</span>                                            <a class="code hl_variable" href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a>.exercise-&gt;lastDate(), s2);</div>
<div class="line"><span class="lineno">  226</span>    Real <a class="code hl_function" href="namespace_quant_ext.html#a249dd19ff90e20ad4b64b0be1665b5c0">variance</a> = variance1 + variance2 - 2 * <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">rho</a>(fixingTime) * std::sqrt(variance1)*std::sqrt(variance2);</div>
<div class="line"><span class="lineno">  227</span>    Real stdDev = std::sqrt(<a class="code hl_function" href="namespace_quant_ext.html#a249dd19ff90e20ad4b64b0be1665b5c0">variance</a>);</div>
<div class="line"><span class="lineno">  228</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.standardDeviation = stdDev;</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.additionalResults[<span class="stringliteral">&quot;spot1&quot;</span>] = s1;</div>
<div class="line"><span class="lineno">  231</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.additionalResults[<span class="stringliteral">&quot;spot2&quot;</span>] = s2;</div>
<div class="line"><span class="lineno">  232</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.additionalResults[<span class="stringliteral">&quot;fx1&quot;</span>] = fx1;</div>
<div class="line"><span class="lineno">  233</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.additionalResults[<span class="stringliteral">&quot;fx2&quot;</span>] = fx2;</div>
<div class="line"><span class="lineno">  234</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.additionalResults[<span class="stringliteral">&quot;blackVol1&quot;</span>] = v1;</div>
<div class="line"><span class="lineno">  235</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.additionalResults[<span class="stringliteral">&quot;blackVol2&quot;</span>] = v2;</div>
<div class="line"><span class="lineno">  236</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.additionalResults[<span class="stringliteral">&quot;correlation&quot;</span>] = <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">rho</a>(fixingTime);</div>
<div class="line"><span class="lineno">  237</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.additionalResults[<span class="stringliteral">&quot;strike&quot;</span>] = strike;</div>
<div class="line"><span class="lineno">  238</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.additionalResults[<span class="stringliteral">&quot;residualTime&quot;</span>] = fixingTime;</div>
<div class="line"><span class="lineno">  239</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.additionalResults[<span class="stringliteral">&quot;riskFreeRate1&quot;</span>] = riskFreeRate1;</div>
<div class="line"><span class="lineno">  240</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.additionalResults[<span class="stringliteral">&quot;riskFreeRate2&quot;</span>] = riskFreeRate2;</div>
<div class="line"><span class="lineno">  241</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.additionalResults[<span class="stringliteral">&quot;dividendYield1&quot;</span>] = dividendYield1;</div>
<div class="line"><span class="lineno">  242</span>    <a class="code hl_variable" href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a>.additionalResults[<span class="stringliteral">&quot;dividendYield2&quot;</span>] = dividendYield2;</div>
<div class="line"><span class="lineno">  243</span>    </div>
<div class="line"><span class="lineno">  244</span>} <span class="comment">// calculate</span></div>
<div class="ttc" id="acdsoption_8cpp_html_afeb3e8b4e6ab6604c185b2ea55bbc728"><div class="ttname"><a href="cdsoption_8cpp.html#afeb3e8b4e6ab6604c185b2ea55bbc728">results_</a></div><div class="ttdeci">const Instrument::results * results_</div><div class="ttdef"><b>Definition:</b> <a href="cdsoption_8cpp_source.html#l00081">cdsoption.cpp:81</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_html_a1f47a5f22a4bb7551c369c24db5c2eb3"><div class="ttname"><a href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a1f47a5f22a4bb7551c369c24db5c2eb3">QuantExt::AnalyticOutperformanceOptionEngine::getTodaysFxConversionRate</a></div><div class="ttdeci">Real getTodaysFxConversionRate(const QuantLib::ext::shared_ptr&lt; QuantExt::FxIndex &gt; &amp;fxIndex) const</div><div class="ttdef"><b>Definition:</b> <a href="analyticoutperformanceoptionengine_8cpp_source.html#l00031">analyticoutperformanceoptionengine.cpp:31</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_html_a4d510e88fc119ae3563f1b7341c1f9f4"><div class="ttname"><a href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">QuantExt::AnalyticOutperformanceOptionEngine::rho</a></div><div class="ttdeci">Real rho(Time t) const</div><div class="ttdef"><b>Definition:</b> <a href="analyticoutperformanceoptionengine_8hpp_source.html#l00044">analyticoutperformanceoptionengine.hpp:44</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_html_aeb363f3becf227b87f2de6b651d6c8b3"><div class="ttname"><a href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#aeb363f3becf227b87f2de6b651d6c8b3">QuantExt::AnalyticOutperformanceOptionEngine::integrand_f</a></div><div class="ttdeci">friend class integrand_f</div><div class="ttdef"><b>Definition:</b> <a href="analyticoutperformanceoptionengine_8hpp_source.html#l00049">analyticoutperformanceoptionengine.hpp:49</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_html_af52008d9fa8b26e4cb02b0478a7d288d"><div class="ttname"><a href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#af52008d9fa8b26e4cb02b0478a7d288d">QuantExt::AnalyticOutperformanceOptionEngine::integrand</a></div><div class="ttdeci">Real integrand(const Real x, Real phi, Real k, Real m1, Real m2, Real v1, Real v2, Real s1, Real s2, Real i1, Real i2, Real fixingTime) const</div><div class="ttdef"><b>Definition:</b> <a href="analyticoutperformanceoptionengine_8cpp_source.html#l00080">analyticoutperformanceoptionengine.cpp:80</a></div></div>
<div class="ttc" id="agroup__crossassetmodel_html_gacbdbb9d4459bd0383883978d21f14345"><div class="ttname"><a href="group__crossassetmodel.html#gacbdbb9d4459bd0383883978d21f14345">QuantExt::CrossAssetAnalytics::integral</a></div><div class="ttdeci">Real integral(const CrossAssetModel &amp;model, const E &amp;e, const Real a, const Real b)</div><div class="ttdef"><b>Definition:</b> <a href="crossassetanalyticsbase_8hpp_source.html#l00217">crossassetanalyticsbase.hpp:217</a></div></div>
<div class="ttc" id="anamespace_quant_ext_html_a249dd19ff90e20ad4b64b0be1665b5c0"><div class="ttname"><a href="namespace_quant_ext.html#a249dd19ff90e20ad4b64b0be1665b5c0">QuantExt::variance</a></div><div class="ttdeci">RandomVariable variance(const RandomVariable &amp;r)</div><div class="ttdef"><b>Definition:</b> <a href="qle_2math_2randomvariable_8cpp_source.html#l01281">randomvariable.cpp:1281</a></div></div>
<div class="ttc" id="atenorbasisswap_8cpp_html_a71b2ce0e52885aca4ce15e1d128b9f56"><div class="ttname"><a href="tenorbasisswap_8cpp.html#a71b2ce0e52885aca4ce15e1d128b9f56">arguments_</a></div><div class="ttdeci">Swap::arguments * arguments_</div><div class="ttdef"><b>Definition:</b> <a href="tenorbasisswap_8cpp_source.html#l00059">tenorbasisswap.cpp:59</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_analytic_outperformance_option_engine_a61eb1a24e5329ccc296715a40dc3a19a_cgraph.png" border="0" usemap="#aclass_quant_ext_1_1_analytic_outperformance_option_engine_a61eb1a24e5329ccc296715a40dc3a19a_cgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_analytic_outperformance_option_engine_a61eb1a24e5329ccc296715a40dc3a19a_cgraph" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_a61eb1a24e5329ccc296715a40dc3a19a_cgraph">
<area shape="rect" title=" " alt="" coords="5,120,80,145"/>
<area shape="rect" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a1f47a5f22a4bb7551c369c24db5c2eb3" title=" " alt="" coords="138,5,325,31"/>
<area shape="rect" href="group__crossassetmodel.html#gacbdbb9d4459bd0383883978d21f14345" title=" " alt="" coords="128,55,335,95"/>
<area shape="rect" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#af52008d9fa8b26e4cb02b0478a7d288d" title=" " alt="" coords="194,120,269,145"/>
<area shape="rect" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4" title=" " alt="" coords="457,141,497,167"/>
<area shape="rect" href="namespace_quant_ext.html#a249dd19ff90e20ad4b64b0be1665b5c0" title=" " alt="" coords="165,221,297,247"/>
<area shape="rect" href="class_quant_ext_1_1_cross_asset_model.html#a30bf424782ae49c025422f8b96d9a70b" title=" " alt="" coords="383,55,571,95"/>
<area shape="rect" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a2e21e5aeac93f5e130aa014f0f09ddb7" title=" " alt="" coords="619,141,701,167"/>
<area shape="rect" href="struct_quant_ext_1_1_random_variable.html#a6e0fdc031c26ed1d1a956019d2cee4a1" title=" " alt="" coords="387,202,567,242"/>
<area shape="rect" href="struct_quant_ext_1_1_random_variable.html#acce0ab2cacc475b2434f24c65c91685a" title=" " alt="" coords="387,266,567,306"/>
</map>
</div>

</div>
</div>
<a id="a2e21e5aeac93f5e130aa014f0f09ddb7" name="a2e21e5aeac93f5e130aa014f0f09ddb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e21e5aeac93f5e130aa014f0f09ddb7">&#9670;&#160;</a></span>correlation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Real correlation </td>
          <td>(</td>
          <td class="paramtype">Time&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>strike</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html#l00043">43</a> of file <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html">analyticoutperformanceoptionengine.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4185bd3a15585bd0f2a40d005d22f520">correlationCurve_</a>-&gt;correlation(t, strike); }</div>
</div><!-- fragment --><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_analytic_outperformance_option_engine_a2e21e5aeac93f5e130aa014f0f09ddb7_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_analytic_outperformance_option_engine_a2e21e5aeac93f5e130aa014f0f09ddb7_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_analytic_outperformance_option_engine_a2e21e5aeac93f5e130aa014f0f09ddb7_icgraph" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_a2e21e5aeac93f5e130aa014f0f09ddb7_icgraph">
<area shape="rect" title=" " alt="" coords="339,5,421,31"/>
<area shape="rect" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4" title=" " alt="" coords="251,5,291,31"/>
<area shape="rect" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="5,5,80,31"/>
<area shape="rect" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#af52008d9fa8b26e4cb02b0478a7d288d" title=" " alt="" coords="128,31,203,56"/>
</map>
</div>

</div>
</div>
<a id="a4d510e88fc119ae3563f1b7341c1f9f4" name="a4d510e88fc119ae3563f1b7341c1f9f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d510e88fc119ae3563f1b7341c1f9f4">&#9670;&#160;</a></span>rho()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Real rho </td>
          <td>(</td>
          <td class="paramtype">Time&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html#l00044">44</a> of file <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html">analyticoutperformanceoptionengine.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   44</span>{ <span class="keywordflow">return</span> std::max(std::min(<a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a2e21e5aeac93f5e130aa014f0f09ddb7">correlation</a>(t), 0.9999), -0.9999); }</div>
</div><!-- fragment --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_analytic_outperformance_option_engine_a4d510e88fc119ae3563f1b7341c1f9f4_cgraph.png" border="0" usemap="#aclass_quant_ext_1_1_analytic_outperformance_option_engine_a4d510e88fc119ae3563f1b7341c1f9f4_cgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_analytic_outperformance_option_engine_a4d510e88fc119ae3563f1b7341c1f9f4_cgraph" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_a4d510e88fc119ae3563f1b7341c1f9f4_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,45,31"/>
<area shape="rect" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a2e21e5aeac93f5e130aa014f0f09ddb7" title=" " alt="" coords="93,5,176,31"/>
</map>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_analytic_outperformance_option_engine_a4d510e88fc119ae3563f1b7341c1f9f4_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_analytic_outperformance_option_engine_a4d510e88fc119ae3563f1b7341c1f9f4_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_analytic_outperformance_option_engine_a4d510e88fc119ae3563f1b7341c1f9f4_icgraph" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_a4d510e88fc119ae3563f1b7341c1f9f4_icgraph">
<area shape="rect" title=" " alt="" coords="251,5,291,31"/>
<area shape="rect" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="5,5,80,31"/>
<area shape="rect" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#af52008d9fa8b26e4cb02b0478a7d288d" title=" " alt="" coords="128,31,203,56"/>
</map>
</div>

</div>
</div>
<a id="af52008d9fa8b26e4cb02b0478a7d288d" name="af52008d9fa8b26e4cb02b0478a7d288d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af52008d9fa8b26e4cb02b0478a7d288d">&#9670;&#160;</a></span>integrand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Real integrand </td>
          <td>(</td>
          <td class="paramtype">const Real&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>phi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>m1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>m2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>v2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>s2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>fixingTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="analyticoutperformanceoptionengine_8cpp_source.html#l00080">80</a> of file <a class="el" href="analyticoutperformanceoptionengine_8cpp_source.html">analyticoutperformanceoptionengine.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   80</span>                                                                                                                                                                                {</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>    <span class="comment">// this is Brigo, 13.16.2 with x = v / sqrt(2)</span></div>
<div class="line"><span class="lineno">   83</span>    Real v = M_SQRT2 * x;</div>
<div class="line"><span class="lineno">   84</span>    </div>
<div class="line"><span class="lineno">   85</span>    <span class="comment">//a positive real number &#39;a&#39;, a negative real number &#39;b&#39;</span></div>
<div class="line"><span class="lineno">   86</span>    Real a = 1 / i1;</div>
<div class="line"><span class="lineno">   87</span>    Real b = -1 / i2;</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    CumulativeNormalDistribution cnd;</div>
<div class="line"><span class="lineno">   90</span>    </div>
<div class="line"><span class="lineno">   91</span>    Real h =</div>
<div class="line"><span class="lineno">   92</span>        k - b * s2 * std::exp((m2 - 0.5 * v2 * v2) * fixingTime +</div>
<div class="line"><span class="lineno">   93</span>                                 v2 * std::sqrt(fixingTime) * v);</div>
<div class="line"><span class="lineno">   94</span>    Real phi1, phi2;</div>
<div class="line"><span class="lineno">   95</span>    phi1 = cnd(</div>
<div class="line"><span class="lineno">   96</span>        phi * (std::log(a * s1 / h) +</div>
<div class="line"><span class="lineno">   97</span>                (m1 + (0.5 - <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">rho</a>(fixingTime) * <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">rho</a>(fixingTime)) * v1 * v1) * fixingTime +</div>
<div class="line"><span class="lineno">   98</span>                <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">rho</a>(fixingTime) * v1 * std::sqrt(fixingTime) * v) /</div>
<div class="line"><span class="lineno">   99</span>        (v1 * std::sqrt(fixingTime * (1.0 - <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">rho</a>(fixingTime) * <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">rho</a>(fixingTime)))));</div>
<div class="line"><span class="lineno">  100</span>    phi2 = cnd(</div>
<div class="line"><span class="lineno">  101</span>        phi * (std::log(a * s1 / h) +</div>
<div class="line"><span class="lineno">  102</span>                (m1 - 0.5 * v1 * v1) * fixingTime +</div>
<div class="line"><span class="lineno">  103</span>                <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">rho</a>(fixingTime) * v1 * std::sqrt(fixingTime) * v) /</div>
<div class="line"><span class="lineno">  104</span>        (v1 * std::sqrt(fixingTime * (1.0 - <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">rho</a>(fixingTime) * <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">rho</a>(fixingTime)))));</div>
<div class="line"><span class="lineno">  105</span>    Real f = a * phi * s1 *</div>
<div class="line"><span class="lineno">  106</span>                 std::exp(m1 * fixingTime -</div>
<div class="line"><span class="lineno">  107</span>                          0.5 * <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">rho</a>(fixingTime) * <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">rho</a>(fixingTime) * v1 * v1 * fixingTime +</div>
<div class="line"><span class="lineno">  108</span>                          <a class="code hl_function" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4">rho</a>(fixingTime) * v1 * std::sqrt(fixingTime) * v) *</div>
<div class="line"><span class="lineno">  109</span>                 phi1 -</div>
<div class="line"><span class="lineno">  110</span>             phi * h * phi2;</div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">return</span> std::exp(-x * x) * f;</div>
<div class="line"><span class="lineno">  112</span>}</div>
</div><!-- fragment --><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_analytic_outperformance_option_engine_af52008d9fa8b26e4cb02b0478a7d288d_cgraph.png" border="0" usemap="#aclass_quant_ext_1_1_analytic_outperformance_option_engine_af52008d9fa8b26e4cb02b0478a7d288d_cgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_analytic_outperformance_option_engine_af52008d9fa8b26e4cb02b0478a7d288d_cgraph" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_af52008d9fa8b26e4cb02b0478a7d288d_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,80,31"/>
<area shape="rect" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a4d510e88fc119ae3563f1b7341c1f9f4" title=" " alt="" coords="128,5,168,31"/>
<area shape="rect" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a2e21e5aeac93f5e130aa014f0f09ddb7" title=" " alt="" coords="216,5,299,31"/>
</map>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_analytic_outperformance_option_engine_af52008d9fa8b26e4cb02b0478a7d288d_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_analytic_outperformance_option_engine_af52008d9fa8b26e4cb02b0478a7d288d_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_analytic_outperformance_option_engine_af52008d9fa8b26e4cb02b0478a7d288d_icgraph" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_af52008d9fa8b26e4cb02b0478a7d288d_icgraph">
<area shape="rect" title=" " alt="" coords="128,5,203,31"/>
<area shape="rect" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="5,5,80,31"/>
</map>
</div>

</div>
</div>
<a id="a1f47a5f22a4bb7551c369c24db5c2eb3" name="a1f47a5f22a4bb7551c369c24db5c2eb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f47a5f22a4bb7551c369c24db5c2eb3">&#9670;&#160;</a></span>getTodaysFxConversionRate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Real getTodaysFxConversionRate </td>
          <td>(</td>
          <td class="paramtype">const QuantLib::ext::shared_ptr&lt; <a class="el" href="class_quant_ext_1_1_fx_index.html">QuantExt::FxIndex</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>fxIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="analyticoutperformanceoptionengine_8cpp_source.html#l00031">31</a> of file <a class="el" href="analyticoutperformanceoptionengine_8cpp_source.html">analyticoutperformanceoptionengine.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   31</span>                                                                                                                              {</div>
<div class="line"><span class="lineno">   32</span>    <span class="comment">// The fx conversion rate as of today should always be taken from the market data, i.e. we should not use a</span></div>
<div class="line"><span class="lineno">   33</span>    <span class="comment">// historical fixing, even if it exists, because we should generate sensitivities to market fx spot rate changes.</span></div>
<div class="line"><span class="lineno">   34</span>    <span class="comment">// Furthermore, we can get the fx spot rate from the market data even if today is not a valid fixing date for the</span></div>
<div class="line"><span class="lineno">   35</span>    <span class="comment">// fx index, that is why we should not use Index::fixing(today, true).</span></div>
<div class="line"><span class="lineno">   36</span>    Real tmp;</div>
<div class="line"><span class="lineno">   37</span>    <span class="keywordflow">if</span> (fxIndex-&gt;useQuote()) {</div>
<div class="line"><span class="lineno">   38</span>        tmp = fxIndex-&gt;fxQuote()-&gt;value();</div>
<div class="line"><span class="lineno">   39</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   40</span>        tmp = ExchangeRateManager::instance()</div>
<div class="line"><span class="lineno">   41</span>                  .lookup(fxIndex-&gt;sourceCurrency(), fxIndex-&gt;targetCurrency())</div>
<div class="line"><span class="lineno">   42</span>                  .rate();</div>
<div class="line"><span class="lineno">   43</span>    }</div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordflow">return</span> tmp;</div>
<div class="line"><span class="lineno">   45</span>}</div>
</div><!-- fragment --><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_ext_1_1_analytic_outperformance_option_engine_a1f47a5f22a4bb7551c369c24db5c2eb3_icgraph.png" border="0" usemap="#aclass_quant_ext_1_1_analytic_outperformance_option_engine_a1f47a5f22a4bb7551c369c24db5c2eb3_icgraph" alt=""/></div>
<map name="aclass_quant_ext_1_1_analytic_outperformance_option_engine_a1f47a5f22a4bb7551c369c24db5c2eb3_icgraph" id="aclass_quant_ext_1_1_analytic_outperformance_option_engine_a1f47a5f22a4bb7551c369c24db5c2eb3_icgraph">
<area shape="rect" title=" " alt="" coords="128,5,315,31"/>
<area shape="rect" href="class_quant_ext_1_1_analytic_outperformance_option_engine.html#a61eb1a24e5329ccc296715a40dc3a19a" title=" " alt="" coords="5,5,80,31"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="aeb363f3becf227b87f2de6b651d6c8b3" name="aeb363f3becf227b87f2de6b651d6c8b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb363f3becf227b87f2de6b651d6c8b3">&#9670;&#160;</a></span>integrand_f</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class integrand_f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html#l00049">49</a> of file <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html">analyticoutperformanceoptionengine.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a40130e69f12f6a7b01e0b071f127cf08" name="a40130e69f12f6a7b01e0b071f127cf08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40130e69f12f6a7b01e0b071f127cf08">&#9670;&#160;</a></span>process1_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ext::shared_ptr&lt;GeneralizedBlackScholesProcess&gt; process1_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html#l00051">51</a> of file <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html">analyticoutperformanceoptionengine.hpp</a>.</p>

</div>
</div>
<a id="a09fceea60150abdef9b9664a0d055c2e" name="a09fceea60150abdef9b9664a0d055c2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09fceea60150abdef9b9664a0d055c2e">&#9670;&#160;</a></span>process2_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ext::shared_ptr&lt;GeneralizedBlackScholesProcess&gt; process2_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html#l00052">52</a> of file <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html">analyticoutperformanceoptionengine.hpp</a>.</p>

</div>
</div>
<a id="a4185bd3a15585bd0f2a40d005d22f520" name="a4185bd3a15585bd0f2a40d005d22f520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4185bd3a15585bd0f2a40d005d22f520">&#9670;&#160;</a></span>correlationCurve_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Handle&lt;<a class="el" href="class_quant_ext_1_1_correlation_term_structure.html">CorrelationTermStructure</a>&gt; correlationCurve_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html#l00054">54</a> of file <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html">analyticoutperformanceoptionengine.hpp</a>.</p>

</div>
</div>
<a id="ac8c8a1804f504aa0db436c06ac8e7ec2" name="ac8c8a1804f504aa0db436c06ac8e7ec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8c8a1804f504aa0db436c06ac8e7ec2">&#9670;&#160;</a></span>integrationPoints_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Size integrationPoints_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html#l00055">55</a> of file <a class="el" href="analyticoutperformanceoptionengine_8hpp_source.html">analyticoutperformanceoptionengine.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.9.5
</small></address>
</body>
</html>
