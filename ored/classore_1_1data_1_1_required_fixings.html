<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>OREData: RequiredFixings Class Reference</title>
<link href="https://fonts.googleapis.com/css?family=Merriweather+Sans|Open+Sans" rel="stylesheet">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="favicon.png">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="OREData"/>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="oredextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname"><a href="http://opensourcerisk.org">
       <img src="logo-data@2x.png" alt="Logo" width="150" height="68" style="float: left; padding: 15px;"/></a>
   <div id="projectbrief">Reference manual - version ored_version</div>
   </div>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,true,'search.php','Search');
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceore.html">ore</a></li><li class="navelem"><a class="el" href="namespaceore_1_1data.html">data</a></li><li class="navelem"><a class="el" href="classore_1_1data_1_1_required_fixings.html">RequiredFixings</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classore_1_1data_1_1_required_fixings-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RequiredFixings Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;ored/portfolio/fixingdates.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a18b423a4a1d65ae59f83314ad7bc191f"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, std::set&lt; QuantLib::Date &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_required_fixings.html#a18b423a4a1d65ae59f83314ad7bc191f">fixingDatesIndices</a> (const QuantLib::Date &amp;settlementDate=QuantLib::Date()) const</td></tr>
<tr class="separator:a18b423a4a1d65ae59f83314ad7bc191f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae12e0cc681b4cc2d31b7ee2acc16e99c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_required_fixings.html#ae12e0cc681b4cc2d31b7ee2acc16e99c">addFixingDate</a> (const QuantLib::Date &amp;fixingDate, const std::string &amp;indexName, const QuantLib::Date &amp;payDate=Date::maxDate(), const bool alwaysAddIfPaysOnSettlement=false)</td></tr>
<tr class="separator:ae12e0cc681b4cc2d31b7ee2acc16e99c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75ba515fe0f8043b427bd54677dfa51c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_required_fixings.html#a75ba515fe0f8043b427bd54677dfa51c">addFixingDates</a> (const std::vector&lt; QuantLib::Date &gt; &amp;fixingDates, const std::string &amp;indexName, const QuantLib::Date &amp;payDate=Date::maxDate(), const bool alwaysAddIfPaysOnSettlement=false)</td></tr>
<tr class="separator:a75ba515fe0f8043b427bd54677dfa51c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73e38e0bce977019cf9b28d7ffe38763"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_required_fixings.html#a73e38e0bce977019cf9b28d7ffe38763">addZeroInflationFixingDate</a> (const QuantLib::Date &amp;fixingDate, const std::string &amp;indexName, const bool indexInterpolated, const Frequency indexFrequency, const Period &amp;indexAvailabilityLag, const CPI::InterpolationType coupopnInterpolation, const Frequency couponFrequency, const QuantLib::Date &amp;payDate=Date::maxDate(), const bool alwaysAddIfPaysOnSettlement=false)</td></tr>
<tr class="separator:a73e38e0bce977019cf9b28d7ffe38763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ba561fec2cf07ba236886b9bb7f513b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_required_fixings.html#a2ba561fec2cf07ba236886b9bb7f513b">addYoYInflationFixingDate</a> (const QuantLib::Date &amp;fixingDate, const std::string &amp;indexName, const bool indexInterpolated, const Frequency indexFrequency, const Period &amp;indexAvailabilityLag, const QuantLib::Date &amp;payDate=Date::maxDate(), const bool alwaysAddIfPaysOnSettlement=false)</td></tr>
<tr class="separator:a2ba561fec2cf07ba236886b9bb7f513b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8bb3912a3ce86b15842e79d0b421204"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_required_fixings.html#ac8bb3912a3ce86b15842e79d0b421204">clear</a> ()</td></tr>
<tr class="separator:ac8bb3912a3ce86b15842e79d0b421204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6239d4397d1d7eb1de886f13bdc8d9d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_required_fixings.html#a6239d4397d1d7eb1de886f13bdc8d9d4">addData</a> (const <a class="el" href="classore_1_1data_1_1_required_fixings.html">RequiredFixings</a> &amp;requiredFixings)</td></tr>
<tr class="separator:a6239d4397d1d7eb1de886f13bdc8d9d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a497f63080ba1d28c0cd0d23a9f2f81d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_required_fixings.html#a497f63080ba1d28c0cd0d23a9f2f81d5">unsetPayDates</a> ()</td></tr>
<tr class="separator:a497f63080ba1d28c0cd0d23a9f2f81d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:acdc6807f45044ec4632c4400916ceb5e"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_required_fixings.html#acdc6807f45044ec4632c4400916ceb5e">operator&lt;&lt;</a> (std::ostream &amp;, const <a class="el" href="classore_1_1data_1_1_required_fixings.html">RequiredFixings</a> &amp;)</td></tr>
<tr class="separator:acdc6807f45044ec4632c4400916ceb5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class holding the information on the fixings required to price a trade (or a portfolio of trades). </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a18b423a4a1d65ae59f83314ad7bc191f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18b423a4a1d65ae59f83314ad7bc191f">&#9670;&nbsp;</a></span>fixingDatesIndices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, std::set&lt;QuantLib::Date&gt; &gt; fixingDatesIndices </td>
          <td>(</td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code>QuantLib::Date()</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gives back the dates for which fixings will be required to price the trade assuming a given <code>settlementDate</code>. If the <code>settlementDate</code> is not provided or is set equal to <code>QuantLib::Date()</code>, the settlement date in the implementation is assumed to be the <code>Settings::instance()</code>.evaluationDate().</p>
<p>If a cashflow payment is deemed to have already occurred relative to the settlement date, then no fixing is needed. The determination of whether a cashflow has or has not occurred will in general rely on a call to <code>CashFlow::hasOccurred</code> which is important in cases where the cash flow payment date falls on the settlement date.</p>
<p>Another important case is where a cash flow fixing date occurs on the settlement date. In this case, we should always add the fixing date to the set of fixing dates regardless of <code>Settings::instance()</code>.enforcesTodaysHistoricFixings(). </p>

</div>
</div>
<a id="ae12e0cc681b4cc2d31b7ee2acc16e99c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae12e0cc681b4cc2d31b7ee2acc16e99c">&#9670;&nbsp;</a></span>addFixingDate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addFixingDate </td>
          <td>(</td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>fixingDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>indexName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>payDate</em> = <code>Date::maxDate()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>alwaysAddIfPaysOnSettlement</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a single fixing date <code>fixingDate</code> for an index given by its ORE index name <code>indexName</code> arising from a coupon with payment date <code>payDate</code>. If <code>alwaysAddIfPaysOnSettlement</code> is true the fixing date will be added if the coupon pays on the settlement date even if the cashflow returns hasOccured(settlementDate) as true. This is conservative and necessary in some cases since some pricing engines in QL (e.g. <a class="el" href="classore_1_1data_1_1_cap_floor.html" title="Serializable cap, floor, collar.">CapFloor</a>) do not respect hasOccured() and ask for the fixing regardless. If the payDate is not given, it defaults to Date::maxDate() meaning that the added fixing is relevant unconditional on a pay date </p>

</div>
</div>
<a id="a75ba515fe0f8043b427bd54677dfa51c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75ba515fe0f8043b427bd54677dfa51c">&#9670;&nbsp;</a></span>addFixingDates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addFixingDates </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; QuantLib::Date &gt; &amp;&#160;</td>
          <td class="paramname"><em>fixingDates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>indexName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>payDate</em> = <code>Date::maxDate()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>alwaysAddIfPaysOnSettlement</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>adds a vector of fixings dates <code>fixingDates</code> for an index given by is ORE index name <code>indexName</code> arising from a coupon with payment date <code>payDate</code> </p>

</div>
</div>
<a id="a73e38e0bce977019cf9b28d7ffe38763"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73e38e0bce977019cf9b28d7ffe38763">&#9670;&nbsp;</a></span>addZeroInflationFixingDate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addZeroInflationFixingDate </td>
          <td>(</td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>fixingDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>indexName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>indexInterpolated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Frequency&#160;</td>
          <td class="paramname"><em>indexFrequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Period &amp;&#160;</td>
          <td class="paramname"><em>indexAvailabilityLag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CPI::InterpolationType&#160;</td>
          <td class="paramname"><em>coupopnInterpolation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Frequency&#160;</td>
          <td class="paramname"><em>couponFrequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>payDate</em> = <code>Date::maxDate()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>alwaysAddIfPaysOnSettlement</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>add a single fixing date <code>fixingDate</code> for a coupon based on a zero inflation index given by its ORE index name <code>indexName</code> with payment date <code>payDate</code> </p>

</div>
</div>
<a id="a2ba561fec2cf07ba236886b9bb7f513b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ba561fec2cf07ba236886b9bb7f513b">&#9670;&nbsp;</a></span>addYoYInflationFixingDate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addYoYInflationFixingDate </td>
          <td>(</td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>fixingDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>indexName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>indexInterpolated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Frequency&#160;</td>
          <td class="paramname"><em>indexFrequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Period &amp;&#160;</td>
          <td class="paramname"><em>indexAvailabilityLag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QuantLib::Date &amp;&#160;</td>
          <td class="paramname"><em>payDate</em> = <code>Date::maxDate()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>alwaysAddIfPaysOnSettlement</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>add a single fixing date <code>fixingDate</code> for a coupon based on a yoy inflation index given by its ORE index name <code>indexName</code> with payment date <code>payDate</code> </p>

</div>
</div>
<a id="ac8bb3912a3ce86b15842e79d0b421204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8bb3912a3ce86b15842e79d0b421204">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>clear all data </p>

</div>
</div>
<a id="a6239d4397d1d7eb1de886f13bdc8d9d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6239d4397d1d7eb1de886f13bdc8d9d4">&#9670;&nbsp;</a></span>addData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classore_1_1data_1_1_required_fixings.html">RequiredFixings</a> &amp;&#160;</td>
          <td class="paramname"><em>requiredFixings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>add data from another <a class="el" href="classore_1_1data_1_1_required_fixings.html">RequiredFixings</a> instance </p>

</div>
</div>
<a id="a497f63080ba1d28c0cd0d23a9f2f81d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a497f63080ba1d28c0cd0d23a9f2f81d5">&#9670;&nbsp;</a></span>unsetPayDates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unsetPayDates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set all pay dates to Date::maxDate(), <a class="el" href="classore_1_1data_1_1_required_fixings.html#a18b423a4a1d65ae59f83314ad7bc191f">fixingDatesIndices()</a> will then not filter the required fixings by the given settlement date any more. Needed by total return swaps on bonds for example, where a cashflow in a bond with past payment date can still be relevant for the payment of the current return period. </p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="acdc6807f45044ec4632c4400916ceb5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdc6807f45044ec4632c4400916ceb5e">&#9670;&nbsp;</a></span>operator&lt;&lt;</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classore_1_1data_1_1_required_fixings.html">RequiredFixings</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>allow output of required fixings data via streams </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.8.20
</small></address>
</body>
</html>
