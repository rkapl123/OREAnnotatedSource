<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<title>OREData: ored/scripting/models/fdgaussiancam.cpp Source File</title>
<link href="https://fonts.googleapis.com/css?family=Merriweather+Sans|Open+Sans" rel="stylesheet">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="favicon.png">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="oredextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname"><a href="https://rkapl123.github.io/OREAnnotatedSource/">
       <img src="logo-data@2x.png" alt="Logo" width="150" height="68" style="float: left; padding: 15px;"/></a>
   <div id="projectbrief">Fully annotated reference manual - version 1.8.12</div>
   </div>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3e56cb31e3027d5bae8796cb64b50d07.html">ored</a></li><li class="navelem"><a class="el" href="dir_5ec8a1e1d14eaa47b1b0e648274be507.html">scripting</a></li><li class="navelem"><a class="el" href="dir_f42446cc52b32b57df5f03cb32d31df7.html">models</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">fdgaussiancam.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="fdgaussiancam_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> Copyright (C) 2024 Quaternion Risk Management Ltd</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> All rights reserved.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"></span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> This file is part of ORE, a free-software/open-source library</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> for transparent pricing and risk analysis - http://opensourcerisk.org</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"></span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"> ORE is free software: you can redistribute it and/or modify it</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment"> under the terms of the Modified BSD License.  You should have received a</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment"> copy of the license along with this program.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"> The license is also available online at &lt;http://opensourcerisk.org&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"></span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment"> This program is distributed on the basis that it will form a useful</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> contribution to risk analytics and model standardisation, but WITHOUT</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment"> ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment"> FITNESS FOR A PARTICULAR PURPOSE. See the license for more details.</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">*/</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;<a class="code" href="fdgaussiancam_8hpp.html">ored/scripting/models/fdgaussiancam.hpp</a>&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;<a class="code" href="indexparser_8hpp.html">ored/utilities/indexparser.hpp</a>&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;<a class="code" href="log_8hpp.html">ored/utilities/log.hpp</a>&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;<a class="code" href="parsers_8hpp.html">ored/utilities/parsers.hpp</a>&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;<a class="code" href="to__string_8hpp.html">ored/utilities/to_string.hpp</a>&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;<a class="codeRef" href="../qle/averageonindexedcoupon_8hpp.html">qle/cashflows/averageonindexedcoupon.hpp</a>&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &lt;<a class="codeRef" href="../qle/averageonindexedcouponpricer_8hpp.html">qle/cashflows/averageonindexedcouponpricer.hpp</a>&gt;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &lt;<a class="codeRef" href="../qle/overnightindexedcoupon_8hpp.html">qle/cashflows/overnightindexedcoupon.hpp</a>&gt;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &lt;<a class="codeRef" href="../qle/flatextrapolation_8hpp.html">qle/math/flatextrapolation.hpp</a>&gt;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &lt;<a class="codeRef" href="../qle/crossassetmodel_8hpp.html">qle/models/crossassetmodel.hpp</a>&gt;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &lt;qle/models/lgmfdsolver.hpp&gt;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &lt;<a class="codeRef" href="../qle/lgmvectorised_8hpp.html">qle/models/lgmvectorised.hpp</a>&gt;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &lt;ql/math/comparison.hpp&gt;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &lt;ql/quotes/simplequote.hpp&gt;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span> </div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespaceore.html">ore</a> {</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="keyword">namespace </span><a class="code hl_enumvalue" href="log_8hpp.html#a08cf33440c824c6fda734c566a726536a604ac82e88d7a367d4c2830411520c2b">data</a> {</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespace_quant_lib.html">QuantLib</a>;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespace_quant_ext.html">QuantExt</a>;</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#af27ae6b1b181423552ea0b2765bb1289">   43</a></span><a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#af27ae6b1b181423552ea0b2765bb1289">FdGaussianCam::FdGaussianCam</a>(<span class="keyword">const</span> Handle&lt;CrossAssetModel&gt;&amp; cam, <span class="keyword">const</span> std::string&amp; currency,</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>                             <span class="keyword">const</span> Handle&lt;YieldTermStructure&gt;&amp; curve,</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>                             <span class="keyword">const</span> std::vector&lt;std::pair&lt;std::string, QuantLib::ext::shared_ptr&lt;InterestRateIndex&gt;&gt;&gt;&amp; irIndices,</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>                             <span class="keyword">const</span> std::set&lt;Date&gt;&amp; simulationDates, <span class="keyword">const</span> Size stateGridPoints,</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>                             <span class="keyword">const</span> Size timeStepsPerYear, <span class="keyword">const</span> Real mesherEpsilon,</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>                             <span class="keyword">const</span> <a class="code hl_class" href="classore_1_1data_1_1_ibor_fallback_config.html">IborFallbackConfig</a>&amp; iborFallbackConfig)</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    : <a class="code hl_class" href="classore_1_1data_1_1_model_impl.html">ModelImpl</a>(curve-&gt;dayCounter(), stateGridPoints, {currency}, irIndices, {}, {}, {}, simulationDates,</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>                iborFallbackConfig),</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>      cam_(cam), currency_(currency), curve_(curve), simulationDates_(simulationDates),</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>      stateGridPoints_(stateGridPoints), timeStepsPerYear_(timeStepsPerYear), mesherEpsilon_(mesherEpsilon),</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>      iborFallbackConfig_(iborFallbackConfig) {</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> </div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <span class="comment">// check inputs</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    QL_REQUIRE(!cam_.empty(), <span class="stringliteral">&quot;model is empty&quot;</span>);</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="comment">// register with observables</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    registerWith(curve_);</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    registerWith(cam_);</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>} <span class="comment">// FdGaussianCam ctor</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#a5ce8b0af276b7c06ab424e688ae2d318">   65</a></span><span class="keyword">const</span> Date&amp; <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a5ce8b0af276b7c06ab424e688ae2d318">FdGaussianCam::referenceDate</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    calculate();</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a3e22290961d6b56dce069c1c4fda6386">referenceDate_</a>;</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>}</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#a15aa444a844bc8f8670058816b9dcc0c">   70</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a15aa444a844bc8f8670058816b9dcc0c">FdGaussianCam::releaseMemory</a>() { <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a343681da14ddb8f9e59360718bcf1958">irIndexValueCache_</a>.clear(); }</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#a1127cccc9668a02247dc139d27121708">   72</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a1127cccc9668a02247dc139d27121708">FdGaussianCam::performCalculations</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span> </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a001bb63efebee06b5709a54b584ddcfe">simulationDates_</a>.empty())</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span> </div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="comment">// set ref date</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a3e22290961d6b56dce069c1c4fda6386">referenceDate_</a> = <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a82b9439e25e6f1499a1235fc030c3a90">curve_</a>-&gt;referenceDate();</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span> </div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <span class="comment">// build solver</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a34307aa5d9d025e9532cbfa24e683523">solver_</a> = std::unique_ptr&lt;LgmBackwardSolver&gt;(</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>        <span class="keyword">new</span> LgmFdSolver(<a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a7d1d55537737e7d31a2b37631bd5d3e6">cam_</a>-&gt;lgm(0), <a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(*<a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a001bb63efebee06b5709a54b584ddcfe">simulationDates_</a>.rbegin()), QuantLib::FdmSchemeDesc::Douglas(),</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>                        <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a85fc50a41ae526a50ff150845481fb04">stateGridPoints_</a>, <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a9c25c7000e01433677e04eae138ff831">timeStepsPerYear_</a>, <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a1e68b2960fb2bbea874baafc376e1b3b">mesherEpsilon_</a>));</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="comment">// set up eff sim dates</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a9356ce4490b329fbfbad73fa28841898">effectiveSimulationDates_</a>.clear();</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a9356ce4490b329fbfbad73fa28841898">effectiveSimulationDates_</a>.insert(<a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a5ce8b0af276b7c06ab424e688ae2d318">referenceDate</a>());</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; d : <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a001bb63efebee06b5709a54b584ddcfe">simulationDates_</a>) {</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>        <span class="keywordflow">if</span> (d &gt;= <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a5ce8b0af276b7c06ab424e688ae2d318">referenceDate</a>())</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>            <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a9356ce4490b329fbfbad73fa28841898">effectiveSimulationDates_</a>.insert(d);</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    }</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="comment">// set additional results provided by this model</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="keyword">auto</span> ar = <a class="code hl_functionRef" href="../qle/namespace_quant_ext.html#a1d71cdc38f161635a4ad63b3e2cb67ef">getAdditionalResultsMap</a>(<a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a7d1d55537737e7d31a2b37631bd5d3e6">cam_</a>-&gt;lgm(0)-&gt;getCalibrationInfo());</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <a class="code hl_variable" href="classore_1_1data_1_1_model.html#a389467bfea77ee951d34ed713f00d333">additionalResults_</a>.insert(ar.begin(), ar.end());</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>}</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#a1750263c28cbb6063301d48df87c0541">  102</a></span><a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a> <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a1750263c28cbb6063301d48df87c0541">FdGaussianCam::getFutureBarrierProb</a>(<span class="keyword">const</span> std::string&amp; index, <span class="keyword">const</span> Date&amp; obsdate1, <span class="keyword">const</span> Date&amp; obsdate2,</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>                                                   <span class="keyword">const</span> <a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a>&amp; barrier, <span class="keyword">const</span> <span class="keywordtype">bool</span> above)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    QL_FAIL(<span class="stringliteral">&quot;getFutureBarrierProb not implemented by FdGaussianCam&quot;</span>);</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>}</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#ac2531b45af9259f8b3af891fac9f5d03">  107</a></span><a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a> <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#ac2531b45af9259f8b3af891fac9f5d03">FdGaussianCam::getIndexValue</a>(<span class="keyword">const</span> Size indexNo, <span class="keyword">const</span> Date&amp; d, <span class="keyword">const</span> Date&amp; fwd)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    QL_FAIL(<span class="stringliteral">&quot;FdGaussianGam::getIndexValue(): non-ir indices are not allowed, got fx/eq/com index #&quot;</span> &lt;&lt; indexNo);</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>}</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#a31ea941e2c5742d1de925abc758a422e">  111</a></span><a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a> <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a31ea941e2c5742d1de925abc758a422e">FdGaussianCam::getIrIndexValue</a>(<span class="keyword">const</span> Size indexNo, <span class="keyword">const</span> Date&amp; d, <span class="keyword">const</span> Date&amp; fwd)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    Date <a class="code hl_functionRef" href="../qle/namespace_quant_ext_1_1_zero_inflation.html#a57de786c1c8988b6da9d354282b4b370">fixingDate</a> = d;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="keywordflow">if</span> (fwd != Null&lt;Date&gt;())</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>        <a class="code hl_functionRef" href="../qle/namespace_quant_ext_1_1_zero_inflation.html#a57de786c1c8988b6da9d354282b4b370">fixingDate</a> = fwd;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="comment">// ensure a valid fixing date</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <a class="code hl_functionRef" href="../qle/namespace_quant_ext_1_1_zero_inflation.html#a57de786c1c8988b6da9d354282b4b370">fixingDate</a> = <a class="code hl_variable" href="classore_1_1data_1_1_model_impl.html#aa91202692df7316a0cee91b39edf9ff8">irIndices_</a>[indexNo].second-&gt;fixingCalendar().adjust(<a class="code hl_functionRef" href="../qle/namespace_quant_ext_1_1_zero_inflation.html#a57de786c1c8988b6da9d354282b4b370">fixingDate</a>);</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">// look up required fixing in cache and return it if found</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <span class="keywordflow">if</span> (<span class="keyword">auto</span> cacheValue = <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a343681da14ddb8f9e59360718bcf1958">irIndexValueCache_</a>.find(std::make_tuple(indexNo, d, <a class="code hl_functionRef" href="../qle/namespace_quant_ext_1_1_zero_inflation.html#a57de786c1c8988b6da9d354282b4b370">fixingDate</a>));</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        cacheValue != <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a343681da14ddb8f9e59360718bcf1958">irIndexValueCache_</a>.end()) {</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>        <span class="keywordflow">return</span> cacheValue-&gt;second;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    }</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <span class="comment">// compute value, add to cache and return it</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    <a class="code hl_classRef" href="../qle/class_quant_ext_1_1_lgm_vectorised.html">LgmVectorised</a> lgmv(<a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a7d1d55537737e7d31a2b37631bd5d3e6">cam_</a>-&gt;irlgm1f(0));</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="keyword">auto</span> result = lgmv.<a class="code hl_functionRef" href="../qle/class_quant_ext_1_1_lgm_vectorised.html#a671bc1fefafaf56ae7028084cec2ac5c">fixing</a>(<a class="code hl_variable" href="classore_1_1data_1_1_model_impl.html#aa91202692df7316a0cee91b39edf9ff8">irIndices_</a>[indexNo].second, <a class="code hl_functionRef" href="../qle/namespace_quant_ext_1_1_zero_inflation.html#a57de786c1c8988b6da9d354282b4b370">fixingDate</a>, <a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(d),</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>                              <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a34307aa5d9d025e9532cbfa24e683523">solver_</a>-&gt;stateGrid(<a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(d)));</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    result.<a class="code hl_functionRef" href="../qle/struct_quant_ext_1_1_random_variable.html#a7715599b27d9f0c69d0abd43a2469dd2">setTime</a>(<a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(d));</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a343681da14ddb8f9e59360718bcf1958">irIndexValueCache_</a>[std::make_tuple(indexNo, d, <a class="code hl_functionRef" href="../qle/namespace_quant_ext_1_1_zero_inflation.html#a57de786c1c8988b6da9d354282b4b370">fixingDate</a>)] = result;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>}</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#a0e7b4b054beda325e75ce61b56405d20">  131</a></span><a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a> <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a0e7b4b054beda325e75ce61b56405d20">FdGaussianCam::getInfIndexValue</a>(<span class="keyword">const</span> Size indexNo, <span class="keyword">const</span> Date&amp; d, <span class="keyword">const</span> Date&amp; fwd)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    QL_FAIL(<span class="stringliteral">&quot;FdGaussianGam::getInfIndexValue(): non-ir indices are not allowed, got inf index #&quot;</span> &lt;&lt; indexNo);</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>}</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#aef2fa78219e2206833d4d8f63bf20a70">  135</a></span><a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a> <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#aef2fa78219e2206833d4d8f63bf20a70">FdGaussianCam::fwdCompAvg</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> isAvg, <span class="keyword">const</span> std::string&amp; indexInput, <span class="keyword">const</span> Date&amp; obsdate,</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>                                         <span class="keyword">const</span> Date&amp; start, <span class="keyword">const</span> Date&amp; end, <span class="keyword">const</span> Real spread, <span class="keyword">const</span> Real gearing,</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>                                         <span class="keyword">const</span> Integer lookback, <span class="keyword">const</span> Natural rateCutoff, <span class="keyword">const</span> Natural fixingDays,</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>                                         <span class="keyword">const</span> <span class="keywordtype">bool</span> includeSpread, <span class="keyword">const</span> Real cap, <span class="keyword">const</span> Real floor,</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>                                         <span class="keyword">const</span> <span class="keywordtype">bool</span> nakedOption, <span class="keyword">const</span> <span class="keywordtype">bool</span> localCapFloor)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    calculate();</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="keyword">auto</span> ir = std::find_if(<a class="code hl_variable" href="classore_1_1data_1_1_model_impl.html#aa91202692df7316a0cee91b39edf9ff8">irIndices_</a>.begin(), <a class="code hl_variable" href="classore_1_1data_1_1_model_impl.html#aa91202692df7316a0cee91b39edf9ff8">irIndices_</a>.end(),</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>                           [&amp;indexInput](<span class="keyword">const</span> std::pair&lt;<a class="code hl_class" href="classore_1_1data_1_1_index_info.html">IndexInfo</a>, QuantLib::ext::shared_ptr&lt;InterestRateIndex&gt;&gt;&amp; p) {</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>                               return p.first.name() == indexInput;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>                           });</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    QL_REQUIRE(ir != <a class="code hl_variable" href="classore_1_1data_1_1_model_impl.html#aa91202692df7316a0cee91b39edf9ff8">irIndices_</a>.end(),</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>               <span class="stringliteral">&quot;FdGaussianCam::fwdComp() ir index &quot;</span> &lt;&lt; indexInput &lt;&lt; <span class="stringliteral">&quot; not found, this is unexpected&quot;</span>);</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <a class="code hl_classRef" href="../qle/class_quant_ext_1_1_lgm_vectorised.html">LgmVectorised</a> lgmv(<a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a7d1d55537737e7d31a2b37631bd5d3e6">cam_</a>-&gt;lgm(0)-&gt;parametrization());</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keyword">auto</span> on = QuantLib::ext::dynamic_pointer_cast&lt;OvernightIndex&gt;(ir-&gt;second);</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    QL_REQUIRE(on, <span class="stringliteral">&quot;FdGaussianCam::fwdCompAvg(): expected on index for &quot;</span> &lt;&lt; indexInput);</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="comment">// only used to extract fixing and value dates</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <span class="keyword">auto</span> coupon = QuantLib::ext::make_shared&lt;QuantExt::OvernightIndexedCoupon&gt;(</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        end, 1.0, start, end, on, gearing, spread, Date(), Date(), DayCounter(), <span class="keyword">false</span>, includeSpread, lookback * Days,</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        rateCutoff, fixingDays);</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="comment">// get model time and state</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    Date effobsdate = std::max(<a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a5ce8b0af276b7c06ab424e688ae2d318">referenceDate</a>(), obsdate);</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    <span class="keywordflow">if</span> (isAvg) {</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>        <span class="keywordflow">return</span> lgmv.<a class="code hl_functionRef" href="../qle/class_quant_ext_1_1_lgm_vectorised.html#a8505d38cea841723efcc7a86be4cc17c">averagedOnRate</a>(on, coupon-&gt;fixingDates(), coupon-&gt;valueDates(), coupon-&gt;dt(), rateCutoff,</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>                                   includeSpread, spread, gearing, lookback * Days, cap, floor, localCapFloor,</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>                                   nakedOption, <a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(effobsdate),</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>                                   <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a34307aa5d9d025e9532cbfa24e683523">solver_</a>-&gt;stateGrid(<a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(effobsdate)));</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>        <span class="keywordflow">return</span> lgmv.<a class="code hl_functionRef" href="../qle/class_quant_ext_1_1_lgm_vectorised.html#adcedfb8f7afb7a01b13fd94a8db8cf70">compoundedOnRate</a>(on, coupon-&gt;fixingDates(), coupon-&gt;valueDates(), coupon-&gt;dt(), rateCutoff,</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>                                     includeSpread, spread, gearing, lookback * Days, cap, floor, localCapFloor,</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>                                     nakedOption, <a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(effobsdate),</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>                                     <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a34307aa5d9d025e9532cbfa24e683523">solver_</a>-&gt;stateGrid(<a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(effobsdate)));</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    }</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>}</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#abb84774b08d6924094481e3ed5821a8d">  169</a></span><a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a> <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#abb84774b08d6924094481e3ed5821a8d">FdGaussianCam::getDiscount</a>(<span class="keyword">const</span> Size idx, <span class="keyword">const</span> Date&amp; s, <span class="keyword">const</span> Date&amp; t)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <a class="code hl_classRef" href="../qle/class_quant_ext_1_1_lgm_vectorised.html">LgmVectorised</a> lgmv(<a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a7d1d55537737e7d31a2b37631bd5d3e6">cam_</a>-&gt;lgm(0)-&gt;parametrization());</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <span class="keywordflow">return</span> lgmv.<a class="code hl_functionRef" href="../qle/class_quant_ext_1_1_lgm_vectorised.html#a15fad90a72085470b1ed2e93a9f23b2d">discountBond</a>(<a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(s), <a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(t), <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a34307aa5d9d025e9532cbfa24e683523">solver_</a>-&gt;stateGrid(<a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(s)));</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>}</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span> </div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#a698c2421ff0b896c0388b6d6477cd7b6">  174</a></span><a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a> <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a698c2421ff0b896c0388b6d6477cd7b6">FdGaussianCam::getNumeraire</a>(<span class="keyword">const</span> Date&amp; s)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <a class="code hl_classRef" href="../qle/class_quant_ext_1_1_lgm_vectorised.html">LgmVectorised</a> lgmv(<a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a7d1d55537737e7d31a2b37631bd5d3e6">cam_</a>-&gt;lgm(0)-&gt;parametrization());</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="keywordflow">return</span> lgmv.<a class="code hl_functionRef" href="../qle/class_quant_ext_1_1_lgm_vectorised.html#a86173b3bbe1056659300044528205102">numeraire</a>(<a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(s), <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a34307aa5d9d025e9532cbfa24e683523">solver_</a>-&gt;stateGrid(<a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(s)));</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>}</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span> </div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#a3430beef258b2f54144fc121011267e6">  179</a></span>Real <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a3430beef258b2f54144fc121011267e6">FdGaussianCam::getFxSpot</a>(<span class="keyword">const</span> Size idx)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    QL_FAIL(<span class="stringliteral">&quot;FdGaussianCam::getFxSpot(): this is a single ccy model, there is no fx spot for idx &quot;</span> &lt;&lt; idx</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>                                                                                                   &lt;&lt; <span class="stringliteral">&quot; available.&quot;</span>);</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>}</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#ab648089ec0ba2f1040ed8da9885ec6a3">  184</a></span><a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a> <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#ab648089ec0ba2f1040ed8da9885ec6a3">FdGaussianCam::pay</a>(<span class="keyword">const</span> <a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a>&amp; amount, <span class="keyword">const</span> Date&amp; obsdate, <span class="keyword">const</span> Date&amp; paydate,</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>                                  <span class="keyword">const</span> std::string&amp; currency)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keyword">auto</span> result = <a class="code hl_function" href="classore_1_1data_1_1_model_impl.html#ab648089ec0ba2f1040ed8da9885ec6a3">ModelImpl::pay</a>(amount, obsdate, paydate, currency);</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    result.setTime(<a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(obsdate));</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>}</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#a32a74f796461167901dcb7df1c74cbba">  191</a></span><a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a> <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a32a74f796461167901dcb7df1c74cbba">FdGaussianCam::npv</a>(<span class="keyword">const</span> <a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a>&amp; amount, <span class="keyword">const</span> Date&amp; obsdate, <span class="keyword">const</span> <a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_filter.html">Filter</a>&amp; <a class="code hl_variable" href="computationgraphbuilder_8cpp.html#abd640cc39af07965a8475be310893006">filter</a>,</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>                                  <span class="keyword">const</span> boost::optional&lt;long&gt;&amp; memSlot, <span class="keyword">const</span> <a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a>&amp; addRegressor1,</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>                                  <span class="keyword">const</span> <a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a>&amp; addRegressor2)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span> </div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    QL_REQUIRE(!memSlot, <span class="stringliteral">&quot;FdGaussianCam::npv(): mem slot not allowed.&quot;</span>);</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    QL_REQUIRE(!<a class="code hl_variable" href="computationgraphbuilder_8cpp.html#abd640cc39af07965a8475be310893006">filter</a>.initialised(), <span class="stringliteral">&quot;FdGaussianCam::npv(): filter not allowed&quot;</span>);</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    QL_REQUIRE(!addRegressor1.<a class="code hl_functionRef" href="../qle/struct_quant_ext_1_1_random_variable.html#adaeda39d7b8cc716a40c4da65b00ba77">initialised</a>(), <span class="stringliteral">&quot;FdGaussianCam::npv(). addRegressor1 not allowed&quot;</span>);</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    QL_REQUIRE(!addRegressor2.<a class="code hl_functionRef" href="../qle/struct_quant_ext_1_1_random_variable.html#adaeda39d7b8cc716a40c4da65b00ba77">initialised</a>(), <span class="stringliteral">&quot;FdGaussianCam::npv(). addRegressor2 not allowed&quot;</span>);</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    calculate();</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    Real t1 = amount.<a class="code hl_functionRef" href="../qle/struct_quant_ext_1_1_random_variable.html#a769e6c6c6680ce0b532bc4efa48db44f">time</a>();</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    Real t0 = <a class="code hl_function" href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">timeFromReference</a>(obsdate);</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <span class="comment">// handle case when amount is deterministic</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span> </div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <span class="keywordflow">if</span> (amount.<a class="code hl_functionRef" href="../qle/struct_quant_ext_1_1_random_variable.html#a6e0fdc031c26ed1d1a956019d2cee4a1">deterministic</a>()) {</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        <a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a> result(amount);</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>        result.<a class="code hl_functionRef" href="../qle/struct_quant_ext_1_1_random_variable.html#a7715599b27d9f0c69d0abd43a2469dd2">setTime</a>(t0);</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    }</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span> </div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <span class="comment">// handle stochastic amount</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    QL_REQUIRE(t1 != Null&lt;Real&gt;(),</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>               <span class="stringliteral">&quot;FdGaussianCam::npv(): can not roll back amount wiithout time attached (to t0=&quot;</span> &lt;&lt; t0 &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a> result = <a class="code hl_variable" href="classore_1_1data_1_1_fd_gaussian_cam.html#a34307aa5d9d025e9532cbfa24e683523">solver_</a>-&gt;rollback(amount, t1, t0);</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    result.<a class="code hl_functionRef" href="../qle/struct_quant_ext_1_1_random_variable.html#a7715599b27d9f0c69d0abd43a2469dd2">setTime</a>(t0);</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>}</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno"><a class="line" href="classore_1_1data_1_1_fd_gaussian_cam.html#a8462ba47ae7fbc571ced62f9fdc8a1b8">  222</a></span>Real <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a8462ba47ae7fbc571ced62f9fdc8a1b8">FdGaussianCam::extractT0Result</a>(<span class="keyword">const</span> <a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a>&amp; result)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span> </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    calculate();</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="comment">// roll back to today (if necessary)</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a> r = <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a32a74f796461167901dcb7df1c74cbba">npv</a>(result, <a class="code hl_function" href="classore_1_1data_1_1_fd_gaussian_cam.html#a5ce8b0af276b7c06ab424e688ae2d318">referenceDate</a>(), <a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_filter.html">Filter</a>(), boost::none, <a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a>(), <a class="code hl_structRef" href="../qle/struct_quant_ext_1_1_random_variable.html">RandomVariable</a>());</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span> </div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <span class="comment">// we expect the results to be determinstic as per LgmBackwardSolver interface</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span> </div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    QL_REQUIRE(r.<a class="code hl_functionRef" href="../qle/struct_quant_ext_1_1_random_variable.html#a6e0fdc031c26ed1d1a956019d2cee4a1">deterministic</a>(), <span class="stringliteral">&quot;FdGaussianCam::extractT0Result(): internal error, expected result to be &quot;</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>                                  <span class="stringliteral">&quot;deterministic after rollback to time t = 0&quot;</span>);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span> </div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="keywordflow">return</span> r.<a class="code hl_functionRef" href="../qle/struct_quant_ext_1_1_random_variable.html#a52b7b894964a2a061ce79c386c3e3e8f">at</a>(0);</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>}</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>} <span class="comment">// namespace data</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>} <span class="comment">// namespace ore</span></div>
<div class="ttc" id="aaverageonindexedcoupon_8hpp_html"><div class="ttname"><a href="../qle/averageonindexedcoupon_8hpp.html">averageonindexedcoupon.hpp</a></div></div>
<div class="ttc" id="aaverageonindexedcouponpricer_8hpp_html"><div class="ttname"><a href="../qle/averageonindexedcouponpricer_8hpp.html">averageonindexedcouponpricer.hpp</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_lgm_vectorised_html"><div class="ttname"><a href="../qle/class_quant_ext_1_1_lgm_vectorised.html">QuantExt::LgmVectorised</a></div></div>
<div class="ttc" id="aclass_quant_ext_1_1_lgm_vectorised_html_a15fad90a72085470b1ed2e93a9f23b2d"><div class="ttname"><a href="../qle/class_quant_ext_1_1_lgm_vectorised.html#a15fad90a72085470b1ed2e93a9f23b2d">QuantExt::LgmVectorised::discountBond</a></div><div class="ttdeci">RandomVariable discountBond(const Time t, const Time T, const RandomVariable &amp;x, const Handle&lt; YieldTermStructure &gt; &amp;discountCurve=Handle&lt; YieldTermStructure &gt;()) const</div></div>
<div class="ttc" id="aclass_quant_ext_1_1_lgm_vectorised_html_a671bc1fefafaf56ae7028084cec2ac5c"><div class="ttname"><a href="../qle/class_quant_ext_1_1_lgm_vectorised.html#a671bc1fefafaf56ae7028084cec2ac5c">QuantExt::LgmVectorised::fixing</a></div><div class="ttdeci">RandomVariable fixing(const boost::shared_ptr&lt; InterestRateIndex &gt; &amp;index, const Date &amp;fixingDate, const Time t, const RandomVariable &amp;x) const</div></div>
<div class="ttc" id="aclass_quant_ext_1_1_lgm_vectorised_html_a8505d38cea841723efcc7a86be4cc17c"><div class="ttname"><a href="../qle/class_quant_ext_1_1_lgm_vectorised.html#a8505d38cea841723efcc7a86be4cc17c">QuantExt::LgmVectorised::averagedOnRate</a></div><div class="ttdeci">RandomVariable averagedOnRate(const boost::shared_ptr&lt; OvernightIndex &gt; &amp;index, const std::vector&lt; Date &gt; &amp;fixingDates, const std::vector&lt; Date &gt; &amp;valueDates, const std::vector&lt; Real &gt; &amp;dt, const Natural rateCutoff, const bool includeSpread, const Real spread, const Real gearing, const Period lookback, Real cap, Real floor, const bool localCapFloor, const bool nakedOption, const Time t, const RandomVariable &amp;x) const</div></div>
<div class="ttc" id="aclass_quant_ext_1_1_lgm_vectorised_html_a86173b3bbe1056659300044528205102"><div class="ttname"><a href="../qle/class_quant_ext_1_1_lgm_vectorised.html#a86173b3bbe1056659300044528205102">QuantExt::LgmVectorised::numeraire</a></div><div class="ttdeci">RandomVariable numeraire(const Time t, const RandomVariable &amp;x, const Handle&lt; YieldTermStructure &gt; &amp;discountCurve=Handle&lt; YieldTermStructure &gt;()) const</div></div>
<div class="ttc" id="aclass_quant_ext_1_1_lgm_vectorised_html_adcedfb8f7afb7a01b13fd94a8db8cf70"><div class="ttname"><a href="../qle/class_quant_ext_1_1_lgm_vectorised.html#adcedfb8f7afb7a01b13fd94a8db8cf70">QuantExt::LgmVectorised::compoundedOnRate</a></div><div class="ttdeci">RandomVariable compoundedOnRate(const boost::shared_ptr&lt; OvernightIndex &gt; &amp;index, const std::vector&lt; Date &gt; &amp;fixingDates, const std::vector&lt; Date &gt; &amp;valueDates, const std::vector&lt; Real &gt; &amp;dt, const Natural rateCutoff, const bool includeSpread, const Real spread, const Real gearing, const Period lookback, Real cap, Real floor, const bool localCapFloor, const bool nakedOption, const Time t, const RandomVariable &amp;x) const</div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a001bb63efebee06b5709a54b584ddcfe"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a001bb63efebee06b5709a54b584ddcfe">ore::data::FdGaussianCam::simulationDates_</a></div><div class="ttdeci">std::set&lt; Date &gt; simulationDates_</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8hpp_source.html#l00083">fdgaussiancam.hpp:83</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a0e7b4b054beda325e75ce61b56405d20"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a0e7b4b054beda325e75ce61b56405d20">ore::data::FdGaussianCam::getInfIndexValue</a></div><div class="ttdeci">RandomVariable getInfIndexValue(const Size indexNo, const Date &amp;d, const Date &amp;fwd=Null&lt; Date &gt;()) const override</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00131">fdgaussiancam.cpp:131</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a1127cccc9668a02247dc139d27121708"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a1127cccc9668a02247dc139d27121708">ore::data::FdGaussianCam::performCalculations</a></div><div class="ttdeci">void performCalculations() const override</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00072">fdgaussiancam.cpp:72</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a15aa444a844bc8f8670058816b9dcc0c"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a15aa444a844bc8f8670058816b9dcc0c">ore::data::FdGaussianCam::releaseMemory</a></div><div class="ttdeci">void releaseMemory() override</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00070">fdgaussiancam.cpp:70</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a1750263c28cbb6063301d48df87c0541"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a1750263c28cbb6063301d48df87c0541">ore::data::FdGaussianCam::getFutureBarrierProb</a></div><div class="ttdeci">RandomVariable getFutureBarrierProb(const std::string &amp;index, const Date &amp;obsdate1, const Date &amp;obsdate2, const RandomVariable &amp;barrier, const bool above) const override</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00102">fdgaussiancam.cpp:102</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a1e68b2960fb2bbea874baafc376e1b3b"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a1e68b2960fb2bbea874baafc376e1b3b">ore::data::FdGaussianCam::mesherEpsilon_</a></div><div class="ttdeci">Real mesherEpsilon_</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8hpp_source.html#l00086">fdgaussiancam.hpp:86</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a31ea941e2c5742d1de925abc758a422e"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a31ea941e2c5742d1de925abc758a422e">ore::data::FdGaussianCam::getIrIndexValue</a></div><div class="ttdeci">RandomVariable getIrIndexValue(const Size indexNo, const Date &amp;d, const Date &amp;fwd=Null&lt; Date &gt;()) const override</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00111">fdgaussiancam.cpp:111</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a32a74f796461167901dcb7df1c74cbba"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a32a74f796461167901dcb7df1c74cbba">ore::data::FdGaussianCam::npv</a></div><div class="ttdeci">RandomVariable npv(const RandomVariable &amp;amount, const Date &amp;obsdate, const Filter &amp;filter, const boost::optional&lt; long &gt; &amp;memSlot, const RandomVariable &amp;addRegressor1, const RandomVariable &amp;addRegressor2) const override</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00191">fdgaussiancam.cpp:191</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a34307aa5d9d025e9532cbfa24e683523"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a34307aa5d9d025e9532cbfa24e683523">ore::data::FdGaussianCam::solver_</a></div><div class="ttdeci">std::unique_ptr&lt; LgmBackwardSolver &gt; solver_</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8hpp_source.html#l00092">fdgaussiancam.hpp:92</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a3430beef258b2f54144fc121011267e6"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a3430beef258b2f54144fc121011267e6">ore::data::FdGaussianCam::getFxSpot</a></div><div class="ttdeci">Real getFxSpot(const Size idx) const override</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00179">fdgaussiancam.cpp:179</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a343681da14ddb8f9e59360718bcf1958"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a343681da14ddb8f9e59360718bcf1958">ore::data::FdGaussianCam::irIndexValueCache_</a></div><div class="ttdeci">std::map&lt; std::tuple&lt; Size, Date, Date &gt;, RandomVariable &gt; irIndexValueCache_</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8hpp_source.html#l00095">fdgaussiancam.hpp:95</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a3e22290961d6b56dce069c1c4fda6386"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a3e22290961d6b56dce069c1c4fda6386">ore::data::FdGaussianCam::referenceDate_</a></div><div class="ttdeci">Date referenceDate_</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8hpp_source.html#l00090">fdgaussiancam.hpp:90</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a5ce8b0af276b7c06ab424e688ae2d318"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a5ce8b0af276b7c06ab424e688ae2d318">ore::data::FdGaussianCam::referenceDate</a></div><div class="ttdeci">const Date &amp; referenceDate() const override</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00065">fdgaussiancam.cpp:65</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a698c2421ff0b896c0388b6d6477cd7b6"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a698c2421ff0b896c0388b6d6477cd7b6">ore::data::FdGaussianCam::getNumeraire</a></div><div class="ttdeci">RandomVariable getNumeraire(const Date &amp;s) const override</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00174">fdgaussiancam.cpp:174</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a7d1d55537737e7d31a2b37631bd5d3e6"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a7d1d55537737e7d31a2b37631bd5d3e6">ore::data::FdGaussianCam::cam_</a></div><div class="ttdeci">Handle&lt; CrossAssetModel &gt; cam_</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8hpp_source.html#l00080">fdgaussiancam.hpp:80</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a82b9439e25e6f1499a1235fc030c3a90"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a82b9439e25e6f1499a1235fc030c3a90">ore::data::FdGaussianCam::curve_</a></div><div class="ttdeci">Handle&lt; YieldTermStructure &gt; curve_</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8hpp_source.html#l00082">fdgaussiancam.hpp:82</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a8462ba47ae7fbc571ced62f9fdc8a1b8"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a8462ba47ae7fbc571ced62f9fdc8a1b8">ore::data::FdGaussianCam::extractT0Result</a></div><div class="ttdeci">Real extractT0Result(const RandomVariable &amp;result) const override</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00222">fdgaussiancam.cpp:222</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a85fc50a41ae526a50ff150845481fb04"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a85fc50a41ae526a50ff150845481fb04">ore::data::FdGaussianCam::stateGridPoints_</a></div><div class="ttdeci">Size stateGridPoints_</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8hpp_source.html#l00084">fdgaussiancam.hpp:84</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a9356ce4490b329fbfbad73fa28841898"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a9356ce4490b329fbfbad73fa28841898">ore::data::FdGaussianCam::effectiveSimulationDates_</a></div><div class="ttdeci">std::set&lt; Date &gt; effectiveSimulationDates_</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8hpp_source.html#l00091">fdgaussiancam.hpp:91</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_a9c25c7000e01433677e04eae138ff831"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#a9c25c7000e01433677e04eae138ff831">ore::data::FdGaussianCam::timeStepsPerYear_</a></div><div class="ttdeci">Size timeStepsPerYear_</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8hpp_source.html#l00085">fdgaussiancam.hpp:85</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_ab648089ec0ba2f1040ed8da9885ec6a3"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#ab648089ec0ba2f1040ed8da9885ec6a3">ore::data::FdGaussianCam::pay</a></div><div class="ttdeci">RandomVariable pay(const RandomVariable &amp;amount, const Date &amp;obsdate, const Date &amp;paydate, const std::string &amp;currency) const override</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00184">fdgaussiancam.cpp:184</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_abb84774b08d6924094481e3ed5821a8d"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#abb84774b08d6924094481e3ed5821a8d">ore::data::FdGaussianCam::getDiscount</a></div><div class="ttdeci">RandomVariable getDiscount(const Size idx, const Date &amp;s, const Date &amp;t) const override</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00169">fdgaussiancam.cpp:169</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_ac2531b45af9259f8b3af891fac9f5d03"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#ac2531b45af9259f8b3af891fac9f5d03">ore::data::FdGaussianCam::getIndexValue</a></div><div class="ttdeci">RandomVariable getIndexValue(const Size indexNo, const Date &amp;d, const Date &amp;fwd=Null&lt; Date &gt;()) const override</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00107">fdgaussiancam.cpp:107</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_aef2fa78219e2206833d4d8f63bf20a70"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#aef2fa78219e2206833d4d8f63bf20a70">ore::data::FdGaussianCam::fwdCompAvg</a></div><div class="ttdeci">RandomVariable fwdCompAvg(const bool isAvg, const std::string &amp;index, const Date &amp;obsdate, const Date &amp;start, const Date &amp;end, const Real spread, const Real gearing, const Integer lookback, const Natural rateCutoff, const Natural fixingDays, const bool includeSpread, const Real cap, const Real floor, const bool nakedOption, const bool localCapFloor) const override</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00135">fdgaussiancam.cpp:135</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_fd_gaussian_cam_html_af27ae6b1b181423552ea0b2765bb1289"><div class="ttname"><a href="classore_1_1data_1_1_fd_gaussian_cam.html#af27ae6b1b181423552ea0b2765bb1289">ore::data::FdGaussianCam::FdGaussianCam</a></div><div class="ttdeci">FdGaussianCam(const Handle&lt; CrossAssetModel &gt; &amp;cam, const std::string &amp;currency, const Handle&lt; YieldTermStructure &gt; &amp;curve, const std::vector&lt; std::pair&lt; std::string, QuantLib::ext::shared_ptr&lt; InterestRateIndex &gt; &gt; &gt; &amp;irIndices, const std::set&lt; Date &gt; &amp;simulationDates, const Size stateGridPoints=50, const Size timeStepsPerYear=24, const Real mesherEpsilon=1E-4, const IborFallbackConfig &amp;iborFallbackConfig=IborFallbackConfig::defaultConfig())</div><div class="ttdef"><b>Definition:</b> <a href="fdgaussiancam_8cpp_source.html#l00043">fdgaussiancam.cpp:43</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_ibor_fallback_config_html"><div class="ttname"><a href="classore_1_1data_1_1_ibor_fallback_config.html">ore::data::IborFallbackConfig</a></div><div class="ttdef"><b>Definition:</b> <a href="iborfallbackconfig_8hpp_source.html#l00031">iborfallbackconfig.hpp:31</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_index_info_html"><div class="ttname"><a href="classore_1_1data_1_1_index_info.html">ore::data::IndexInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="scripting_2utilities_8hpp_source.html#l00093">utilities.hpp:93</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_model_html_a389467bfea77ee951d34ed713f00d333"><div class="ttname"><a href="classore_1_1data_1_1_model.html#a389467bfea77ee951d34ed713f00d333">ore::data::Model::additionalResults_</a></div><div class="ttdeci">std::map&lt; std::string, boost::any &gt; additionalResults_</div><div class="ttdef"><b>Definition:</b> <a href="model_8hpp_source.html#l00153">model.hpp:153</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_model_html_a6fead1da49affdddae755f95d693c4f3"><div class="ttname"><a href="classore_1_1data_1_1_model.html#a6fead1da49affdddae755f95d693c4f3">ore::data::Model::timeFromReference</a></div><div class="ttdeci">Real timeFromReference(const Date &amp;d) const</div><div class="ttdef"><b>Definition:</b> <a href="model_8hpp_source.html#l00092">model.hpp:92</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_model_impl_html"><div class="ttname"><a href="classore_1_1data_1_1_model_impl.html">ore::data::ModelImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="modelimpl_8hpp_source.html#l00044">modelimpl.hpp:44</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_model_impl_html_aa91202692df7316a0cee91b39edf9ff8"><div class="ttname"><a href="classore_1_1data_1_1_model_impl.html#aa91202692df7316a0cee91b39edf9ff8">ore::data::ModelImpl::irIndices_</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; IndexInfo, QuantLib::ext::shared_ptr&lt; InterestRateIndex &gt; &gt; &gt; irIndices_</div><div class="ttdef"><b>Definition:</b> <a href="modelimpl_8hpp_source.html#l00112">modelimpl.hpp:112</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_model_impl_html_ab648089ec0ba2f1040ed8da9885ec6a3"><div class="ttname"><a href="classore_1_1data_1_1_model_impl.html#ab648089ec0ba2f1040ed8da9885ec6a3">ore::data::ModelImpl::pay</a></div><div class="ttdeci">RandomVariable pay(const RandomVariable &amp;amount, const Date &amp;obsdate, const Date &amp;paydate, const std::string &amp;currency) const override</div><div class="ttdef"><b>Definition:</b> <a href="modelimpl_8cpp_source.html#l00101">modelimpl.cpp:101</a></div></div>
<div class="ttc" id="acomputationgraphbuilder_8cpp_html_abd640cc39af07965a8475be310893006"><div class="ttname"><a href="computationgraphbuilder_8cpp.html#abd640cc39af07965a8475be310893006">filter</a></div><div class="ttdeci">SafeStack&lt; Filter &gt; filter</div><div class="ttdef"><b>Definition:</b> <a href="computationgraphbuilder_8cpp_source.html#l01477">computationgraphbuilder.cpp:1477</a></div></div>
<div class="ttc" id="acrossassetmodel_8hpp_html"><div class="ttname"><a href="../qle/crossassetmodel_8hpp.html">crossassetmodel.hpp</a></div></div>
<div class="ttc" id="afdgaussiancam_8hpp_html"><div class="ttname"><a href="fdgaussiancam_8hpp.html">fdgaussiancam.hpp</a></div><div class="ttdoc">fd gaussian cross asset model for single underlying ir model</div></div>
<div class="ttc" id="aflatextrapolation_8hpp_html"><div class="ttname"><a href="../qle/flatextrapolation_8hpp.html">flatextrapolation.hpp</a></div></div>
<div class="ttc" id="aindexparser_8hpp_html"><div class="ttname"><a href="indexparser_8hpp.html">indexparser.hpp</a></div><div class="ttdoc">Map text representations to QuantLib/QuantExt types.</div></div>
<div class="ttc" id="algmvectorised_8hpp_html"><div class="ttname"><a href="../qle/lgmvectorised_8hpp.html">lgmvectorised.hpp</a></div></div>
<div class="ttc" id="alog_8hpp_html"><div class="ttname"><a href="log_8hpp.html">log.hpp</a></div><div class="ttdoc">Classes and functions for log message handling.</div></div>
<div class="ttc" id="alog_8hpp_html_a08cf33440c824c6fda734c566a726536a604ac82e88d7a367d4c2830411520c2b"><div class="ttname"><a href="log_8hpp.html#a08cf33440c824c6fda734c566a726536a604ac82e88d7a367d4c2830411520c2b">data</a></div><div class="ttdeci">@ data</div><div class="ttdef"><b>Definition:</b> <a href="log_8hpp_source.html#l00077">log.hpp:77</a></div></div>
<div class="ttc" id="anamespace_quant_ext_1_1_zero_inflation_html_a57de786c1c8988b6da9d354282b4b370"><div class="ttname"><a href="../qle/namespace_quant_ext_1_1_zero_inflation.html#a57de786c1c8988b6da9d354282b4b370">fixingDate</a></div><div class="ttdeci">QuantLib::Date fixingDate(const QuantLib::Date &amp;d, const QuantLib::Period obsLag, const QuantLib::Frequency freq, bool interpolated)</div></div>
<div class="ttc" id="anamespace_quant_ext_html"><div class="ttname"><a href="namespace_quant_ext.html">QuantExt</a></div></div>
<div class="ttc" id="anamespace_quant_ext_html_a1d71cdc38f161635a4ad63b3e2cb67ef"><div class="ttname"><a href="../qle/namespace_quant_ext.html#a1d71cdc38f161635a4ad63b3e2cb67ef">QuantExt::getAdditionalResultsMap</a></div><div class="ttdeci">std::map&lt; std::string, boost::any &gt; getAdditionalResultsMap(const LgmCalibrationInfo &amp;info)</div></div>
<div class="ttc" id="anamespace_quant_lib_html"><div class="ttname"><a href="namespace_quant_lib.html">QuantLib</a></div></div>
<div class="ttc" id="anamespaceore_html"><div class="ttname"><a href="namespaceore.html">ore</a></div><div class="ttdoc">Serializable Credit Default Swap.</div><div class="ttdef"><b>Definition:</b> <a href="namespaces_8docs.html_source#l00023">namespaces.docs:23</a></div></div>
<div class="ttc" id="aovernightindexedcoupon_8hpp_html"><div class="ttname"><a href="../qle/overnightindexedcoupon_8hpp.html">overnightindexedcoupon.hpp</a></div></div>
<div class="ttc" id="aparsers_8hpp_html"><div class="ttname"><a href="parsers_8hpp.html">parsers.hpp</a></div><div class="ttdoc">Map text representations to QuantLib/QuantExt types.</div></div>
<div class="ttc" id="astruct_quant_ext_1_1_filter_html"><div class="ttname"><a href="../qle/struct_quant_ext_1_1_filter.html">QuantExt::Filter</a></div></div>
<div class="ttc" id="astruct_quant_ext_1_1_random_variable_html"><div class="ttname"><a href="../qle/struct_quant_ext_1_1_random_variable.html">QuantExt::RandomVariable</a></div></div>
<div class="ttc" id="astruct_quant_ext_1_1_random_variable_html_a52b7b894964a2a061ce79c386c3e3e8f"><div class="ttname"><a href="../qle/struct_quant_ext_1_1_random_variable.html#a52b7b894964a2a061ce79c386c3e3e8f">QuantExt::RandomVariable::at</a></div><div class="ttdeci">Real at(const Size i) const</div></div>
<div class="ttc" id="astruct_quant_ext_1_1_random_variable_html_a6e0fdc031c26ed1d1a956019d2cee4a1"><div class="ttname"><a href="../qle/struct_quant_ext_1_1_random_variable.html#a6e0fdc031c26ed1d1a956019d2cee4a1">QuantExt::RandomVariable::deterministic</a></div><div class="ttdeci">bool deterministic() const</div></div>
<div class="ttc" id="astruct_quant_ext_1_1_random_variable_html_a769e6c6c6680ce0b532bc4efa48db44f"><div class="ttname"><a href="../qle/struct_quant_ext_1_1_random_variable.html#a769e6c6c6680ce0b532bc4efa48db44f">QuantExt::RandomVariable::time</a></div><div class="ttdeci">Real time() const</div></div>
<div class="ttc" id="astruct_quant_ext_1_1_random_variable_html_a7715599b27d9f0c69d0abd43a2469dd2"><div class="ttname"><a href="../qle/struct_quant_ext_1_1_random_variable.html#a7715599b27d9f0c69d0abd43a2469dd2">QuantExt::RandomVariable::setTime</a></div><div class="ttdeci">void setTime(const Real time)</div></div>
<div class="ttc" id="astruct_quant_ext_1_1_random_variable_html_adaeda39d7b8cc716a40c4da65b00ba77"><div class="ttname"><a href="../qle/struct_quant_ext_1_1_random_variable.html#adaeda39d7b8cc716a40c4da65b00ba77">QuantExt::RandomVariable::initialised</a></div><div class="ttdeci">bool initialised() const</div></div>
<div class="ttc" id="ato__string_8hpp_html"><div class="ttname"><a href="to__string_8hpp.html">to_string.hpp</a></div><div class="ttdoc">string conversion utilities</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.9.5
</small></address>
</body>
</html>
