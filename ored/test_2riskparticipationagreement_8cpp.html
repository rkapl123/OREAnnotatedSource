<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<title>OREData: test/riskparticipationagreement.cpp File Reference</title>
<link href="https://fonts.googleapis.com/css?family=Merriweather+Sans|Open+Sans" rel="stylesheet">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="favicon.png">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="oredextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname"><a href="https://rkapl123.github.io/OREAnnotatedSource/">
       <img src="logo-data@2x.png" alt="Logo" width="150" height="68" style="float: left; padding: 15px;"/></a>
   <div id="projectbrief">Fully annotated reference manual - version 1.8.11</div>
   </div>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_13e138d54eb8818da29c3992edef070a.html">test</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">riskparticipationagreement.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;boost/test/unit_test.hpp&gt;</code><br />
<code>#include &lt;oret/toplevelfixture.hpp&gt;</code><br />
<code>#include &lt;<a class="el" href="analyticblackriskparticipationagreementengine_8hpp_source.html">ored/scripting/engines/analyticblackriskparticipationagreementengine.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="numericlgmriskparticipationagreementengine_8hpp_source.html">ored/scripting/engines/numericlgmriskparticipationagreementengine.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="elRef" href="../qle/multipathgeneratorbase_8hpp.html">qle/methods/multipathgeneratorbase.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="elRef" href="../qle/irlgm1fconstantparametrization_8hpp.html">qle/models/irlgm1fconstantparametrization.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="elRef" href="../qle/lgm_8hpp.html">qle/models/lgm.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="elRef" href="../qle/lgmimpliedyieldtermstructure_8hpp.html">qle/models/lgmimpliedyieldtermstructure.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="elRef" href="../qle/analyticlgmswaptionengine_8hpp.html">qle/pricingengines/analyticlgmswaptionengine.hpp</a>&gt;</code><br />
<code>#include &lt;ql/cashflows/couponpricer.hpp&gt;</code><br />
<code>#include &lt;ql/cashflows/iborcoupon.hpp&gt;</code><br />
<code>#include &lt;ql/currencies/europe.hpp&gt;</code><br />
<code>#include &lt;ql/exercise.hpp&gt;</code><br />
<code>#include &lt;ql/experimental/coupons/strippedcapflooredcoupon.hpp&gt;</code><br />
<code>#include &lt;ql/indexes/ibor/euribor.hpp&gt;</code><br />
<code>#include &lt;ql/indexes/iborindex.hpp&gt;</code><br />
<code>#include &lt;ql/indexes/swap/euriborswap.hpp&gt;</code><br />
<code>#include &lt;ql/instruments/makevanillaswap.hpp&gt;</code><br />
<code>#include &lt;ql/instruments/nonstandardswap.hpp&gt;</code><br />
<code>#include &lt;ql/math/optimization/levenbergmarquardt.hpp&gt;</code><br />
<code>#include &lt;ql/models/shortrate/calibrationhelpers/swaptionhelper.hpp&gt;</code><br />
<code>#include &lt;ql/pricingengines/swaption/blackswaptionengine.hpp&gt;</code><br />
<code>#include &lt;ql/termstructures/credit/flathazardrate.hpp&gt;</code><br />
<code>#include &lt;ql/termstructures/volatility/swaption/swaptionconstantvol.hpp&gt;</code><br />
<code>#include &lt;ql/termstructures/yield/flatforward.hpp&gt;</code><br />
<code>#include &lt;ql/time/calendars/target.hpp&gt;</code><br />
<code>#include &lt;ql/time/daycounters/actualactual.hpp&gt;</code><br />
<code>#include &lt;ql/timegrid.hpp&gt;</code><br />
<code>#include &lt;boost/accumulators/accumulators.hpp&gt;</code><br />
<code>#include &lt;boost/accumulators/statistics/mean.hpp&gt;</code><br />
<code>#include &lt;boost/accumulators/statistics/stats.hpp&gt;</code><br />
<code>#include &lt;boost/timer/timer.hpp&gt;</code><br />
</div>
<p><a href="test_2riskparticipationagreement_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3d84880d00eb93692d3b077c235fed50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2riskparticipationagreement_8cpp.html#a3d84880d00eb93692d3b077c235fed50">BOOST_AUTO_TEST_CASE</a> (testStandardPayerSwap)</td></tr>
<tr class="separator:a3d84880d00eb93692d3b077c235fed50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d4b917226f1d75b9d572ddcc65c1f93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2riskparticipationagreement_8cpp.html#a5d4b917226f1d75b9d572ddcc65c1f93">BOOST_AUTO_TEST_CASE</a> (testStandardReceiverSwap)</td></tr>
<tr class="separator:a5d4b917226f1d75b9d572ddcc65c1f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56f2486bdf0a5cc60de11941e385f4c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2riskparticipationagreement_8cpp.html#a56f2486bdf0a5cc60de11941e385f4c1">BOOST_AUTO_TEST_CASE</a> (testAmortisingPayerSwap)</td></tr>
<tr class="separator:a56f2486bdf0a5cc60de11941e385f4c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a5c018edc12c82b4c24a96b5209d872"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2riskparticipationagreement_8cpp.html#a9a5c018edc12c82b4c24a96b5209d872">BOOST_AUTO_TEST_CASE</a> (testAmortisingReceiverSwap)</td></tr>
<tr class="separator:a9a5c018edc12c82b4c24a96b5209d872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a91233d9fa1dc2421e7293296e6b05"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2riskparticipationagreement_8cpp.html#a68a91233d9fa1dc2421e7293296e6b05">BOOST_AUTO_TEST_CASE</a> (testAccretingPayerSwap)</td></tr>
<tr class="separator:a68a91233d9fa1dc2421e7293296e6b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa718146234b7b552fffcc5bbcbf13490"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2riskparticipationagreement_8cpp.html#aa718146234b7b552fffcc5bbcbf13490">BOOST_AUTO_TEST_CASE</a> (testAccretingReceiverSwap)</td></tr>
<tr class="separator:aa718146234b7b552fffcc5bbcbf13490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa7e2fe5364707b43fd00bb9fa5c68e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2riskparticipationagreement_8cpp.html#aaaa7e2fe5364707b43fd00bb9fa5c68e">BOOST_AUTO_TEST_CASE</a> (testCapFloors)</td></tr>
<tr class="separator:aaaa7e2fe5364707b43fd00bb9fa5c68e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3d84880d00eb93692d3b077c235fed50" name="a3d84880d00eb93692d3b077c235fed50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d84880d00eb93692d3b077c235fed50">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[1/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">testStandardPayerSwap&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2riskparticipationagreement_8cpp_source.html#l00321">321</a> of file <a class="el" href="test_2riskparticipationagreement_8cpp_source.html">riskparticipationagreement.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  321</span>                                            {</div>
<div class="line"><span class="lineno">  322</span>    runTest({10000.0}, <span class="keyword">true</span>, 10.0,</div>
<div class="line"><span class="lineno">  323</span>            {0,       1.94889, 15.7715, 24.0619, 54.8255, 55.7279, 95.6096, 91.7498, 133.741, 123.373,</div>
<div class="line"><span class="lineno">  324</span>             164.17,  147.664, 189.878, 166.109, 207.458, 179.875, 220.102, 187.612, 226.417, 190.731,</div>
<div class="line"><span class="lineno">  325</span>             227.738, 188.212, 222.535, 180.287, 214.038, 169.203, 200.895, 154.238, 183.085, 133.985,</div>
<div class="line"><span class="lineno">  326</span>             161.588, 111.699, 135.997, 85.3633, 107.052, 56.2545, 74.7086, 25.7101, 38.9068, 1.31757});</div>
<div class="line"><span class="lineno">  327</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d4b917226f1d75b9d572ddcc65c1f93" name="a5d4b917226f1d75b9d572ddcc65c1f93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d4b917226f1d75b9d572ddcc65c1f93">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[2/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">testStandardReceiverSwap&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2riskparticipationagreement_8cpp_source.html#l00329">329</a> of file <a class="el" href="test_2riskparticipationagreement_8cpp_source.html">riskparticipationagreement.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  329</span>                                               {</div>
<div class="line"><span class="lineno">  330</span>    runTest({10000.0}, <span class="keyword">false</span>, 10.0,</div>
<div class="line"><span class="lineno">  331</span>            {1776.41, 1878.45, 1694.92, 1802.31, 1637.38, 1736.49, 1582.74, 1677.57, 1526.22, 1611.41,</div>
<div class="line"><span class="lineno">  332</span>             1463.59, 1542.34, 1396.47, 1467.08, 1322.19, 1388.18, 1244.17, 1303.92, 1159.84, 1214.88,</div>
<div class="line"><span class="lineno">  333</span>             1072.06, 1122.67, 978.803, 1026.29, 882.843, 926.86,  783.296, 824.455, 679.52,  718.399,</div>
<div class="line"><span class="lineno">  334</span>             572.469, 608.334, 463.113, 497.353, 351.281, 384.799, 236.4,   271.088, 119.076, 164.356});</div>
<div class="line"><span class="lineno">  335</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a56f2486bdf0a5cc60de11941e385f4c1" name="a56f2486bdf0a5cc60de11941e385f4c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56f2486bdf0a5cc60de11941e385f4c1">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[3/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">testAmortisingPayerSwap&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2riskparticipationagreement_8cpp_source.html#l00337">337</a> of file <a class="el" href="test_2riskparticipationagreement_8cpp_source.html">riskparticipationagreement.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  337</span>                                              {</div>
<div class="line"><span class="lineno">  338</span>    runTest({10000.0, 9500.0, 9000.0, 8500.0, 8000.0, 7500.0, 7000.0, 6500.0, 6000.0, 5500.0, 5000.0,</div>
<div class="line"><span class="lineno">  339</span>             4500.0,  4000.0, 3500.0, 3000.0, 2500.0, 2000.0, 1500.0, 1000.0, 500.0,  0.0},</div>
<div class="line"><span class="lineno">  340</span>            <span class="keyword">true</span>, 5.0, {0,       0.58703, 8.11856, 8.93971, 26.7995, 20.7611, 44.169,  33.6139, 58.2056, 43.9656,</div>
<div class="line"><span class="lineno">  341</span>                        67.223,  49.9792, 72.8682, 52.7195, 74.1339, 53.0533, 72.9152, 51.5704, 69.0406, 47.9078,</div>
<div class="line"><span class="lineno">  342</span>                        63.6394, 42.9462, 56.4375, 36.8842, 48.762,  30.607,  40.6079, 24.2613, 32.3475, 17.8779,</div>
<div class="line"><span class="lineno">  343</span>                        24.4077, 12.3198, 17.092,  7.4161,  10.7417, 3.56567, 5.61611, 1.08903, 1.94534, 0.0658784});</div>
<div class="line"><span class="lineno">  344</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a5c018edc12c82b4c24a96b5209d872" name="a9a5c018edc12c82b4c24a96b5209d872"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a5c018edc12c82b4c24a96b5209d872">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[4/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">testAmortisingReceiverSwap&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2riskparticipationagreement_8cpp_source.html#l00346">346</a> of file <a class="el" href="test_2riskparticipationagreement_8cpp_source.html">riskparticipationagreement.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  346</span>                                                 {</div>
<div class="line"><span class="lineno">  347</span>    runTest({10000.0, 9500.0, 9000.0, 8500.0, 8000.0, 7500.0, 7000.0, 6500.0, 6000.0, 5500.0, 5000.0,</div>
<div class="line"><span class="lineno">  348</span>             4500.0,  4000.0, 3500.0, 3000.0, 2500.0, 2000.0, 1500.0, 1000.0, 500.0,  0.0},</div>
<div class="line"><span class="lineno">  349</span>            <span class="keyword">false</span>, 50.0, {962.21,  1062.92, 873.019, 967.955, 799.857, 882.248, 731.282, 804.481, 664.708, 726.901,</div>
<div class="line"><span class="lineno">  350</span>                          599.229, 653.365, 535.172, 581.061, 472.101, 511.799, 411.877, 445.908, 353.651, 382.434,</div>
<div class="line"><span class="lineno">  351</span>                          299.225, 323.595, 247.998, 268.821, 200.983, 218.353, 158.261, 172.636, 119.932, 131.857,</div>
<div class="line"><span class="lineno">  352</span>                          86.3659, 95.7154, 58.1326, 65.4286, 35.2337, 40.7063, 17.7519, 21.5932, 5.95378, 8.21779});</div>
<div class="line"><span class="lineno">  353</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a68a91233d9fa1dc2421e7293296e6b05" name="a68a91233d9fa1dc2421e7293296e6b05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68a91233d9fa1dc2421e7293296e6b05">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[5/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">testAccretingPayerSwap&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2riskparticipationagreement_8cpp_source.html#l00355">355</a> of file <a class="el" href="test_2riskparticipationagreement_8cpp_source.html">riskparticipationagreement.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  355</span>                                             {</div>
<div class="line"><span class="lineno">  356</span>    runTest({10000.0, 11000.0, 12000.0, 13000.0, 14000.0, 15000.0, 16000.0, 17000.0, 18000.0, 19000.0,</div>
<div class="line"><span class="lineno">  357</span>             20000.0, 21000.0, 22000.0, 23000.0, 24000.0, 25000.0, 26000.0, 27000.0, 28000.0, 29000.0},</div>
<div class="line"><span class="lineno">  358</span>            <span class="keyword">true</span>, 20.0, {0,       5.03316, 31.0906, 56.0286, 110.937, 128.441, 198.589, 210.596, 284.946, 284.878,</div>
<div class="line"><span class="lineno">  359</span>                         358.21,  345.452, 424.04,  395.573, 474.253, 435.555, 514.612, 461.857, 541.256, 478.229,</div>
<div class="line"><span class="lineno">  360</span>                         556.038, 480.233, 554.782, 468.493, 544.637, 447.635, 521.492, 415.265, 484.579, 367.228,</div>
<div class="line"><span class="lineno">  361</span>                         435.953, 311.242, 373.81,  241.924, 299.673, 162.093, 212.894, 75.2118, 112.83,  3.82094});</div>
<div class="line"><span class="lineno">  362</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa718146234b7b552fffcc5bbcbf13490" name="aa718146234b7b552fffcc5bbcbf13490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa718146234b7b552fffcc5bbcbf13490">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[6/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">testAccretingReceiverSwap&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2riskparticipationagreement_8cpp_source.html#l00364">364</a> of file <a class="el" href="test_2riskparticipationagreement_8cpp_source.html">riskparticipationagreement.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  364</span>                                                {</div>
<div class="line"><span class="lineno">  365</span>    runTest({10000.0, 11000.0, 12000.0, 13000.0, 14000.0, 15000.0, 16000.0, 17000.0, 18000.0, 19000.0,</div>
<div class="line"><span class="lineno">  366</span>             20000.0, 21000.0, 22000.0, 23000.0, 24000.0, 25000.0, 26000.0, 27000.0, 28000.0, 29000.0},</div>
<div class="line"><span class="lineno">  367</span>            <span class="keyword">false</span>, 20.0, {3404.82, 3509.87, 3338.75, 3472.73, 3312.48, 3447.74, 3285.74, 3426.31, 3249.38, 3383.13,</div>
<div class="line"><span class="lineno">  368</span>                          3192.44, 3322.71, 3119.21, 3241.8,  3022.51, 3142.98, 2908.89, 3022.1,  2772.3,  2881.64,</div>
<div class="line"><span class="lineno">  369</span>                          2617.82, 2722.29, 2440.46, 2542.63, 2246.61, 2345.11, 2033.39, 2129.17, 1798.72, 1892.51,</div>
<div class="line"><span class="lineno">  370</span>                          1544.68, 1634.35, 1273.08, 1361.87, 983.376, 1073.45, 673.695, 770.339, 345.319, 476.632});</div>
<div class="line"><span class="lineno">  371</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aaaa7e2fe5364707b43fd00bb9fa5c68e" name="aaaa7e2fe5364707b43fd00bb9fa5c68e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaa7e2fe5364707b43fd00bb9fa5c68e">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[7/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">testCapFloors&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2riskparticipationagreement_8cpp_source.html#l00423">423</a> of file <a class="el" href="test_2riskparticipationagreement_8cpp_source.html">riskparticipationagreement.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  423</span>                                    {</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>    <span class="keyword">constexpr</span> Real tol = 1E-10;</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>    <span class="comment">// underlying is receiver</span></div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>    <span class="comment">// no cap/floor</span></div>
<div class="line"><span class="lineno">  430</span>    Real plain = computeUnderlyingNpv(<span class="keyword">false</span>, Null&lt;Real&gt;(), Null&lt;Real&gt;(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    <span class="comment">// capped/floored coupon</span></div>
<div class="line"><span class="lineno">  433</span>    Real capped = computeUnderlyingNpv(<span class="keyword">false</span>, 0.03, Null&lt;Real&gt;(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  434</span>    Real floored = computeUnderlyingNpv(<span class="keyword">false</span>, Null&lt;Real&gt;(), 0.01, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  435</span>    Real collared = computeUnderlyingNpv(<span class="keyword">false</span>, 0.03, 0.01, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>    <span class="comment">// the embedded option</span></div>
<div class="line"><span class="lineno">  438</span>    Real cap = computeUnderlyingNpv(<span class="keyword">false</span>, 0.03, Null&lt;Real&gt;(), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  439</span>    Real floor = computeUnderlyingNpv(<span class="keyword">false</span>, Null&lt;Real&gt;(), 0.01, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  440</span>    Real collar = computeUnderlyingNpv(<span class="keyword">false</span>, 0.03, 0.01, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>    BOOST_CHECK_CLOSE(capped + cap, plain, tol);</div>
<div class="line"><span class="lineno">  443</span>    BOOST_CHECK_CLOSE(floored - floor, plain, tol);</div>
<div class="line"><span class="lineno">  444</span>    BOOST_CHECK_CLOSE(collared - collar, plain, tol);</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>    <span class="comment">// underlying is payer</span></div>
<div class="line"><span class="lineno">  447</span> </div>
<div class="line"><span class="lineno">  448</span>    <span class="comment">// no cap/floor</span></div>
<div class="line"><span class="lineno">  449</span>    Real plain2 = computeUnderlyingNpv(<span class="keyword">true</span>, Null&lt;Real&gt;(), Null&lt;Real&gt;(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>    <span class="comment">// capped/floored coupon</span></div>
<div class="line"><span class="lineno">  452</span>    Real capped2 = computeUnderlyingNpv(<span class="keyword">true</span>, 0.03, Null&lt;Real&gt;(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  453</span>    Real floored2 = computeUnderlyingNpv(<span class="keyword">true</span>, Null&lt;Real&gt;(), 0.01, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  454</span>    Real collared2 = computeUnderlyingNpv(<span class="keyword">true</span>, 0.03, 0.01, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>    <span class="comment">// the embedded option</span></div>
<div class="line"><span class="lineno">  457</span>    Real cap2 = computeUnderlyingNpv(<span class="keyword">true</span>, 0.03, Null&lt;Real&gt;(), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  458</span>    Real floor2 = computeUnderlyingNpv(<span class="keyword">true</span>, Null&lt;Real&gt;(), 0.01, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  459</span>    Real collar2 = computeUnderlyingNpv(<span class="keyword">true</span>, 0.03, 0.01, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>    BOOST_CHECK_CLOSE(capped2 + cap2, plain2, tol);</div>
<div class="line"><span class="lineno">  462</span>    BOOST_CHECK_CLOSE(floored2 - floor2, plain2, tol);</div>
<div class="line"><span class="lineno">  463</span>    BOOST_CHECK_CLOSE(collared2 - collar2, plain2, tol);</div>
<div class="line"><span class="lineno">  464</span> </div>
<div class="line"><span class="lineno">  465</span>    <span class="comment">// check sign changes between underlying receiver and payer</span></div>
<div class="line"><span class="lineno">  466</span>    BOOST_CHECK_CLOSE(plain, -plain2, tol);</div>
<div class="line"><span class="lineno">  467</span>    BOOST_CHECK_CLOSE(capped, -capped2, tol);</div>
<div class="line"><span class="lineno">  468</span>    BOOST_CHECK_CLOSE(floored, -floored2, tol);</div>
<div class="line"><span class="lineno">  469</span>    BOOST_CHECK_CLOSE(collared, -collared2, tol);</div>
<div class="line"><span class="lineno">  470</span>    BOOST_CHECK_CLOSE(cap, -cap2, tol);</div>
<div class="line"><span class="lineno">  471</span>    BOOST_CHECK_CLOSE(floor, -floor2, tol);</div>
<div class="line"><span class="lineno">  472</span>    BOOST_CHECK_CLOSE(collar, -collar2, tol);</div>
<div class="line"><span class="lineno">  473</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.9.5
</small></address>
</body>
</html>
