<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<title>OREData: ExerciseBuilder Class Reference</title>
<link href="https://fonts.googleapis.com/css?family=Merriweather+Sans|Open+Sans" rel="stylesheet">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="favicon.png">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="oredextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname"><a href="https://rkapl123.github.io/OREAnnotatedSource/">
       <img src="logo-data@2x.png" alt="Logo" width="150" height="68" style="float: left; padding: 15px;"/></a>
   <div id="projectbrief">Fully annotated reference manual - version 1.8.12</div>
   </div>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceore.html">ore</a></li><li class="navelem"><a class="el" href="namespaceore_1_1data.html">data</a></li><li class="navelem"><a class="el" href="classore_1_1data_1_1_exercise_builder.html">ExerciseBuilder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classore_1_1data_1_1_exercise_builder-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ExerciseBuilder Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="optiondata_8hpp_source.html">ored/portfolio/optiondata.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for ExerciseBuilder:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classore_1_1data_1_1_exercise_builder__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a616a8a498a5610f9c35725ae63a8929f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#a616a8a498a5610f9c35725ae63a8929f">ExerciseBuilder</a> (const <a class="el" href="classore_1_1data_1_1_option_data.html">OptionData</a> &amp;optionData, const std::vector&lt; QuantLib::Leg &gt; legs, <a class="el" href="classbool.html">bool</a> removeNoticeDatesAfterLastAccrualStart=true)</td></tr>
<tr class="separator:a616a8a498a5610f9c35725ae63a8929f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d3cb99f0c4074d99e3773b4643b34b3"><td class="memItemLeft" align="right" valign="top">QuantLib::ext::shared_ptr&lt; QuantLib::Exercise &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#a0d3cb99f0c4074d99e3773b4643b34b3">exercise</a> () const</td></tr>
<tr class="separator:a0d3cb99f0c4074d99e3773b4643b34b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a058392c0250f6f8c76e379c1a2e1b7eb"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; QuantLib::Date &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#a058392c0250f6f8c76e379c1a2e1b7eb">exerciseDates</a> () const</td></tr>
<tr class="separator:a058392c0250f6f8c76e379c1a2e1b7eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b7af1f6171f85151cf6354ffe0d41b2"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; QuantLib::Date &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#a8b7af1f6171f85151cf6354ffe0d41b2">noticeDates</a> () const</td></tr>
<tr class="separator:a8b7af1f6171f85151cf6354ffe0d41b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab136d362b4d7108e6bf34b716c0a11a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#aab136d362b4d7108e6bf34b716c0a11a">isExercised</a> () const</td></tr>
<tr class="separator:aab136d362b4d7108e6bf34b716c0a11a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06074e969d1719c291712897422bb1a1"><td class="memItemLeft" align="right" valign="top">const QuantLib::Date &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#a06074e969d1719c291712897422bb1a1">exerciseDate</a> () const</td></tr>
<tr class="separator:a06074e969d1719c291712897422bb1a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8486a0e4473085762ac8d3e0a61ce276"><td class="memItemLeft" align="right" valign="top">QuantLib::ext::shared_ptr&lt; QuantLib::CashFlow &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#a8486a0e4473085762ac8d3e0a61ce276">cashSettlement</a> () const</td></tr>
<tr class="separator:a8486a0e4473085762ac8d3e0a61ce276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1134c08e53bdfe294e7e724f9e0253a"><td class="memItemLeft" align="right" valign="top">QuantLib::ext::shared_ptr&lt; QuantLib::CashFlow &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#aa1134c08e53bdfe294e7e724f9e0253a">feeSettlement</a> () const</td></tr>
<tr class="separator:aa1134c08e53bdfe294e7e724f9e0253a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a623e092f25fe52d48efc8d9a0a328dc7"><td class="memItemLeft" align="right" valign="top">QuantLib::ext::shared_ptr&lt; QuantLib::Exercise &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#a623e092f25fe52d48efc8d9a0a328dc7">exercise_</a></td></tr>
<tr class="separator:a623e092f25fe52d48efc8d9a0a328dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6622affe0e3b62a85d9a351960995a0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; QuantLib::Date &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#ae6622affe0e3b62a85d9a351960995a0">exerciseDates_</a></td></tr>
<tr class="separator:ae6622affe0e3b62a85d9a351960995a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab16c8cf34544da2af44224e03090b2f6"><td class="memItemLeft" align="right" valign="top">std::vector&lt; QuantLib::Date &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#ab16c8cf34544da2af44224e03090b2f6">noticeDates_</a></td></tr>
<tr class="separator:ab16c8cf34544da2af44224e03090b2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc67796da086e3347c659c2ecba6abb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#acc67796da086e3347c659c2ecba6abb9">isExercised_</a> = false</td></tr>
<tr class="separator:acc67796da086e3347c659c2ecba6abb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3acbc2122a68c969e5a7f97426f5f9"><td class="memItemLeft" align="right" valign="top">QuantLib::Date&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#a1b3acbc2122a68c969e5a7f97426f5f9">exerciseDate_</a></td></tr>
<tr class="separator:a1b3acbc2122a68c969e5a7f97426f5f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc3f2347410951d69bd7ddcb9b825bf"><td class="memItemLeft" align="right" valign="top">QuantLib::ext::shared_ptr&lt; QuantLib::CashFlow &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#acbc3f2347410951d69bd7ddcb9b825bf">cashSettlement_</a></td></tr>
<tr class="separator:acbc3f2347410951d69bd7ddcb9b825bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab217b5c4bb541e32d31bd8c864819f11"><td class="memItemLeft" align="right" valign="top">QuantLib::ext::shared_ptr&lt; QuantLib::CashFlow &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#ab217b5c4bb541e32d31bd8c864819f11">feeSettlement_</a></td></tr>
<tr class="separator:ab217b5c4bb541e32d31bd8c864819f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d9d69041ddf918f8f04b9b6967cfeef"><td class="memItemLeft" align="right" valign="top">Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classore_1_1data_1_1_exercise_builder.html#a9d9d69041ddf918f8f04b9b6967cfeef">exerciseDateIndex_</a> = QuantLib::Null&lt;QuantLib::Size&gt;()</td></tr>
<tr class="separator:a9d9d69041ddf918f8f04b9b6967cfeef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00148">148</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a616a8a498a5610f9c35725ae63a8929f" name="a616a8a498a5610f9c35725ae63a8929f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a616a8a498a5610f9c35725ae63a8929f">&#9670;&#160;</a></span>ExerciseBuilder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classore_1_1data_1_1_exercise_builder.html">ExerciseBuilder</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classore_1_1data_1_1_option_data.html">OptionData</a> &amp;&#160;</td>
          <td class="paramname"><em>optionData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; QuantLib::Leg &gt;&#160;</td>
          <td class="paramname"><em>legs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>removeNoticeDatesAfterLastAccrualStart</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >TODO removeNoticeDatesAfterLastAccrualStart is only there for backwards compatibility, we should remove it at some point and handle such notice dates in the callling code as appropriate. If the exercise style is American the flag is set to false always internally. </p>

<p class="definition">Definition at line <a class="el" href="optiondata_8cpp_source.html#l00140">140</a> of file <a class="el" href="optiondata_8cpp_source.html">optiondata.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  141</span>                                                                              {</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>    <span class="comment">// for american style exercise, never remove notice dates after last accrual start</span></div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordflow">if</span> (optionData.style() == <span class="stringliteral">&quot;American&quot;</span>)</div>
<div class="line"><span class="lineno">  146</span>        removeNoticeDatesAfterLastAccrualStart = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    <span class="comment">// only keep a) future exercise dates and b) exercise dates that exercise into a whole</span></div>
<div class="line"><span class="lineno">  149</span>    <span class="comment">// accrual period of the underlying; TODO handle exercises into broken periods?</span></div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>    <span class="comment">// determine last accrual start date present in the underlying legs</span></div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>    Date lastAccrualStartDate = Date::minDate();</div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; l : legs) {</div>
<div class="line"><span class="lineno">  155</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; c : l) {</div>
<div class="line"><span class="lineno">  156</span>            <span class="keywordflow">if</span> (<span class="keyword">auto</span> cpn = QuantLib::ext::dynamic_pointer_cast&lt;Coupon&gt;(c))</div>
<div class="line"><span class="lineno">  157</span>                lastAccrualStartDate = std::max(lastAccrualStartDate, cpn-&gt;accrualStartDate());</div>
<div class="line"><span class="lineno">  158</span>        }</div>
<div class="line"><span class="lineno">  159</span>    }</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    <span class="comment">// get notice period, calendar, bdc</span></div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    Period noticePeriod = optionData.noticePeriod().empty() ? 0 * Days : <a class="code hl_function" href="group__utilities.html#ga8e0623e2cb01e250e9cfec4619256208">parsePeriod</a>(optionData.noticePeriod());</div>
<div class="line"><span class="lineno">  164</span>    Calendar noticeCal =</div>
<div class="line"><span class="lineno">  165</span>        optionData.noticeCalendar().empty() ? NullCalendar() : <a class="code hl_function" href="group__utilities.html#ga0f72d6fcccae10a674bdcd5095200f14">parseCalendar</a>(optionData.noticeCalendar());</div>
<div class="line"><span class="lineno">  166</span>    BusinessDayConvention noticeBdc =</div>
<div class="line"><span class="lineno">  167</span>        optionData.noticeConvention().empty() ? Unadjusted : <a class="code hl_function" href="group__utilities.html#ga86adcf55f91e340ff40783964666e732">parseBusinessDayConvention</a>(optionData.noticeConvention());</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    <span class="comment">// build vector of sorted exercise dates</span></div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>    std::vector&lt;QuantLib::Date&gt; sortedExerciseDates;</div>
<div class="line"><span class="lineno">  172</span>    <span class="keywordflow">if</span> (optionData.exerciseDatesSchedule().hasData()) {</div>
<div class="line"><span class="lineno">  173</span>        Schedule schedule = <a class="code hl_function" href="namespaceore_1_1data.html#af158e922cf963a59228878344ca5858d">makeSchedule</a>(optionData.exerciseDatesSchedule());</div>
<div class="line"><span class="lineno">  174</span>        sortedExerciseDates = schedule.dates();</div>
<div class="line"><span class="lineno">  175</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  176</span>        <span class="comment">// For backward compatibility</span></div>
<div class="line"><span class="lineno">  177</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; d : optionData.exerciseDates())</div>
<div class="line"><span class="lineno">  178</span>            sortedExerciseDates.push_back(<a class="code hl_function" href="group__utilities.html#ga59b5fdda574d90facae95dec2d13040d">parseDate</a>(d));</div>
<div class="line"><span class="lineno">  179</span>    }</div>
<div class="line"><span class="lineno">  180</span>    std::sort(sortedExerciseDates.begin(), sortedExerciseDates.end());</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    <span class="comment">// check that we have exactly two exercise dates for american style</span></div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>    QL_REQUIRE(optionData.style() != <span class="stringliteral">&quot;American&quot;</span> || sortedExerciseDates.size() == 2,</div>
<div class="line"><span class="lineno">  185</span>               <span class="stringliteral">&quot;ExerciseBuilder: expected 2 exercise dates for style &#39;American&#39;, got &quot;</span> &lt;&lt; sortedExerciseDates.size());</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>    <span class="comment">// build vector of alive exercise dates and corresponding notice dates</span></div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>    std::vector&lt;bool&gt; isExerciseDateAlive(sortedExerciseDates.size(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    Date today = Settings::instance().evaluationDate();</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">for</span> (Size i = 0; i &lt; sortedExerciseDates.size(); i++) {</div>
<div class="line"><span class="lineno">  194</span>        Date noticeDate = noticeCal.advance(sortedExerciseDates[i], -noticePeriod, noticeBdc);</div>
<div class="line"><span class="lineno">  195</span>        <span class="comment">// keep two alive notice dates always for american style exercise</span></div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">if</span> (optionData.style() == <span class="stringliteral">&quot;American&quot;</span> &amp;&amp; i == 0) {</div>
<div class="line"><span class="lineno">  197</span>            noticeDate = std::max(today + 1, noticeDate);</div>
<div class="line"><span class="lineno">  198</span>            sortedExerciseDates[0] = std::max(today + 1, sortedExerciseDates[0]);</div>
<div class="line"><span class="lineno">  199</span>        }</div>
<div class="line"><span class="lineno">  200</span>        <span class="keywordflow">if</span> (noticeDate &gt; today &amp;&amp; (noticeDate &lt;= lastAccrualStartDate || !removeNoticeDatesAfterLastAccrualStart)) {</div>
<div class="line"><span class="lineno">  201</span>            isExerciseDateAlive[i] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  202</span>            <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ab16c8cf34544da2af44224e03090b2f6">noticeDates_</a>.push_back(noticeDate);</div>
<div class="line"><span class="lineno">  203</span>            <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ae6622affe0e3b62a85d9a351960995a0">exerciseDates_</a>.push_back(sortedExerciseDates[i]);</div>
<div class="line"><span class="lineno">  204</span>            <a class="code hl_define" href="log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;Got notice date &quot;</span> &lt;&lt; QuantLib::io::iso_date(noticeDate) &lt;&lt; <span class="stringliteral">&quot; using notice period &quot;</span> &lt;&lt; noticePeriod</div>
<div class="line"><span class="lineno">  205</span>                                    &lt;&lt; <span class="stringliteral">&quot;, convention &quot;</span> &lt;&lt; noticeBdc &lt;&lt; <span class="stringliteral">&quot;, calendar &quot;</span> &lt;&lt; noticeCal.name()</div>
<div class="line"><span class="lineno">  206</span>                                    &lt;&lt; <span class="stringliteral">&quot; from exercise date &quot;</span> &lt;&lt; <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ae6622affe0e3b62a85d9a351960995a0">exerciseDates_</a>.back());</div>
<div class="line"><span class="lineno">  207</span>        }</div>
<div class="line"><span class="lineno">  208</span>        <span class="keywordflow">if</span> (noticeDate &gt; lastAccrualStartDate &amp;&amp; removeNoticeDatesAfterLastAccrualStart)</div>
<div class="line"><span class="lineno">  209</span>            <a class="code hl_define" href="log_8hpp.html#a9622ca943201e814041f051b7a10b3ea">WLOG</a>(<span class="stringliteral">&quot;Remove notice date &quot;</span> &lt;&lt; <a class="code hl_function" href="namespaceore_1_1data.html#a86651dfeb5c18ee891f7a4734d8cf455">ore::data::to_string</a>(noticeDate) &lt;&lt; <span class="stringliteral">&quot; (exercise date &quot;</span></div>
<div class="line"><span class="lineno">  210</span>                                       &lt;&lt; sortedExerciseDates[i] &lt;&lt; <span class="stringliteral">&quot;) after last accrual start date &quot;</span></div>
<div class="line"><span class="lineno">  211</span>                                       &lt;&lt; ore ::data::to_string(lastAccrualStartDate));</div>
<div class="line"><span class="lineno">  212</span>    }</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>    <span class="comment">// build exercise instance if we have alive notice dates</span></div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ab16c8cf34544da2af44224e03090b2f6">noticeDates_</a>.empty()) {</div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">if</span> (optionData.style() == <span class="stringliteral">&quot;European&quot;</span>) {</div>
<div class="line"><span class="lineno">  218</span>            QL_REQUIRE(<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ae6622affe0e3b62a85d9a351960995a0">exerciseDates_</a>.size() == 1, <span class="stringliteral">&quot;Got &#39;European&#39; option style, but &quot;</span></div>
<div class="line"><span class="lineno">  219</span>                                                       &lt;&lt; <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ae6622affe0e3b62a85d9a351960995a0">exerciseDates_</a>.size()</div>
<div class="line"><span class="lineno">  220</span>                                                       &lt;&lt; <span class="stringliteral">&quot; exercise dates. Should the style be &#39;Bermudan&#39;?&quot;</span>);</div>
<div class="line"><span class="lineno">  221</span>            <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a623e092f25fe52d48efc8d9a0a328dc7">exercise_</a> = QuantLib::ext::make_shared&lt;EuropeanExercise&gt;(<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ab16c8cf34544da2af44224e03090b2f6">noticeDates_</a>.back());</div>
<div class="line"><span class="lineno">  222</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (optionData.style() == <span class="stringliteral">&quot;Bermudan&quot;</span> || optionData.style().empty()) {</div>
<div class="line"><span class="lineno">  223</span>            <span class="comment">// Note: empty exercise style defaults to Bermudan for backwards compatibility</span></div>
<div class="line"><span class="lineno">  224</span>            <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a623e092f25fe52d48efc8d9a0a328dc7">exercise_</a> = QuantLib::ext::make_shared&lt;BermudanExercise&gt;(<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ab16c8cf34544da2af44224e03090b2f6">noticeDates_</a>);</div>
<div class="line"><span class="lineno">  225</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (optionData.style() == <span class="stringliteral">&quot;American&quot;</span>) {</div>
<div class="line"><span class="lineno">  226</span>            QL_REQUIRE(<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ab16c8cf34544da2af44224e03090b2f6">noticeDates_</a>.size() == 2, <span class="stringliteral">&quot;ExerciseBuilder: internal error, style is american but got &quot;</span></div>
<div class="line"><span class="lineno">  227</span>                                                     &lt;&lt; <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ab16c8cf34544da2af44224e03090b2f6">noticeDates_</a>.size() &lt;&lt; <span class="stringliteral">&quot; notice dates, expected 2.&quot;</span>);</div>
<div class="line"><span class="lineno">  228</span>            <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a623e092f25fe52d48efc8d9a0a328dc7">exercise_</a> = QuantLib::ext::make_shared&lt;AmericanExercise&gt;(<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ab16c8cf34544da2af44224e03090b2f6">noticeDates_</a>.front(), <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ab16c8cf34544da2af44224e03090b2f6">noticeDates_</a>.back(),</div>
<div class="line"><span class="lineno">  229</span>                                                             optionData.payoffAtExpiry());</div>
<div class="line"><span class="lineno">  230</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  231</span>            QL_FAIL(<span class="stringliteral">&quot;ExerciseBuilder: style &#39;&quot;</span></div>
<div class="line"><span class="lineno">  232</span>                    &lt;&lt; optionData.style() &lt;&lt; <span class="stringliteral">&quot;&#39; not recognized. Expected one of &#39;European&#39;, &#39;Bermudan&#39;, &#39;American&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  233</span>        }</div>
<div class="line"><span class="lineno">  234</span>    }</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    <span class="comment">// check if the exercise right was executed and if so set cash settlement amount</span></div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordflow">if</span> (optionData.exerciseData()) {</div>
<div class="line"><span class="lineno">  239</span>        Date d = optionData.exerciseData()-&gt;date();</div>
<div class="line"><span class="lineno">  240</span>        Real p = optionData.exerciseData()-&gt;price();</div>
<div class="line"><span class="lineno">  241</span>        <span class="keyword">auto</span> nextDate = std::lower_bound(sortedExerciseDates.begin(), sortedExerciseDates.end(), d);</div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">if</span> (nextDate != sortedExerciseDates.end()) {</div>
<div class="line"><span class="lineno">  243</span>            <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#acc67796da086e3347c659c2ecba6abb9">isExercised_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  244</span>            <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a9d9d69041ddf918f8f04b9b6967cfeef">exerciseDateIndex_</a> = std::distance(sortedExerciseDates.begin(), nextDate);</div>
<div class="line"><span class="lineno">  245</span>            <span class="comment">// Note: we set the exercise date to the notification date here</span></div>
<div class="line"><span class="lineno">  246</span>            <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a1b3acbc2122a68c969e5a7f97426f5f9">exerciseDate_</a> = optionData.style() == <span class="stringliteral">&quot;American&quot;</span> ? d : *nextDate;</div>
<div class="line"><span class="lineno">  247</span>            <a class="code hl_define" href="log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;Option is exercised, exercise date = &quot;</span> &lt;&lt; <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a1b3acbc2122a68c969e5a7f97426f5f9">exerciseDate_</a>);</div>
<div class="line"><span class="lineno">  248</span>            <span class="keywordflow">if</span> (optionData.settlement() == <span class="stringliteral">&quot;Cash&quot;</span>) {</div>
<div class="line"><span class="lineno">  249</span>                Date cashSettlementDate = d; <span class="comment">// default to exercise date</span></div>
<div class="line"><span class="lineno">  250</span>                <span class="keywordflow">if</span> (optionData.paymentData()) {</div>
<div class="line"><span class="lineno">  251</span>                    <span class="keywordflow">if</span> (optionData.paymentData()-&gt;rulesBased()) {</div>
<div class="line"><span class="lineno">  252</span>                        cashSettlementDate = optionData.paymentData()-&gt;calendar().advance(</div>
<div class="line"><span class="lineno">  253</span>                            d, optionData.paymentData()-&gt;lag(), Days, optionData.paymentData()-&gt;convention());</div>
<div class="line"><span class="lineno">  254</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  255</span>                        <span class="keyword">auto</span> <span class="keyword">const</span>&amp; dates = optionData.paymentData()-&gt;dates();</div>
<div class="line"><span class="lineno">  256</span>                        <span class="keyword">auto</span> nextDate = std::lower_bound(dates.begin(), dates.end(), d);</div>
<div class="line"><span class="lineno">  257</span>                        <span class="keywordflow">if</span> (nextDate != dates.end())</div>
<div class="line"><span class="lineno">  258</span>                            cashSettlementDate = *nextDate;</div>
<div class="line"><span class="lineno">  259</span>                    }</div>
<div class="line"><span class="lineno">  260</span>                }</div>
<div class="line"><span class="lineno">  261</span>                <span class="keywordflow">if</span> (p != Null&lt;Real&gt;())</div>
<div class="line"><span class="lineno">  262</span>                    <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#acbc3f2347410951d69bd7ddcb9b825bf">cashSettlement_</a> = QuantLib::ext::make_shared&lt;QuantLib::SimpleCashFlow&gt;(p, cashSettlementDate);</div>
<div class="line"><span class="lineno">  263</span>                <a class="code hl_define" href="log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;Option is cash settled, amount &quot;</span> &lt;&lt; p &lt;&lt; <span class="stringliteral">&quot; paid on &quot;</span> &lt;&lt; cashSettlementDate);</div>
<div class="line"><span class="lineno">  264</span>            }</div>
<div class="line"><span class="lineno">  265</span>        }</div>
<div class="line"><span class="lineno">  266</span>    }</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>    <span class="comment">// build fee and rebated exercise instance, if any fees are present</span></div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>    <span class="keywordflow">if</span> (!optionData.exerciseFees().empty()) {</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>        QL_REQUIRE(optionData.style() != <span class="stringliteral">&quot;American&quot;</span> || optionData.exerciseFees().size() == 1,</div>
<div class="line"><span class="lineno">  273</span>                   <span class="stringliteral">&quot;ExerciseBuilder: for style &#39;American&#39; at most one exercise fee is allowed&quot;</span>);</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>        <span class="comment">// build an exercise date &quot;schedule&quot; by adding the maximum possible date at the end</span></div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>        std::vector&lt;Date&gt; exDatesPlusInf(sortedExerciseDates);</div>
<div class="line"><span class="lineno">  278</span>        exDatesPlusInf.push_back(Date::maxDate());</div>
<div class="line"><span class="lineno">  279</span>        vector&lt;double&gt; allRebates = <a class="code hl_function" href="namespaceore_1_1data.html#a0ac332ac8261c00686a95df64cf16560">buildScheduledVectorNormalised</a>(optionData.exerciseFees(),</div>
<div class="line"><span class="lineno">  280</span>                                                                   optionData.exerciseFeeDates(), exDatesPlusInf, 0.0);</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>        <span class="comment">// flip the sign of the fee to get a rebate</span></div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; r : allRebates)</div>
<div class="line"><span class="lineno">  285</span>            r = -r;</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>        vector&lt;string&gt; feeType = buildScheduledVectorNormalised&lt;string&gt;(</div>
<div class="line"><span class="lineno">  288</span>            optionData.exerciseFeeTypes(), optionData.exerciseFeeDates(), exDatesPlusInf, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>        <span class="comment">// convert relative to absolute fees if required</span></div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>        <span class="keywordflow">for</span> (Size i = 0; i &lt; allRebates.size(); ++i) {</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>            <span class="comment">// default to Absolute</span></div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>            <span class="keywordflow">if</span> (feeType[i].empty())</div>
<div class="line"><span class="lineno">  297</span>                feeType[i] = <span class="stringliteral">&quot;Absolute&quot;</span>;</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>            <span class="keywordflow">if</span> (feeType[i] == <span class="stringliteral">&quot;Percentage&quot;</span>) {</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>                <span class="comment">// get next coupon after exercise to determine relevant notional</span></div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>                std::set&lt;std::pair&lt;Date, Real&gt;&gt; notionals;</div>
<div class="line"><span class="lineno">  304</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; l : legs) {</div>
<div class="line"><span class="lineno">  305</span>                    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; c : l) {</div>
<div class="line"><span class="lineno">  306</span>                        <span class="keywordflow">if</span> (<span class="keyword">auto</span> cpn = QuantLib::ext::dynamic_pointer_cast&lt;Coupon&gt;(c)) {</div>
<div class="line"><span class="lineno">  307</span>                            <span class="keywordflow">if</span> (cpn-&gt;accrualStartDate() &gt;= sortedExerciseDates[i])</div>
<div class="line"><span class="lineno">  308</span>                                notionals.insert(std::make_pair(cpn-&gt;accrualStartDate(), cpn-&gt;nominal()));</div>
<div class="line"><span class="lineno">  309</span>                        }</div>
<div class="line"><span class="lineno">  310</span>                    }</div>
<div class="line"><span class="lineno">  311</span>                }</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>                <span class="keywordflow">if</span> (notionals.empty())</div>
<div class="line"><span class="lineno">  314</span>                    allRebates[i] = 0.0; <span class="comment">// notional is zero</span></div>
<div class="line"><span class="lineno">  315</span>                <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  316</span>                    Real feeNotional = notionals.begin()-&gt;second;</div>
<div class="line"><span class="lineno">  317</span>                    <a class="code hl_define" href="log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;Convert percentage rebate &quot;</span></div>
<div class="line"><span class="lineno">  318</span>                         &lt;&lt; allRebates[i] &lt;&lt; <span class="stringliteral">&quot; to absolute rebate &quot;</span> &lt;&lt; allRebates[i] * feeNotional &lt;&lt; <span class="stringliteral">&quot; using nominal &quot;</span></div>
<div class="line"><span class="lineno">  319</span>                         &lt;&lt; feeNotional &lt;&lt; <span class="stringliteral">&quot; for exercise date &quot;</span> &lt;&lt; QuantLib::io::iso_date(sortedExerciseDates[i]));</div>
<div class="line"><span class="lineno">  320</span>                    allRebates[i] *= feeNotional; <span class="comment">// multiply percentage fee by relevant notional</span></div>
<div class="line"><span class="lineno">  321</span>                }</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  324</span>                QL_REQUIRE(feeType[i] == <span class="stringliteral">&quot;Absolute&quot;</span>, <span class="stringliteral">&quot;fee type must be Absolute or Relative&quot;</span>);</div>
<div class="line"><span class="lineno">  325</span>            }</div>
<div class="line"><span class="lineno">  326</span>        }</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>        <span class="comment">// set fee settlement conventions</span></div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>        Period feeSettlPeriod = optionData.exerciseFeeSettlementPeriod().empty()</div>
<div class="line"><span class="lineno">  331</span>                                    ? 0 * Days</div>
<div class="line"><span class="lineno">  332</span>                                    : <a class="code hl_function" href="group__utilities.html#ga8e0623e2cb01e250e9cfec4619256208">parsePeriod</a>(optionData.exerciseFeeSettlementPeriod());</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>        Calendar feeSettlCal = optionData.exerciseFeeSettlementCalendar().empty()</div>
<div class="line"><span class="lineno">  335</span>                                   ? NullCalendar()</div>
<div class="line"><span class="lineno">  336</span>                                   : <a class="code hl_function" href="group__utilities.html#ga0f72d6fcccae10a674bdcd5095200f14">parseCalendar</a>(optionData.exerciseFeeSettlementCalendar());</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>        BusinessDayConvention feeSettlBdc =</div>
<div class="line"><span class="lineno">  339</span>            optionData.exerciseFeeSettlementConvention().empty()</div>
<div class="line"><span class="lineno">  340</span>                ? Unadjusted</div>
<div class="line"><span class="lineno">  341</span>                : <a class="code hl_function" href="group__utilities.html#ga86adcf55f91e340ff40783964666e732">parseBusinessDayConvention</a>(optionData.exerciseFeeSettlementConvention());</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>        <span class="comment">// set fee settlement amount if option is exercised</span></div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#acc67796da086e3347c659c2ecba6abb9">isExercised_</a>) {</div>
<div class="line"><span class="lineno">  346</span>            <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ab217b5c4bb541e32d31bd8c864819f11">feeSettlement_</a> = QuantLib::ext::make_shared&lt;QuantLib::SimpleCashFlow&gt;(</div>
<div class="line"><span class="lineno">  347</span>                -allRebates[<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a9d9d69041ddf918f8f04b9b6967cfeef">exerciseDateIndex_</a>], feeSettlCal.advance(<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a1b3acbc2122a68c969e5a7f97426f5f9">exerciseDate_</a>, feeSettlPeriod, feeSettlBdc));</div>
<div class="line"><span class="lineno">  348</span>            <a class="code hl_define" href="log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;Settlement fee for exercised option is &quot;</span> &lt;&lt; <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ab217b5c4bb541e32d31bd8c864819f11">feeSettlement_</a>-&gt;amount() &lt;&lt; <span class="stringliteral">&quot; paid on &quot;</span></div>
<div class="line"><span class="lineno">  349</span>                                                           &lt;&lt; <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ab217b5c4bb541e32d31bd8c864819f11">feeSettlement_</a>-&gt;date() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>);</div>
<div class="line"><span class="lineno">  350</span>        }</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>        <span class="comment">// update exercise instance with rebate information</span></div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a623e092f25fe52d48efc8d9a0a328dc7">exercise_</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  355</span>            vector&lt;double&gt; rebates;</div>
<div class="line"><span class="lineno">  356</span>            <span class="keywordflow">for</span> (Size i = 0; i &lt; sortedExerciseDates.size(); ++i) {</div>
<div class="line"><span class="lineno">  357</span>                <span class="keywordflow">if</span> (isExerciseDateAlive[i])</div>
<div class="line"><span class="lineno">  358</span>                    rebates.push_back(allRebates[i]);</div>
<div class="line"><span class="lineno">  359</span>            }</div>
<div class="line"><span class="lineno">  360</span>            <span class="keywordflow">if</span> (optionData.style() == <span class="stringliteral">&quot;American&quot;</span>) {</div>
<div class="line"><span class="lineno">  361</span>                <span class="comment">// Note: we compute the settl date relative to notification, not exercise here</span></div>
<div class="line"><span class="lineno">  362</span>                <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a623e092f25fe52d48efc8d9a0a328dc7">exercise_</a> = QuantLib::ext::make_shared&lt;QuantExt::RebatedExercise&gt;(*<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a623e092f25fe52d48efc8d9a0a328dc7">exercise_</a>, rebates.front(), feeSettlPeriod,</div>
<div class="line"><span class="lineno">  363</span>                                                                          feeSettlCal, feeSettlBdc);</div>
<div class="line"><span class="lineno">  364</span>                <span class="keyword">auto</span> dbgEx = QuantLib::ext::static_pointer_cast&lt;QuantExt::RebatedExercise&gt;(<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a623e092f25fe52d48efc8d9a0a328dc7">exercise_</a>);</div>
<div class="line"><span class="lineno">  365</span>                <a class="code hl_define" href="log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;Got rebate &quot;</span> &lt;&lt; dbgEx-&gt;rebate(0) &lt;&lt; <span class="stringliteral">&quot; for American exercise with fee settle period &quot;</span></div>
<div class="line"><span class="lineno">  366</span>                                   &lt;&lt; feeSettlPeriod &lt;&lt; <span class="stringliteral">&quot;, cal &quot;</span> &lt;&lt; feeSettlCal &lt;&lt; <span class="stringliteral">&quot;, bdc &quot;</span> &lt;&lt; feeSettlBdc);</div>
<div class="line"><span class="lineno">  367</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  368</span>                <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a623e092f25fe52d48efc8d9a0a328dc7">exercise_</a> = QuantLib::ext::make_shared&lt;QuantExt::RebatedExercise&gt;(*<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a623e092f25fe52d48efc8d9a0a328dc7">exercise_</a>, <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ae6622affe0e3b62a85d9a351960995a0">exerciseDates_</a>, rebates,</div>
<div class="line"><span class="lineno">  369</span>                                                                          feeSettlPeriod, feeSettlCal, feeSettlBdc);</div>
<div class="line"><span class="lineno">  370</span>                <span class="keyword">auto</span> dbgEx = QuantLib::ext::static_pointer_cast&lt;QuantExt::RebatedExercise&gt;(<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a623e092f25fe52d48efc8d9a0a328dc7">exercise_</a>);</div>
<div class="line"><span class="lineno">  371</span>                <span class="keywordflow">for</span> (Size i = 0; i &lt; <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ae6622affe0e3b62a85d9a351960995a0">exerciseDates_</a>.size(); ++i) {</div>
<div class="line"><span class="lineno">  372</span>                    <a class="code hl_define" href="log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a>(<span class="stringliteral">&quot;Got rebate &quot;</span> &lt;&lt; dbgEx-&gt;rebate(i) &lt;&lt; <span class="stringliteral">&quot; with payment date &quot;</span></div>
<div class="line"><span class="lineno">  373</span>                                       &lt;&lt; QuantLib::io::iso_date(dbgEx-&gt;rebatePaymentDate(i))</div>
<div class="line"><span class="lineno">  374</span>                                       &lt;&lt; <span class="stringliteral">&quot; (exercise date=&quot;</span> &lt;&lt; QuantLib::io::iso_date(<a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ae6622affe0e3b62a85d9a351960995a0">exerciseDates_</a>[i])</div>
<div class="line"><span class="lineno">  375</span>                                       &lt;&lt; <span class="stringliteral">&quot;) using rebate settl period &quot;</span> &lt;&lt; feeSettlPeriod &lt;&lt; <span class="stringliteral">&quot;, calendar &quot;</span></div>
<div class="line"><span class="lineno">  376</span>                                       &lt;&lt; feeSettlCal &lt;&lt; <span class="stringliteral">&quot;, convention &quot;</span> &lt;&lt; feeSettlBdc);</div>
<div class="line"><span class="lineno">  377</span>                }</div>
<div class="line"><span class="lineno">  378</span>            }</div>
<div class="line"><span class="lineno">  379</span>        }</div>
<div class="line"><span class="lineno">  380</span>    } <span class="comment">// if exercise fees are given</span></div>
<div class="line"><span class="lineno">  381</span>} <span class="comment">// ExerciseBuilder()</span></div>
<div class="ttc" id="aclassore_1_1data_1_1_exercise_builder_html_a1b3acbc2122a68c969e5a7f97426f5f9"><div class="ttname"><a href="classore_1_1data_1_1_exercise_builder.html#a1b3acbc2122a68c969e5a7f97426f5f9">ore::data::ExerciseBuilder::exerciseDate_</a></div><div class="ttdeci">QuantLib::Date exerciseDate_</div><div class="ttdef"><b>Definition:</b> <a href="optiondata_8hpp_source.html#l00179">optiondata.hpp:179</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_exercise_builder_html_a623e092f25fe52d48efc8d9a0a328dc7"><div class="ttname"><a href="classore_1_1data_1_1_exercise_builder.html#a623e092f25fe52d48efc8d9a0a328dc7">ore::data::ExerciseBuilder::exercise_</a></div><div class="ttdeci">QuantLib::ext::shared_ptr&lt; QuantLib::Exercise &gt; exercise_</div><div class="ttdef"><b>Definition:</b> <a href="optiondata_8hpp_source.html#l00173">optiondata.hpp:173</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_exercise_builder_html_a9d9d69041ddf918f8f04b9b6967cfeef"><div class="ttname"><a href="classore_1_1data_1_1_exercise_builder.html#a9d9d69041ddf918f8f04b9b6967cfeef">ore::data::ExerciseBuilder::exerciseDateIndex_</a></div><div class="ttdeci">Size exerciseDateIndex_</div><div class="ttdef"><b>Definition:</b> <a href="optiondata_8hpp_source.html#l00184">optiondata.hpp:184</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_exercise_builder_html_ab16c8cf34544da2af44224e03090b2f6"><div class="ttname"><a href="classore_1_1data_1_1_exercise_builder.html#ab16c8cf34544da2af44224e03090b2f6">ore::data::ExerciseBuilder::noticeDates_</a></div><div class="ttdeci">std::vector&lt; QuantLib::Date &gt; noticeDates_</div><div class="ttdef"><b>Definition:</b> <a href="optiondata_8hpp_source.html#l00176">optiondata.hpp:176</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_exercise_builder_html_ab217b5c4bb541e32d31bd8c864819f11"><div class="ttname"><a href="classore_1_1data_1_1_exercise_builder.html#ab217b5c4bb541e32d31bd8c864819f11">ore::data::ExerciseBuilder::feeSettlement_</a></div><div class="ttdeci">QuantLib::ext::shared_ptr&lt; QuantLib::CashFlow &gt; feeSettlement_</div><div class="ttdef"><b>Definition:</b> <a href="optiondata_8hpp_source.html#l00181">optiondata.hpp:181</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_exercise_builder_html_acbc3f2347410951d69bd7ddcb9b825bf"><div class="ttname"><a href="classore_1_1data_1_1_exercise_builder.html#acbc3f2347410951d69bd7ddcb9b825bf">ore::data::ExerciseBuilder::cashSettlement_</a></div><div class="ttdeci">QuantLib::ext::shared_ptr&lt; QuantLib::CashFlow &gt; cashSettlement_</div><div class="ttdef"><b>Definition:</b> <a href="optiondata_8hpp_source.html#l00180">optiondata.hpp:180</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_exercise_builder_html_acc67796da086e3347c659c2ecba6abb9"><div class="ttname"><a href="classore_1_1data_1_1_exercise_builder.html#acc67796da086e3347c659c2ecba6abb9">ore::data::ExerciseBuilder::isExercised_</a></div><div class="ttdeci">bool isExercised_</div><div class="ttdef"><b>Definition:</b> <a href="optiondata_8hpp_source.html#l00178">optiondata.hpp:178</a></div></div>
<div class="ttc" id="aclassore_1_1data_1_1_exercise_builder_html_ae6622affe0e3b62a85d9a351960995a0"><div class="ttname"><a href="classore_1_1data_1_1_exercise_builder.html#ae6622affe0e3b62a85d9a351960995a0">ore::data::ExerciseBuilder::exerciseDates_</a></div><div class="ttdeci">std::vector&lt; QuantLib::Date &gt; exerciseDates_</div><div class="ttdef"><b>Definition:</b> <a href="optiondata_8hpp_source.html#l00175">optiondata.hpp:175</a></div></div>
<div class="ttc" id="agroup__utilities_html_ga0f72d6fcccae10a674bdcd5095200f14"><div class="ttname"><a href="group__utilities.html#ga0f72d6fcccae10a674bdcd5095200f14">ore::data::parseCalendar</a></div><div class="ttdeci">Calendar parseCalendar(const string &amp;s)</div><div class="ttdoc">Convert text to QuantLib::Calendar.</div><div class="ttdef"><b>Definition:</b> <a href="parsers_8cpp_source.html#l00157">parsers.cpp:157</a></div></div>
<div class="ttc" id="agroup__utilities_html_ga59b5fdda574d90facae95dec2d13040d"><div class="ttname"><a href="group__utilities.html#ga59b5fdda574d90facae95dec2d13040d">ore::data::parseDate</a></div><div class="ttdeci">Date parseDate(const string &amp;s)</div><div class="ttdoc">Convert std::string to QuantLib::Date.</div><div class="ttdef"><b>Definition:</b> <a href="parsers_8cpp_source.html#l00051">parsers.cpp:51</a></div></div>
<div class="ttc" id="agroup__utilities_html_ga86adcf55f91e340ff40783964666e732"><div class="ttname"><a href="group__utilities.html#ga86adcf55f91e340ff40783964666e732">ore::data::parseBusinessDayConvention</a></div><div class="ttdeci">BusinessDayConvention parseBusinessDayConvention(const string &amp;s)</div><div class="ttdoc">Convert text to QuantLib::BusinessDayConvention.</div><div class="ttdef"><b>Definition:</b> <a href="parsers_8cpp_source.html#l00173">parsers.cpp:173</a></div></div>
<div class="ttc" id="agroup__utilities_html_ga8e0623e2cb01e250e9cfec4619256208"><div class="ttname"><a href="group__utilities.html#ga8e0623e2cb01e250e9cfec4619256208">ore::data::parsePeriod</a></div><div class="ttdeci">Period parsePeriod(const string &amp;s)</div><div class="ttdoc">Convert text to QuantLib::Period.</div><div class="ttdef"><b>Definition:</b> <a href="parsers_8cpp_source.html#l00171">parsers.cpp:171</a></div></div>
<div class="ttc" id="alog_8hpp_html_a34c7c8cde9b91d2eee82d7b9a0b66fd5"><div class="ttname"><a href="log_8hpp.html#a34c7c8cde9b91d2eee82d7b9a0b66fd5">DLOG</a></div><div class="ttdeci">#define DLOG(text)</div><div class="ttdoc">Logging Macro (Level = Debug)</div><div class="ttdef"><b>Definition:</b> <a href="log_8hpp_source.html#l00554">log.hpp:554</a></div></div>
<div class="ttc" id="alog_8hpp_html_a9622ca943201e814041f051b7a10b3ea"><div class="ttname"><a href="log_8hpp.html#a9622ca943201e814041f051b7a10b3ea">WLOG</a></div><div class="ttdeci">#define WLOG(text)</div><div class="ttdoc">Logging Macro (Level = Warning)</div><div class="ttdef"><b>Definition:</b> <a href="log_8hpp_source.html#l00550">log.hpp:550</a></div></div>
<div class="ttc" id="anamespaceore_1_1data_html_a0ac332ac8261c00686a95df64cf16560"><div class="ttname"><a href="namespaceore_1_1data.html#a0ac332ac8261c00686a95df64cf16560">ore::data::buildScheduledVectorNormalised</a></div><div class="ttdeci">vector&lt; T &gt; buildScheduledVectorNormalised(const vector&lt; T &gt; &amp;values, const vector&lt; string &gt; &amp;dates, const Schedule &amp;schedule, const T &amp;defaultValue, const bool checkAllValuesAppearInResult=false)</div><div class="ttdef"><b>Definition:</b> <a href="legdata_8hpp_source.html#l01139">legdata.hpp:1139</a></div></div>
<div class="ttc" id="anamespaceore_1_1data_html_a86651dfeb5c18ee891f7a4734d8cf455"><div class="ttname"><a href="namespaceore_1_1data.html#a86651dfeb5c18ee891f7a4734d8cf455">ore::data::to_string</a></div><div class="ttdeci">std::string to_string(const LocationInfo &amp;l)</div><div class="ttdef"><b>Definition:</b> <a href="ast_8cpp_source.html#l00028">ast.cpp:28</a></div></div>
<div class="ttc" id="anamespaceore_1_1data_html_af158e922cf963a59228878344ca5858d"><div class="ttname"><a href="namespaceore_1_1data.html#af158e922cf963a59228878344ca5858d">ore::data::makeSchedule</a></div><div class="ttdeci">Schedule makeSchedule(const ScheduleDates &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="ored_2portfolio_2schedule_8cpp_source.html#l00263">schedule.cpp:263</a></div></div>
</div><!-- fragment --><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classore_1_1data_1_1_exercise_builder_a616a8a498a5610f9c35725ae63a8929f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0d3cb99f0c4074d99e3773b4643b34b3" name="a0d3cb99f0c4074d99e3773b4643b34b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d3cb99f0c4074d99e3773b4643b34b3">&#9670;&#160;</a></span>exercise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::ext::shared_ptr&lt; QuantLib::Exercise &gt; exercise </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00157">157</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  157</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a623e092f25fe52d48efc8d9a0a328dc7">exercise_</a>; }</div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classore_1_1data_1_1_exercise_builder_a0d3cb99f0c4074d99e3773b4643b34b3_icgraph.svg" width="370" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a058392c0250f6f8c76e379c1a2e1b7eb" name="a058392c0250f6f8c76e379c1a2e1b7eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a058392c0250f6f8c76e379c1a2e1b7eb">&#9670;&#160;</a></span>exerciseDates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; QuantLib::Date &gt; &amp; exerciseDates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00159">159</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  159</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ae6622affe0e3b62a85d9a351960995a0">exerciseDates_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8b7af1f6171f85151cf6354ffe0d41b2" name="a8b7af1f6171f85151cf6354ffe0d41b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b7af1f6171f85151cf6354ffe0d41b2">&#9670;&#160;</a></span>noticeDates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; QuantLib::Date &gt; &amp; noticeDates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00161">161</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  161</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ab16c8cf34544da2af44224e03090b2f6">noticeDates_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aab136d362b4d7108e6bf34b716c0a11a" name="aab136d362b4d7108e6bf34b716c0a11a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab136d362b4d7108e6bf34b716c0a11a">&#9670;&#160;</a></span>isExercised()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> isExercised </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00164">164</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  164</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#acc67796da086e3347c659c2ecba6abb9">isExercised_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a06074e969d1719c291712897422bb1a1" name="a06074e969d1719c291712897422bb1a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06074e969d1719c291712897422bb1a1">&#9670;&#160;</a></span>exerciseDate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QuantLib::Date &amp; exerciseDate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00166">166</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  166</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#a1b3acbc2122a68c969e5a7f97426f5f9">exerciseDate_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8486a0e4473085762ac8d3e0a61ce276" name="a8486a0e4473085762ac8d3e0a61ce276"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8486a0e4473085762ac8d3e0a61ce276">&#9670;&#160;</a></span>cashSettlement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::ext::shared_ptr&lt; QuantLib::CashFlow &gt; cashSettlement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00168">168</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  168</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#acbc3f2347410951d69bd7ddcb9b825bf">cashSettlement_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa1134c08e53bdfe294e7e724f9e0253a" name="aa1134c08e53bdfe294e7e724f9e0253a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1134c08e53bdfe294e7e724f9e0253a">&#9670;&#160;</a></span>feeSettlement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::ext::shared_ptr&lt; QuantLib::CashFlow &gt; feeSettlement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00170">170</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  170</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classore_1_1data_1_1_exercise_builder.html#ab217b5c4bb541e32d31bd8c864819f11">feeSettlement_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a623e092f25fe52d48efc8d9a0a328dc7" name="a623e092f25fe52d48efc8d9a0a328dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a623e092f25fe52d48efc8d9a0a328dc7">&#9670;&#160;</a></span>exercise_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::ext::shared_ptr&lt;QuantLib::Exercise&gt; exercise_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00173">173</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>

</div>
</div>
<a id="ae6622affe0e3b62a85d9a351960995a0" name="ae6622affe0e3b62a85d9a351960995a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6622affe0e3b62a85d9a351960995a0">&#9670;&#160;</a></span>exerciseDates_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;QuantLib::Date&gt; exerciseDates_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00175">175</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>

</div>
</div>
<a id="ab16c8cf34544da2af44224e03090b2f6" name="ab16c8cf34544da2af44224e03090b2f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab16c8cf34544da2af44224e03090b2f6">&#9670;&#160;</a></span>noticeDates_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;QuantLib::Date&gt; noticeDates_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00176">176</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>

</div>
</div>
<a id="acc67796da086e3347c659c2ecba6abb9" name="acc67796da086e3347c659c2ecba6abb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc67796da086e3347c659c2ecba6abb9">&#9670;&#160;</a></span>isExercised_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> isExercised_ = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00178">178</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>

</div>
</div>
<a id="a1b3acbc2122a68c969e5a7f97426f5f9" name="a1b3acbc2122a68c969e5a7f97426f5f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b3acbc2122a68c969e5a7f97426f5f9">&#9670;&#160;</a></span>exerciseDate_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::Date exerciseDate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00179">179</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>

</div>
</div>
<a id="acbc3f2347410951d69bd7ddcb9b825bf" name="acbc3f2347410951d69bd7ddcb9b825bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbc3f2347410951d69bd7ddcb9b825bf">&#9670;&#160;</a></span>cashSettlement_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::ext::shared_ptr&lt;QuantLib::CashFlow&gt; cashSettlement_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00180">180</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>

</div>
</div>
<a id="ab217b5c4bb541e32d31bd8c864819f11" name="ab217b5c4bb541e32d31bd8c864819f11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab217b5c4bb541e32d31bd8c864819f11">&#9670;&#160;</a></span>feeSettlement_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantLib::ext::shared_ptr&lt;QuantLib::CashFlow&gt; feeSettlement_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00181">181</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>

</div>
</div>
<a id="a9d9d69041ddf918f8f04b9b6967cfeef" name="a9d9d69041ddf918f8f04b9b6967cfeef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d9d69041ddf918f8f04b9b6967cfeef">&#9670;&#160;</a></span>exerciseDateIndex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Size exerciseDateIndex_ = QuantLib::Null&lt;QuantLib::Size&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="optiondata_8hpp_source.html#l00184">184</a> of file <a class="el" href="optiondata_8hpp_source.html">optiondata.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.9.5
</small></address>
</body>
</html>
